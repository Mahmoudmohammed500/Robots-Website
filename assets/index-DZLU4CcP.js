function iM(e,t){for(var s=0;s<t.length;s++){const o=t[s];if(typeof o!="string"&&!Array.isArray(o)){for(const i in o)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(o,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>o[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();function QN(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _p={exports:{}},bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c1;function aM(){if(c1)return bl;c1=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(o,i,a){var c=null;if(a!==void 0&&(c=""+a),i.key!==void 0&&(c=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:e,type:o,key:c,ref:i!==void 0?i:null,props:a}}return bl.Fragment=t,bl.jsx=s,bl.jsxs=s,bl}var u1;function lM(){return u1||(u1=1,_p.exports=aM()),_p.exports}var d=lM(),Ep={exports:{}},dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d1;function cM(){if(d1)return dt;d1=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),b=Symbol.iterator;function j(B){return B===null||typeof B!="object"?null:(B=b&&B[b]||B["@@iterator"],typeof B=="function"?B:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,v={};function N(B,z,Z){this.props=B,this.context=z,this.refs=v,this.updater=Z||y}N.prototype.isReactComponent={},N.prototype.setState=function(B,z){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,z,"setState")},N.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function S(){}S.prototype=N.prototype;function _(B,z,Z){this.props=B,this.context=z,this.refs=v,this.updater=Z||y}var M=_.prototype=new S;M.constructor=_,w(M,N.prototype),M.isPureReactComponent=!0;var A=Array.isArray;function C(){}var R={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function U(B,z,Z){var pe=Z.ref;return{$$typeof:e,type:B,key:z,ref:pe!==void 0?pe:null,props:Z}}function L(B,z){return U(B.type,z,B.props)}function te(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function V(B){var z={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(Z){return z[Z]})}var ie=/\/+/g;function H(B,z){return typeof B=="object"&&B!==null&&B.key!=null?V(""+B.key):z.toString(36)}function re(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(C,C):(B.status="pending",B.then(function(z){B.status==="pending"&&(B.status="fulfilled",B.value=z)},function(z){B.status==="pending"&&(B.status="rejected",B.reason=z)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function $(B,z,Z,pe,he){var Ee=typeof B;(Ee==="undefined"||Ee==="boolean")&&(B=null);var de=!1;if(B===null)de=!0;else switch(Ee){case"bigint":case"string":case"number":de=!0;break;case"object":switch(B.$$typeof){case e:case t:de=!0;break;case m:return de=B._init,$(de(B._payload),z,Z,pe,he)}}if(de)return he=he(B),de=pe===""?"."+H(B,0):pe,A(he)?(Z="",de!=null&&(Z=de.replace(ie,"$&/")+"/"),$(he,z,Z,"",function(be){return be})):he!=null&&(te(he)&&(he=L(he,Z+(he.key==null||B&&B.key===he.key?"":(""+he.key).replace(ie,"$&/")+"/")+de)),z.push(he)),1;de=0;var le=pe===""?".":pe+":";if(A(B))for(var Se=0;Se<B.length;Se++)pe=B[Se],Ee=le+H(pe,Se),de+=$(pe,z,Z,Ee,he);else if(Se=j(B),typeof Se=="function")for(B=Se.call(B),Se=0;!(pe=B.next()).done;)pe=pe.value,Ee=le+H(pe,Se++),de+=$(pe,z,Z,Ee,he);else if(Ee==="object"){if(typeof B.then=="function")return $(re(B),z,Z,pe,he);throw z=String(B),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return de}function K(B,z,Z){if(B==null)return B;var pe=[],he=0;return $(B,pe,"","",function(Ee){return z.call(Z,Ee,he++)}),pe}function X(B){if(B._status===-1){var z=B._result;z=z(),z.then(function(Z){(B._status===0||B._status===-1)&&(B._status=1,B._result=Z)},function(Z){(B._status===0||B._status===-1)&&(B._status=2,B._result=Z)}),B._status===-1&&(B._status=0,B._result=z)}if(B._status===1)return B._result.default;throw B._result}var ne=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},G={map:K,forEach:function(B,z,Z){K(B,function(){z.apply(this,arguments)},Z)},count:function(B){var z=0;return K(B,function(){z++}),z},toArray:function(B){return K(B,function(z){return z})||[]},only:function(B){if(!te(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return dt.Activity=g,dt.Children=G,dt.Component=N,dt.Fragment=s,dt.Profiler=i,dt.PureComponent=_,dt.StrictMode=o,dt.Suspense=f,dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,dt.__COMPILER_RUNTIME={__proto__:null,c:function(B){return R.H.useMemoCache(B)}},dt.cache=function(B){return function(){return B.apply(null,arguments)}},dt.cacheSignal=function(){return null},dt.cloneElement=function(B,z,Z){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var pe=w({},B.props),he=B.key;if(z!=null)for(Ee in z.key!==void 0&&(he=""+z.key),z)!k.call(z,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&z.ref===void 0||(pe[Ee]=z[Ee]);var Ee=arguments.length-2;if(Ee===1)pe.children=Z;else if(1<Ee){for(var de=Array(Ee),le=0;le<Ee;le++)de[le]=arguments[le+2];pe.children=de}return U(B.type,he,pe)},dt.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:a,_context:B},B},dt.createElement=function(B,z,Z){var pe,he={},Ee=null;if(z!=null)for(pe in z.key!==void 0&&(Ee=""+z.key),z)k.call(z,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(he[pe]=z[pe]);var de=arguments.length-2;if(de===1)he.children=Z;else if(1<de){for(var le=Array(de),Se=0;Se<de;Se++)le[Se]=arguments[Se+2];he.children=le}if(B&&B.defaultProps)for(pe in de=B.defaultProps,de)he[pe]===void 0&&(he[pe]=de[pe]);return U(B,Ee,he)},dt.createRef=function(){return{current:null}},dt.forwardRef=function(B){return{$$typeof:u,render:B}},dt.isValidElement=te,dt.lazy=function(B){return{$$typeof:m,_payload:{_status:-1,_result:B},_init:X}},dt.memo=function(B,z){return{$$typeof:h,type:B,compare:z===void 0?null:z}},dt.startTransition=function(B){var z=R.T,Z={};R.T=Z;try{var pe=B(),he=R.S;he!==null&&he(Z,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(C,ne)}catch(Ee){ne(Ee)}finally{z!==null&&Z.types!==null&&(z.types=Z.types),R.T=z}},dt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},dt.use=function(B){return R.H.use(B)},dt.useActionState=function(B,z,Z){return R.H.useActionState(B,z,Z)},dt.useCallback=function(B,z){return R.H.useCallback(B,z)},dt.useContext=function(B){return R.H.useContext(B)},dt.useDebugValue=function(){},dt.useDeferredValue=function(B,z){return R.H.useDeferredValue(B,z)},dt.useEffect=function(B,z){return R.H.useEffect(B,z)},dt.useEffectEvent=function(B){return R.H.useEffectEvent(B)},dt.useId=function(){return R.H.useId()},dt.useImperativeHandle=function(B,z,Z){return R.H.useImperativeHandle(B,z,Z)},dt.useInsertionEffect=function(B,z){return R.H.useInsertionEffect(B,z)},dt.useLayoutEffect=function(B,z){return R.H.useLayoutEffect(B,z)},dt.useMemo=function(B,z){return R.H.useMemo(B,z)},dt.useOptimistic=function(B,z){return R.H.useOptimistic(B,z)},dt.useReducer=function(B,z,Z){return R.H.useReducer(B,z,Z)},dt.useRef=function(B){return R.H.useRef(B)},dt.useState=function(B){return R.H.useState(B)},dt.useSyncExternalStore=function(B,z,Z){return R.H.useSyncExternalStore(B,z,Z)},dt.useTransition=function(){return R.H.useTransition()},dt.version="19.2.0",dt}var f1;function Jy(){return f1||(f1=1,Ep.exports=cM()),Ep.exports}var O=Jy();const Ge=QN(O),eb=iM({__proto__:null,default:Ge},[O]);var Ap={exports:{}},xl={},Tp={exports:{}},Cp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h1;function uM(){return h1||(h1=1,(function(e){function t($,K){var X=$.length;$.push(K);e:for(;0<X;){var ne=X-1>>>1,G=$[ne];if(0<i(G,K))$[ne]=K,$[X]=G,X=ne;else break e}}function s($){return $.length===0?null:$[0]}function o($){if($.length===0)return null;var K=$[0],X=$.pop();if(X!==K){$[0]=X;e:for(var ne=0,G=$.length,B=G>>>1;ne<B;){var z=2*(ne+1)-1,Z=$[z],pe=z+1,he=$[pe];if(0>i(Z,X))pe<G&&0>i(he,Z)?($[ne]=he,$[pe]=X,ne=pe):($[ne]=Z,$[z]=X,ne=z);else if(pe<G&&0>i(he,X))$[ne]=he,$[pe]=X,ne=pe;else break e}}return K}function i($,K){var X=$.sortIndex-K.sortIndex;return X!==0?X:$.id-K.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var f=[],h=[],m=1,g=null,b=3,j=!1,y=!1,w=!1,v=!1,N=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function M($){for(var K=s(h);K!==null;){if(K.callback===null)o(h);else if(K.startTime<=$)o(h),K.sortIndex=K.expirationTime,t(f,K);else break;K=s(h)}}function A($){if(w=!1,M($),!y)if(s(f)!==null)y=!0,C||(C=!0,V());else{var K=s(h);K!==null&&re(A,K.startTime-$)}}var C=!1,R=-1,k=5,U=-1;function L(){return v?!0:!(e.unstable_now()-U<k)}function te(){if(v=!1,C){var $=e.unstable_now();U=$;var K=!0;try{e:{y=!1,w&&(w=!1,S(R),R=-1),j=!0;var X=b;try{t:{for(M($),g=s(f);g!==null&&!(g.expirationTime>$&&L());){var ne=g.callback;if(typeof ne=="function"){g.callback=null,b=g.priorityLevel;var G=ne(g.expirationTime<=$);if($=e.unstable_now(),typeof G=="function"){g.callback=G,M($),K=!0;break t}g===s(f)&&o(f),M($)}else o(f);g=s(f)}if(g!==null)K=!0;else{var B=s(h);B!==null&&re(A,B.startTime-$),K=!1}}break e}finally{g=null,b=X,j=!1}K=void 0}}finally{K?V():C=!1}}}var V;if(typeof _=="function")V=function(){_(te)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,H=ie.port2;ie.port1.onmessage=te,V=function(){H.postMessage(null)}}else V=function(){N(te,0)};function re($,K){R=N(function(){$(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function($){switch(b){case 1:case 2:case 3:var K=3;break;default:K=b}var X=b;b=K;try{return $()}finally{b=X}},e.unstable_requestPaint=function(){v=!0},e.unstable_runWithPriority=function($,K){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var X=b;b=$;try{return K()}finally{b=X}},e.unstable_scheduleCallback=function($,K,X){var ne=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ne+X:ne):X=ne,$){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=X+G,$={id:m++,callback:K,priorityLevel:$,startTime:X,expirationTime:G,sortIndex:-1},X>ne?($.sortIndex=X,t(h,$),s(f)===null&&$===s(h)&&(w?(S(R),R=-1):w=!0,re(A,X-ne))):($.sortIndex=G,t(f,$),y||j||(y=!0,C||(C=!0,V()))),$},e.unstable_shouldYield=L,e.unstable_wrapCallback=function($){var K=b;return function(){var X=b;b=K;try{return $.apply(this,arguments)}finally{b=X}}}})(Cp)),Cp}var p1;function dM(){return p1||(p1=1,Tp.exports=uM()),Tp.exports}var Rp={exports:{}},kr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m1;function fM(){if(m1)return kr;m1=1;var e=Jy();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(f,h,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:h,implementation:m}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return kr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,kr.createPortal=function(f,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return a(f,h,null,m)},kr.flushSync=function(f){var h=c.T,m=o.p;try{if(c.T=null,o.p=2,f)return f()}finally{c.T=h,o.p=m,o.d.f()}},kr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,o.d.C(f,h))},kr.prefetchDNS=function(f){typeof f=="string"&&o.d.D(f)},kr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var m=h.as,g=u(m,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,j=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?o.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:j}):m==="script"&&o.d.X(f,{crossOrigin:g,integrity:b,fetchPriority:j,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},kr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=u(h.as,h.crossOrigin);o.d.M(f,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&o.d.M(f)},kr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,g=u(m,h.crossOrigin);o.d.L(f,m,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},kr.preloadModule=function(f,h){if(typeof f=="string")if(h){var m=u(h.as,h.crossOrigin);o.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else o.d.m(f)},kr.requestFormReset=function(f){o.d.r(f)},kr.unstable_batchedUpdates=function(f,h){return f(h)},kr.useFormState=function(f,h,m){return c.H.useFormState(f,h,m)},kr.useFormStatus=function(){return c.H.useHostTransitionStatus()},kr.version="19.2.0",kr}var g1;function YN(){if(g1)return Rp.exports;g1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Rp.exports=fM(),Rp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y1;function hM(){if(y1)return xl;y1=1;var e=dM(),t=Jy(),s=YN();function o(r){var n="https://react.dev/errors/"+r;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var n=r,l=r;if(r.alternate)for(;n.return;)n=n.return;else{r=n;do n=r,(n.flags&4098)!==0&&(l=n.return),r=n.return;while(r)}return n.tag===3?l:null}function c(r){if(r.tag===13){var n=r.memoizedState;if(n===null&&(r=r.alternate,r!==null&&(n=r.memoizedState)),n!==null)return n.dehydrated}return null}function u(r){if(r.tag===31){var n=r.memoizedState;if(n===null&&(r=r.alternate,r!==null&&(n=r.memoizedState)),n!==null)return n.dehydrated}return null}function f(r){if(a(r)!==r)throw Error(o(188))}function h(r){var n=r.alternate;if(!n){if(n=a(r),n===null)throw Error(o(188));return n!==r?null:r}for(var l=r,p=n;;){var x=l.return;if(x===null)break;var E=x.alternate;if(E===null){if(p=x.return,p!==null){l=p;continue}break}if(x.child===E.child){for(E=x.child;E;){if(E===l)return f(x),r;if(E===p)return f(x),n;E=E.sibling}throw Error(o(188))}if(l.return!==p.return)l=x,p=E;else{for(var P=!1,J=x.child;J;){if(J===l){P=!0,l=x,p=E;break}if(J===p){P=!0,p=x,l=E;break}J=J.sibling}if(!P){for(J=E.child;J;){if(J===l){P=!0,l=E,p=x;break}if(J===p){P=!0,p=E,l=x;break}J=J.sibling}if(!P)throw Error(o(189))}}if(l.alternate!==p)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?r:n}function m(r){var n=r.tag;if(n===5||n===26||n===27||n===6)return r;for(r=r.child;r!==null;){if(n=m(r),n!==null)return n;r=r.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),_=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function V(r){return r===null||typeof r!="object"?null:(r=te&&r[te]||r["@@iterator"],typeof r=="function"?r:null)}var ie=Symbol.for("react.client.reference");function H(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===ie?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case w:return"Fragment";case N:return"Profiler";case v:return"StrictMode";case A:return"Suspense";case C:return"SuspenseList";case U:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case y:return"Portal";case _:return r.displayName||"Context";case S:return(r._context.displayName||"Context")+".Consumer";case M:var n=r.render;return r=r.displayName,r||(r=n.displayName||n.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case R:return n=r.displayName||null,n!==null?n:H(r.type)||"Memo";case k:n=r._payload,r=r._init;try{return H(r(n))}catch{}}return null}var re=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},ne=[],G=-1;function B(r){return{current:r}}function z(r){0>G||(r.current=ne[G],ne[G]=null,G--)}function Z(r,n){G++,ne[G]=r.current,r.current=n}var pe=B(null),he=B(null),Ee=B(null),de=B(null);function le(r,n){switch(Z(Ee,n),Z(he,r),Z(pe,null),n.nodeType){case 9:case 11:r=(r=n.documentElement)&&(r=r.namespaceURI)?kw(r):0;break;default:if(r=n.tagName,n=n.namespaceURI)n=kw(n),r=Ow(n,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}z(pe),Z(pe,r)}function Se(){z(pe),z(he),z(Ee)}function be(r){r.memoizedState!==null&&Z(de,r);var n=pe.current,l=Ow(n,r.type);n!==l&&(Z(he,r),Z(pe,l))}function ve(r){he.current===r&&(z(pe),z(he)),de.current===r&&(z(de),pl._currentValue=X)}var we,Pe;function Te(r){if(we===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);we=n&&n[1]||"",Pe=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+we+r+Pe}var ce=!1;function Y(r,n){if(!r||ce)return"";ce=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(n){var Ve=function(){throw Error()};if(Object.defineProperty(Ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ve,[])}catch(De){var ke=De}Reflect.construct(r,[],Ve)}else{try{Ve.call()}catch(De){ke=De}r.call(Ve.prototype)}}else{try{throw Error()}catch(De){ke=De}(Ve=r())&&typeof Ve.catch=="function"&&Ve.catch(function(){})}}catch(De){if(De&&ke&&typeof De.stack=="string")return[De.stack,ke.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=p.DetermineComponentFrameRoot(),P=E[0],J=E[1];if(P&&J){var ye=P.split(`
`),Re=J.split(`
`);for(x=p=0;p<ye.length&&!ye[p].includes("DetermineComponentFrameRoot");)p++;for(;x<Re.length&&!Re[x].includes("DetermineComponentFrameRoot");)x++;if(p===ye.length||x===Re.length)for(p=ye.length-1,x=Re.length-1;1<=p&&0<=x&&ye[p]!==Re[x];)x--;for(;1<=p&&0<=x;p--,x--)if(ye[p]!==Re[x]){if(p!==1||x!==1)do if(p--,x--,0>x||ye[p]!==Re[x]){var Le=`
`+ye[p].replace(" at new "," at ");return r.displayName&&Le.includes("<anonymous>")&&(Le=Le.replace("<anonymous>",r.displayName)),Le}while(1<=p&&0<=x);break}}}finally{ce=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?Te(l):""}function se(r,n){switch(r.tag){case 26:case 27:case 5:return Te(r.type);case 16:return Te("Lazy");case 13:return r.child!==n&&n!==null?Te("Suspense Fallback"):Te("Suspense");case 19:return Te("SuspenseList");case 0:case 15:return Y(r.type,!1);case 11:return Y(r.type.render,!1);case 1:return Y(r.type,!0);case 31:return Te("Activity");default:return""}}function q(r){try{var n="",l=null;do n+=se(r,l),l=r,r=r.return;while(r);return n}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var I=Object.prototype.hasOwnProperty,ee=e.unstable_scheduleCallback,Q=e.unstable_cancelCallback,W=e.unstable_shouldYield,ue=e.unstable_requestPaint,ae=e.unstable_now,Me=e.unstable_getCurrentPriorityLevel,T=e.unstable_ImmediatePriority,D=e.unstable_UserBlockingPriority,F=e.unstable_NormalPriority,me=e.unstable_LowPriority,ge=e.unstable_IdlePriority,Ae=e.log,$e=e.unstable_setDisableYieldValue,xe=null,_e=null;function Xe(r){if(typeof Ae=="function"&&$e(r),_e&&typeof _e.setStrictMode=="function")try{_e.setStrictMode(xe,r)}catch{}}var Ye=Math.clz32?Math.clz32:er,ot=Math.log,ut=Math.LN2;function er(r){return r>>>=0,r===0?32:31-(ot(r)/ut|0)|0}var jr=256,Ht=262144,yr=4194304;function Nr(r){var n=r&42;if(n!==0)return n;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function nt(r,n,l){var p=r.pendingLanes;if(p===0)return 0;var x=0,E=r.suspendedLanes,P=r.pingedLanes;r=r.warmLanes;var J=p&134217727;return J!==0?(p=J&~E,p!==0?x=Nr(p):(P&=J,P!==0?x=Nr(P):l||(l=J&~r,l!==0&&(x=Nr(l))))):(J=p&~E,J!==0?x=Nr(J):P!==0?x=Nr(P):l||(l=p&~r,l!==0&&(x=Nr(l)))),x===0?0:n!==0&&n!==x&&(n&E)===0&&(E=x&-x,l=n&-n,E>=l||E===32&&(l&4194048)!==0)?n:x}function gt(r,n){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&n)===0}function Gt(r,n){switch(r){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wt(){var r=yr;return yr<<=1,(yr&62914560)===0&&(yr=4194304),r}function qr(r){for(var n=[],l=0;31>l;l++)n.push(r);return n}function oe(r,n){r.pendingLanes|=n,n!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function fe(r,n,l,p,x,E){var P=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var J=r.entanglements,ye=r.expirationTimes,Re=r.hiddenUpdates;for(l=P&~l;0<l;){var Le=31-Ye(l),Ve=1<<Le;J[Le]=0,ye[Le]=-1;var ke=Re[Le];if(ke!==null)for(Re[Le]=null,Le=0;Le<ke.length;Le++){var De=ke[Le];De!==null&&(De.lane&=-536870913)}l&=~Ve}p!==0&&We(r,p,0),E!==0&&x===0&&r.tag!==0&&(r.suspendedLanes|=E&~(P&~n))}function We(r,n,l){r.pendingLanes|=n,r.suspendedLanes&=~n;var p=31-Ye(n);r.entangledLanes|=n,r.entanglements[p]=r.entanglements[p]|1073741824|l&261930}function Ke(r,n){var l=r.entangledLanes|=n;for(r=r.entanglements;l;){var p=31-Ye(l),x=1<<p;x&n|r[p]&n&&(r[p]|=n),l&=~x}}function Qe(r,n){var l=n&-n;return l=(l&42)!==0?1:Pt(l),(l&(r.suspendedLanes|n))!==0?0:l}function Pt(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function kt(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ur(){var r=K.p;return r!==0?r:(r=window.event,r===void 0?32:r1(r.type))}function zs(r,n){var l=K.p;try{return K.p=r,n()}finally{K.p=l}}var Hr=Math.random().toString(36).slice(2),Kt="__reactFiber$"+Hr,fr="__reactProps$"+Hr,Gr="__reactContainer$"+Hr,Wr="__reactEvents$"+Hr,Hn="__reactListeners$"+Hr,ss="__reactHandles$"+Hr,an="__reactResources$"+Hr,Lr="__reactMarker$"+Hr;function yf(r){delete r[Kt],delete r[fr],delete r[Wr],delete r[Hn],delete r[ss]}function pi(r){var n=r[Kt];if(n)return n;for(var l=r.parentNode;l;){if(n=l[Gr]||l[Kt]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(r=$w(r);r!==null;){if(l=r[Kt])return l;r=$w(r)}return n}r=l,l=r.parentNode}return null}function mi(r){if(r=r[Kt]||r[Gr]){var n=r.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return r}return null}function Ra(r){var n=r.tag;if(n===5||n===26||n===27||n===6)return r.stateNode;throw Error(o(33))}function gi(r){var n=r[an];return n||(n=r[an]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function br(r){r[Lr]=!0}var x0=new Set,v0={};function Co(r,n){yi(r,n),yi(r+"Capture",n)}function yi(r,n){for(v0[r]=n,r=0;r<n.length;r++)x0.add(n[r])}var XT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),w0={},S0={};function ZT(r){return I.call(S0,r)?!0:I.call(w0,r)?!1:XT.test(r)?S0[r]=!0:(w0[r]=!0,!1)}function uc(r,n,l){if(ZT(n))if(l===null)r.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(n);return;case"boolean":var p=n.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){r.removeAttribute(n);return}}r.setAttribute(n,""+l)}}function dc(r,n,l){if(l===null)r.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(n);return}r.setAttribute(n,""+l)}}function os(r,n,l,p){if(p===null)r.removeAttribute(l);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(n,l,""+p)}}function yn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function j0(r){var n=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function JT(r,n,l){var p=Object.getOwnPropertyDescriptor(r.constructor.prototype,n);if(!r.hasOwnProperty(n)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var x=p.get,E=p.set;return Object.defineProperty(r,n,{configurable:!0,get:function(){return x.call(this)},set:function(P){l=""+P,E.call(this,P)}}),Object.defineProperty(r,n,{enumerable:p.enumerable}),{getValue:function(){return l},setValue:function(P){l=""+P},stopTracking:function(){r._valueTracker=null,delete r[n]}}}}function bf(r){if(!r._valueTracker){var n=j0(r)?"checked":"value";r._valueTracker=JT(r,n,""+r[n])}}function N0(r){if(!r)return!1;var n=r._valueTracker;if(!n)return!0;var l=n.getValue(),p="";return r&&(p=j0(r)?r.checked?"true":"false":r.value),r=p,r!==l?(n.setValue(r),!0):!1}function fc(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var eC=/[\n"\\]/g;function bn(r){return r.replace(eC,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function xf(r,n,l,p,x,E,P,J){r.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?r.type=P:r.removeAttribute("type"),n!=null?P==="number"?(n===0&&r.value===""||r.value!=n)&&(r.value=""+yn(n)):r.value!==""+yn(n)&&(r.value=""+yn(n)):P!=="submit"&&P!=="reset"||r.removeAttribute("value"),n!=null?vf(r,P,yn(n)):l!=null?vf(r,P,yn(l)):p!=null&&r.removeAttribute("value"),x==null&&E!=null&&(r.defaultChecked=!!E),x!=null&&(r.checked=x&&typeof x!="function"&&typeof x!="symbol"),J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?r.name=""+yn(J):r.removeAttribute("name")}function _0(r,n,l,p,x,E,P,J){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.type=E),n!=null||l!=null){if(!(E!=="submit"&&E!=="reset"||n!=null)){bf(r);return}l=l!=null?""+yn(l):"",n=n!=null?""+yn(n):l,J||n===r.value||(r.value=n),r.defaultValue=n}p=p??x,p=typeof p!="function"&&typeof p!="symbol"&&!!p,r.checked=J?r.checked:!!p,r.defaultChecked=!!p,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(r.name=P),bf(r)}function vf(r,n,l){n==="number"&&fc(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function bi(r,n,l,p){if(r=r.options,n){n={};for(var x=0;x<l.length;x++)n["$"+l[x]]=!0;for(l=0;l<r.length;l++)x=n.hasOwnProperty("$"+r[l].value),r[l].selected!==x&&(r[l].selected=x),x&&p&&(r[l].defaultSelected=!0)}else{for(l=""+yn(l),n=null,x=0;x<r.length;x++){if(r[x].value===l){r[x].selected=!0,p&&(r[x].defaultSelected=!0);return}n!==null||r[x].disabled||(n=r[x])}n!==null&&(n.selected=!0)}}function E0(r,n,l){if(n!=null&&(n=""+yn(n),n!==r.value&&(r.value=n),l==null)){r.defaultValue!==n&&(r.defaultValue=n);return}r.defaultValue=l!=null?""+yn(l):""}function A0(r,n,l,p){if(n==null){if(p!=null){if(l!=null)throw Error(o(92));if(re(p)){if(1<p.length)throw Error(o(93));p=p[0]}l=p}l==null&&(l=""),n=l}l=yn(n),r.defaultValue=l,p=r.textContent,p===l&&p!==""&&p!==null&&(r.value=p),bf(r)}function xi(r,n){if(n){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=n;return}}r.textContent=n}var tC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function T0(r,n,l){var p=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?p?r.setProperty(n,""):n==="float"?r.cssFloat="":r[n]="":p?r.setProperty(n,l):typeof l!="number"||l===0||tC.has(n)?n==="float"?r.cssFloat=l:r[n]=(""+l).trim():r[n]=l+"px"}function C0(r,n,l){if(n!=null&&typeof n!="object")throw Error(o(62));if(r=r.style,l!=null){for(var p in l)!l.hasOwnProperty(p)||n!=null&&n.hasOwnProperty(p)||(p.indexOf("--")===0?r.setProperty(p,""):p==="float"?r.cssFloat="":r[p]="");for(var x in n)p=n[x],n.hasOwnProperty(x)&&l[x]!==p&&T0(r,x,p)}else for(var E in n)n.hasOwnProperty(E)&&T0(r,E,n[E])}function wf(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hc(r){return nC.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function is(){}var Sf=null;function jf(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var vi=null,wi=null;function R0(r){var n=mi(r);if(n&&(r=n.stateNode)){var l=r[fr]||null;e:switch(r=n.stateNode,n.type){case"input":if(xf(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+bn(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var p=l[n];if(p!==r&&p.form===r.form){var x=p[fr]||null;if(!x)throw Error(o(90));xf(p,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(n=0;n<l.length;n++)p=l[n],p.form===r.form&&N0(p)}break e;case"textarea":E0(r,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&bi(r,!!l.multiple,n,!1)}}}var Nf=!1;function M0(r,n,l){if(Nf)return r(n,l);Nf=!0;try{var p=r(n);return p}finally{if(Nf=!1,(vi!==null||wi!==null)&&(eu(),vi&&(n=vi,r=wi,wi=vi=null,R0(n),r)))for(n=0;n<r.length;n++)R0(r[n])}}function Ma(r,n){var l=r.stateNode;if(l===null)return null;var p=l[fr]||null;if(p===null)return null;l=p[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(r=r.type,p=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!p;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(o(231,n,typeof l));return l}var as=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_f=!1;if(as)try{var ka={};Object.defineProperty(ka,"passive",{get:function(){_f=!0}}),window.addEventListener("test",ka,ka),window.removeEventListener("test",ka,ka)}catch{_f=!1}var Fs=null,Ef=null,pc=null;function k0(){if(pc)return pc;var r,n=Ef,l=n.length,p,x="value"in Fs?Fs.value:Fs.textContent,E=x.length;for(r=0;r<l&&n[r]===x[r];r++);var P=l-r;for(p=1;p<=P&&n[l-p]===x[E-p];p++);return pc=x.slice(r,1<p?1-p:void 0)}function mc(r){var n=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&n===13&&(r=13)):r=n,r===10&&(r=13),32<=r||r===13?r:0}function gc(){return!0}function O0(){return!1}function Kr(r){function n(l,p,x,E,P){this._reactName=l,this._targetInst=x,this.type=p,this.nativeEvent=E,this.target=P,this.currentTarget=null;for(var J in r)r.hasOwnProperty(J)&&(l=r[J],this[J]=l?l(E):E[J]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?gc:O0,this.isPropagationStopped=O0,this}return g(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=gc)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=gc)},persist:function(){},isPersistent:gc}),n}var Ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yc=Kr(Ro),Oa=g({},Ro,{view:0,detail:0}),sC=Kr(Oa),Af,Tf,Da,bc=g({},Oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rf,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Da&&(Da&&r.type==="mousemove"?(Af=r.screenX-Da.screenX,Tf=r.screenY-Da.screenY):Tf=Af=0,Da=r),Af)},movementY:function(r){return"movementY"in r?r.movementY:Tf}}),D0=Kr(bc),oC=g({},bc,{dataTransfer:0}),iC=Kr(oC),aC=g({},Oa,{relatedTarget:0}),Cf=Kr(aC),lC=g({},Ro,{animationName:0,elapsedTime:0,pseudoElement:0}),cC=Kr(lC),uC=g({},Ro,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),dC=Kr(uC),fC=g({},Ro,{data:0}),P0=Kr(fC),hC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gC(r){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(r):(r=mC[r])?!!n[r]:!1}function Rf(){return gC}var yC=g({},Oa,{key:function(r){if(r.key){var n=hC[r.key]||r.key;if(n!=="Unidentified")return n}return r.type==="keypress"?(r=mc(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?pC[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rf,charCode:function(r){return r.type==="keypress"?mc(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?mc(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),bC=Kr(yC),xC=g({},bc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I0=Kr(xC),vC=g({},Oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rf}),wC=Kr(vC),SC=g({},Ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),jC=Kr(SC),NC=g({},bc,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),_C=Kr(NC),EC=g({},Ro,{newState:0,oldState:0}),AC=Kr(EC),TC=[9,13,27,32],Mf=as&&"CompositionEvent"in window,Pa=null;as&&"documentMode"in document&&(Pa=document.documentMode);var CC=as&&"TextEvent"in window&&!Pa,B0=as&&(!Mf||Pa&&8<Pa&&11>=Pa),U0=" ",L0=!1;function $0(r,n){switch(r){case"keyup":return TC.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function z0(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Si=!1;function RC(r,n){switch(r){case"compositionend":return z0(n);case"keypress":return n.which!==32?null:(L0=!0,U0);case"textInput":return r=n.data,r===U0&&L0?null:r;default:return null}}function MC(r,n){if(Si)return r==="compositionend"||!Mf&&$0(r,n)?(r=k0(),pc=Ef=Fs=null,Si=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return B0&&n.locale!=="ko"?null:n.data;default:return null}}var kC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function F0(r){var n=r&&r.nodeName&&r.nodeName.toLowerCase();return n==="input"?!!kC[r.type]:n==="textarea"}function V0(r,n,l,p){vi?wi?wi.push(p):wi=[p]:vi=p,n=au(n,"onChange"),0<n.length&&(l=new yc("onChange","change",null,l,p),r.push({event:l,listeners:n}))}var Ia=null,Ba=null;function OC(r){Ew(r,0)}function xc(r){var n=Ra(r);if(N0(n))return r}function q0(r,n){if(r==="change")return n}var H0=!1;if(as){var kf;if(as){var Of="oninput"in document;if(!Of){var G0=document.createElement("div");G0.setAttribute("oninput","return;"),Of=typeof G0.oninput=="function"}kf=Of}else kf=!1;H0=kf&&(!document.documentMode||9<document.documentMode)}function W0(){Ia&&(Ia.detachEvent("onpropertychange",K0),Ba=Ia=null)}function K0(r){if(r.propertyName==="value"&&xc(Ba)){var n=[];V0(n,Ba,r,jf(r)),M0(OC,n)}}function DC(r,n,l){r==="focusin"?(W0(),Ia=n,Ba=l,Ia.attachEvent("onpropertychange",K0)):r==="focusout"&&W0()}function PC(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return xc(Ba)}function IC(r,n){if(r==="click")return xc(n)}function BC(r,n){if(r==="input"||r==="change")return xc(n)}function UC(r,n){return r===n&&(r!==0||1/r===1/n)||r!==r&&n!==n}var ln=typeof Object.is=="function"?Object.is:UC;function Ua(r,n){if(ln(r,n))return!0;if(typeof r!="object"||r===null||typeof n!="object"||n===null)return!1;var l=Object.keys(r),p=Object.keys(n);if(l.length!==p.length)return!1;for(p=0;p<l.length;p++){var x=l[p];if(!I.call(n,x)||!ln(r[x],n[x]))return!1}return!0}function Q0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Y0(r,n){var l=Q0(r);r=0;for(var p;l;){if(l.nodeType===3){if(p=r+l.textContent.length,r<=n&&p>=n)return{node:l,offset:n-r};r=p}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Q0(l)}}function X0(r,n){return r&&n?r===n?!0:r&&r.nodeType===3?!1:n&&n.nodeType===3?X0(r,n.parentNode):"contains"in r?r.contains(n):r.compareDocumentPosition?!!(r.compareDocumentPosition(n)&16):!1:!1}function Z0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var n=fc(r.document);n instanceof r.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)r=n.contentWindow;else break;n=fc(r.document)}return n}function Df(r){var n=r&&r.nodeName&&r.nodeName.toLowerCase();return n&&(n==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||n==="textarea"||r.contentEditable==="true")}var LC=as&&"documentMode"in document&&11>=document.documentMode,ji=null,Pf=null,La=null,If=!1;function J0(r,n,l){var p=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;If||ji==null||ji!==fc(p)||(p=ji,"selectionStart"in p&&Df(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),La&&Ua(La,p)||(La=p,p=au(Pf,"onSelect"),0<p.length&&(n=new yc("onSelect","select",null,n,l),r.push({event:n,listeners:p}),n.target=ji)))}function Mo(r,n){var l={};return l[r.toLowerCase()]=n.toLowerCase(),l["Webkit"+r]="webkit"+n,l["Moz"+r]="moz"+n,l}var Ni={animationend:Mo("Animation","AnimationEnd"),animationiteration:Mo("Animation","AnimationIteration"),animationstart:Mo("Animation","AnimationStart"),transitionrun:Mo("Transition","TransitionRun"),transitionstart:Mo("Transition","TransitionStart"),transitioncancel:Mo("Transition","TransitionCancel"),transitionend:Mo("Transition","TransitionEnd")},Bf={},ex={};as&&(ex=document.createElement("div").style,"AnimationEvent"in window||(delete Ni.animationend.animation,delete Ni.animationiteration.animation,delete Ni.animationstart.animation),"TransitionEvent"in window||delete Ni.transitionend.transition);function ko(r){if(Bf[r])return Bf[r];if(!Ni[r])return r;var n=Ni[r],l;for(l in n)if(n.hasOwnProperty(l)&&l in ex)return Bf[r]=n[l];return r}var tx=ko("animationend"),rx=ko("animationiteration"),nx=ko("animationstart"),$C=ko("transitionrun"),zC=ko("transitionstart"),FC=ko("transitioncancel"),sx=ko("transitionend"),ox=new Map,Uf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uf.push("scrollEnd");function Dn(r,n){ox.set(r,n),Co(n,[r])}var vc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},xn=[],_i=0,Lf=0;function wc(){for(var r=_i,n=Lf=_i=0;n<r;){var l=xn[n];xn[n++]=null;var p=xn[n];xn[n++]=null;var x=xn[n];xn[n++]=null;var E=xn[n];if(xn[n++]=null,p!==null&&x!==null){var P=p.pending;P===null?x.next=x:(x.next=P.next,P.next=x),p.pending=x}E!==0&&ix(l,x,E)}}function Sc(r,n,l,p){xn[_i++]=r,xn[_i++]=n,xn[_i++]=l,xn[_i++]=p,Lf|=p,r.lanes|=p,r=r.alternate,r!==null&&(r.lanes|=p)}function $f(r,n,l,p){return Sc(r,n,l,p),jc(r)}function Oo(r,n){return Sc(r,null,null,n),jc(r)}function ix(r,n,l){r.lanes|=l;var p=r.alternate;p!==null&&(p.lanes|=l);for(var x=!1,E=r.return;E!==null;)E.childLanes|=l,p=E.alternate,p!==null&&(p.childLanes|=l),E.tag===22&&(r=E.stateNode,r===null||r._visibility&1||(x=!0)),r=E,E=E.return;return r.tag===3?(E=r.stateNode,x&&n!==null&&(x=31-Ye(l),r=E.hiddenUpdates,p=r[x],p===null?r[x]=[n]:p.push(n),n.lane=l|536870912),E):null}function jc(r){if(50<al)throw al=0,Qh=null,Error(o(185));for(var n=r.return;n!==null;)r=n,n=r.return;return r.tag===3?r.stateNode:null}var Ei={};function VC(r,n,l,p){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(r,n,l,p){return new VC(r,n,l,p)}function zf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ls(r,n){var l=r.alternate;return l===null?(l=cn(r.tag,n,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=n,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,n=r.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function ax(r,n){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=n,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,n=l.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),r}function Nc(r,n,l,p,x,E){var P=0;if(p=r,typeof r=="function")zf(r)&&(P=1);else if(typeof r=="string")P=KR(r,l,pe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case U:return r=cn(31,l,n,x),r.elementType=U,r.lanes=E,r;case w:return Do(l.children,x,E,n);case v:P=8,x|=24;break;case N:return r=cn(12,l,n,x|2),r.elementType=N,r.lanes=E,r;case A:return r=cn(13,l,n,x),r.elementType=A,r.lanes=E,r;case C:return r=cn(19,l,n,x),r.elementType=C,r.lanes=E,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case _:P=10;break e;case S:P=9;break e;case M:P=11;break e;case R:P=14;break e;case k:P=16,p=null;break e}P=29,l=Error(o(130,r===null?"null":typeof r,"")),p=null}return n=cn(P,l,n,x),n.elementType=r,n.type=p,n.lanes=E,n}function Do(r,n,l,p){return r=cn(7,r,p,n),r.lanes=l,r}function Ff(r,n,l){return r=cn(6,r,null,n),r.lanes=l,r}function lx(r){var n=cn(18,null,null,0);return n.stateNode=r,n}function Vf(r,n,l){return n=cn(4,r.children!==null?r.children:[],r.key,n),n.lanes=l,n.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},n}var cx=new WeakMap;function vn(r,n){if(typeof r=="object"&&r!==null){var l=cx.get(r);return l!==void 0?l:(n={value:r,source:n,stack:q(n)},cx.set(r,n),n)}return{value:r,source:n,stack:q(n)}}var Ai=[],Ti=0,_c=null,$a=0,wn=[],Sn=0,Vs=null,Gn=1,Wn="";function cs(r,n){Ai[Ti++]=$a,Ai[Ti++]=_c,_c=r,$a=n}function ux(r,n,l){wn[Sn++]=Gn,wn[Sn++]=Wn,wn[Sn++]=Vs,Vs=r;var p=Gn;r=Wn;var x=32-Ye(p)-1;p&=~(1<<x),l+=1;var E=32-Ye(n)+x;if(30<E){var P=x-x%5;E=(p&(1<<P)-1).toString(32),p>>=P,x-=P,Gn=1<<32-Ye(n)+x|l<<x|p,Wn=E+r}else Gn=1<<E|l<<x|p,Wn=r}function qf(r){r.return!==null&&(cs(r,1),ux(r,1,0))}function Hf(r){for(;r===_c;)_c=Ai[--Ti],Ai[Ti]=null,$a=Ai[--Ti],Ai[Ti]=null;for(;r===Vs;)Vs=wn[--Sn],wn[Sn]=null,Wn=wn[--Sn],wn[Sn]=null,Gn=wn[--Sn],wn[Sn]=null}function dx(r,n){wn[Sn++]=Gn,wn[Sn++]=Wn,wn[Sn++]=Vs,Gn=n.id,Wn=n.overflow,Vs=r}var _r=null,Bt=null,wt=!1,qs=null,jn=!1,Gf=Error(o(519));function Hs(r){var n=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw za(vn(n,r)),Gf}function fx(r){var n=r.stateNode,l=r.type,p=r.memoizedProps;switch(n[Kt]=r,n[fr]=p,l){case"dialog":bt("cancel",n),bt("close",n);break;case"iframe":case"object":case"embed":bt("load",n);break;case"video":case"audio":for(l=0;l<cl.length;l++)bt(cl[l],n);break;case"source":bt("error",n);break;case"img":case"image":case"link":bt("error",n),bt("load",n);break;case"details":bt("toggle",n);break;case"input":bt("invalid",n),_0(n,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":bt("invalid",n);break;case"textarea":bt("invalid",n),A0(n,p.value,p.defaultValue,p.children)}l=p.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||p.suppressHydrationWarning===!0||Rw(n.textContent,l)?(p.popover!=null&&(bt("beforetoggle",n),bt("toggle",n)),p.onScroll!=null&&bt("scroll",n),p.onScrollEnd!=null&&bt("scrollend",n),p.onClick!=null&&(n.onclick=is),n=!0):n=!1,n||Hs(r,!0)}function hx(r){for(_r=r.return;_r;)switch(_r.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:_r=_r.return}}function Ci(r){if(r!==_r)return!1;if(!wt)return hx(r),wt=!0,!1;var n=r.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||up(r.type,r.memoizedProps)),l=!l),l&&Bt&&Hs(r),hx(r),n===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(o(317));Bt=Lw(r)}else if(n===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(o(317));Bt=Lw(r)}else n===27?(n=Bt,oo(r.type)?(r=mp,mp=null,Bt=r):Bt=n):Bt=_r?_n(r.stateNode.nextSibling):null;return!0}function Po(){Bt=_r=null,wt=!1}function Wf(){var r=qs;return r!==null&&(Zr===null?Zr=r:Zr.push.apply(Zr,r),qs=null),r}function za(r){qs===null?qs=[r]:qs.push(r)}var Kf=B(null),Io=null,us=null;function Gs(r,n,l){Z(Kf,n._currentValue),n._currentValue=l}function ds(r){r._currentValue=Kf.current,z(Kf)}function Qf(r,n,l){for(;r!==null;){var p=r.alternate;if((r.childLanes&n)!==n?(r.childLanes|=n,p!==null&&(p.childLanes|=n)):p!==null&&(p.childLanes&n)!==n&&(p.childLanes|=n),r===l)break;r=r.return}}function Yf(r,n,l,p){var x=r.child;for(x!==null&&(x.return=r);x!==null;){var E=x.dependencies;if(E!==null){var P=x.child;E=E.firstContext;e:for(;E!==null;){var J=E;E=x;for(var ye=0;ye<n.length;ye++)if(J.context===n[ye]){E.lanes|=l,J=E.alternate,J!==null&&(J.lanes|=l),Qf(E.return,l,r),p||(P=null);break e}E=J.next}}else if(x.tag===18){if(P=x.return,P===null)throw Error(o(341));P.lanes|=l,E=P.alternate,E!==null&&(E.lanes|=l),Qf(P,l,r),P=null}else P=x.child;if(P!==null)P.return=x;else for(P=x;P!==null;){if(P===r){P=null;break}if(x=P.sibling,x!==null){x.return=P.return,P=x;break}P=P.return}x=P}}function Ri(r,n,l,p){r=null;for(var x=n,E=!1;x!==null;){if(!E){if((x.flags&524288)!==0)E=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var P=x.alternate;if(P===null)throw Error(o(387));if(P=P.memoizedProps,P!==null){var J=x.type;ln(x.pendingProps.value,P.value)||(r!==null?r.push(J):r=[J])}}else if(x===de.current){if(P=x.alternate,P===null)throw Error(o(387));P.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(r!==null?r.push(pl):r=[pl])}x=x.return}r!==null&&Yf(n,r,l,p),n.flags|=262144}function Ec(r){for(r=r.firstContext;r!==null;){if(!ln(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Bo(r){Io=r,us=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Er(r){return px(Io,r)}function Ac(r,n){return Io===null&&Bo(r),px(r,n)}function px(r,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},us===null){if(r===null)throw Error(o(308));us=n,r.dependencies={lanes:0,firstContext:n},r.flags|=524288}else us=us.next=n;return l}var qC=typeof AbortController<"u"?AbortController:function(){var r=[],n=this.signal={aborted:!1,addEventListener:function(l,p){r.push(p)}};this.abort=function(){n.aborted=!0,r.forEach(function(l){return l()})}},HC=e.unstable_scheduleCallback,GC=e.unstable_NormalPriority,ar={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xf(){return{controller:new qC,data:new Map,refCount:0}}function Fa(r){r.refCount--,r.refCount===0&&HC(GC,function(){r.controller.abort()})}var Va=null,Zf=0,Mi=0,ki=null;function WC(r,n){if(Va===null){var l=Va=[];Zf=0,Mi=tp(),ki={status:"pending",value:void 0,then:function(p){l.push(p)}}}return Zf++,n.then(mx,mx),n}function mx(){if(--Zf===0&&Va!==null){ki!==null&&(ki.status="fulfilled");var r=Va;Va=null,Mi=0,ki=null;for(var n=0;n<r.length;n++)(0,r[n])()}}function KC(r,n){var l=[],p={status:"pending",value:null,reason:null,then:function(x){l.push(x)}};return r.then(function(){p.status="fulfilled",p.value=n;for(var x=0;x<l.length;x++)(0,l[x])(n)},function(x){for(p.status="rejected",p.reason=x,x=0;x<l.length;x++)(0,l[x])(void 0)}),p}var gx=$.S;$.S=function(r,n){ew=ae(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&WC(r,n),gx!==null&&gx(r,n)};var Uo=B(null);function Jf(){var r=Uo.current;return r!==null?r:Ot.pooledCache}function Tc(r,n){n===null?Z(Uo,Uo.current):Z(Uo,n.pool)}function yx(){var r=Jf();return r===null?null:{parent:ar._currentValue,pool:r}}var Oi=Error(o(460)),eh=Error(o(474)),Cc=Error(o(542)),Rc={then:function(){}};function bx(r){return r=r.status,r==="fulfilled"||r==="rejected"}function xx(r,n,l){switch(l=r[l],l===void 0?r.push(n):l!==n&&(n.then(is,is),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw r=n.reason,Sx(r),r;default:if(typeof n.status=="string")n.then(is,is);else{if(r=Ot,r!==null&&100<r.shellSuspendCounter)throw Error(o(482));r=n,r.status="pending",r.then(function(p){if(n.status==="pending"){var x=n;x.status="fulfilled",x.value=p}},function(p){if(n.status==="pending"){var x=n;x.status="rejected",x.reason=p}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw r=n.reason,Sx(r),r}throw $o=n,Oi}}function Lo(r){try{var n=r._init;return n(r._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?($o=l,Oi):l}}var $o=null;function vx(){if($o===null)throw Error(o(459));var r=$o;return $o=null,r}function Sx(r){if(r===Oi||r===Cc)throw Error(o(483))}var Di=null,qa=0;function Mc(r){var n=qa;return qa+=1,Di===null&&(Di=[]),xx(Di,r,n)}function Ha(r,n){n=n.props.ref,r.ref=n!==void 0?n:null}function kc(r,n){throw n.$$typeof===b?Error(o(525)):(r=Object.prototype.toString.call(n),Error(o(31,r==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":r)))}function jx(r){function n(Ne,je){if(r){var Ce=Ne.deletions;Ce===null?(Ne.deletions=[je],Ne.flags|=16):Ce.push(je)}}function l(Ne,je){if(!r)return null;for(;je!==null;)n(Ne,je),je=je.sibling;return null}function p(Ne){for(var je=new Map;Ne!==null;)Ne.key!==null?je.set(Ne.key,Ne):je.set(Ne.index,Ne),Ne=Ne.sibling;return je}function x(Ne,je){return Ne=ls(Ne,je),Ne.index=0,Ne.sibling=null,Ne}function E(Ne,je,Ce){return Ne.index=Ce,r?(Ce=Ne.alternate,Ce!==null?(Ce=Ce.index,Ce<je?(Ne.flags|=67108866,je):Ce):(Ne.flags|=67108866,je)):(Ne.flags|=1048576,je)}function P(Ne){return r&&Ne.alternate===null&&(Ne.flags|=67108866),Ne}function J(Ne,je,Ce,Fe){return je===null||je.tag!==6?(je=Ff(Ce,Ne.mode,Fe),je.return=Ne,je):(je=x(je,Ce),je.return=Ne,je)}function ye(Ne,je,Ce,Fe){var st=Ce.type;return st===w?Le(Ne,je,Ce.props.children,Fe,Ce.key):je!==null&&(je.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===k&&Lo(st)===je.type)?(je=x(je,Ce.props),Ha(je,Ce),je.return=Ne,je):(je=Nc(Ce.type,Ce.key,Ce.props,null,Ne.mode,Fe),Ha(je,Ce),je.return=Ne,je)}function Re(Ne,je,Ce,Fe){return je===null||je.tag!==4||je.stateNode.containerInfo!==Ce.containerInfo||je.stateNode.implementation!==Ce.implementation?(je=Vf(Ce,Ne.mode,Fe),je.return=Ne,je):(je=x(je,Ce.children||[]),je.return=Ne,je)}function Le(Ne,je,Ce,Fe,st){return je===null||je.tag!==7?(je=Do(Ce,Ne.mode,Fe,st),je.return=Ne,je):(je=x(je,Ce),je.return=Ne,je)}function Ve(Ne,je,Ce){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return je=Ff(""+je,Ne.mode,Ce),je.return=Ne,je;if(typeof je=="object"&&je!==null){switch(je.$$typeof){case j:return Ce=Nc(je.type,je.key,je.props,null,Ne.mode,Ce),Ha(Ce,je),Ce.return=Ne,Ce;case y:return je=Vf(je,Ne.mode,Ce),je.return=Ne,je;case k:return je=Lo(je),Ve(Ne,je,Ce)}if(re(je)||V(je))return je=Do(je,Ne.mode,Ce,null),je.return=Ne,je;if(typeof je.then=="function")return Ve(Ne,Mc(je),Ce);if(je.$$typeof===_)return Ve(Ne,Ac(Ne,je),Ce);kc(Ne,je)}return null}function ke(Ne,je,Ce,Fe){var st=je!==null?je.key:null;if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return st!==null?null:J(Ne,je,""+Ce,Fe);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case j:return Ce.key===st?ye(Ne,je,Ce,Fe):null;case y:return Ce.key===st?Re(Ne,je,Ce,Fe):null;case k:return Ce=Lo(Ce),ke(Ne,je,Ce,Fe)}if(re(Ce)||V(Ce))return st!==null?null:Le(Ne,je,Ce,Fe,null);if(typeof Ce.then=="function")return ke(Ne,je,Mc(Ce),Fe);if(Ce.$$typeof===_)return ke(Ne,je,Ac(Ne,Ce),Fe);kc(Ne,Ce)}return null}function De(Ne,je,Ce,Fe,st){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return Ne=Ne.get(Ce)||null,J(je,Ne,""+Fe,st);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case j:return Ne=Ne.get(Fe.key===null?Ce:Fe.key)||null,ye(je,Ne,Fe,st);case y:return Ne=Ne.get(Fe.key===null?Ce:Fe.key)||null,Re(je,Ne,Fe,st);case k:return Fe=Lo(Fe),De(Ne,je,Ce,Fe,st)}if(re(Fe)||V(Fe))return Ne=Ne.get(Ce)||null,Le(je,Ne,Fe,st,null);if(typeof Fe.then=="function")return De(Ne,je,Ce,Mc(Fe),st);if(Fe.$$typeof===_)return De(Ne,je,Ce,Ac(je,Fe),st);kc(je,Fe)}return null}function Ze(Ne,je,Ce,Fe){for(var st=null,St=null,tt=je,pt=je=0,vt=null;tt!==null&&pt<Ce.length;pt++){tt.index>pt?(vt=tt,tt=null):vt=tt.sibling;var jt=ke(Ne,tt,Ce[pt],Fe);if(jt===null){tt===null&&(tt=vt);break}r&&tt&&jt.alternate===null&&n(Ne,tt),je=E(jt,je,pt),St===null?st=jt:St.sibling=jt,St=jt,tt=vt}if(pt===Ce.length)return l(Ne,tt),wt&&cs(Ne,pt),st;if(tt===null){for(;pt<Ce.length;pt++)tt=Ve(Ne,Ce[pt],Fe),tt!==null&&(je=E(tt,je,pt),St===null?st=tt:St.sibling=tt,St=tt);return wt&&cs(Ne,pt),st}for(tt=p(tt);pt<Ce.length;pt++)vt=De(tt,Ne,pt,Ce[pt],Fe),vt!==null&&(r&&vt.alternate!==null&&tt.delete(vt.key===null?pt:vt.key),je=E(vt,je,pt),St===null?st=vt:St.sibling=vt,St=vt);return r&&tt.forEach(function(uo){return n(Ne,uo)}),wt&&cs(Ne,pt),st}function it(Ne,je,Ce,Fe){if(Ce==null)throw Error(o(151));for(var st=null,St=null,tt=je,pt=je=0,vt=null,jt=Ce.next();tt!==null&&!jt.done;pt++,jt=Ce.next()){tt.index>pt?(vt=tt,tt=null):vt=tt.sibling;var uo=ke(Ne,tt,jt.value,Fe);if(uo===null){tt===null&&(tt=vt);break}r&&tt&&uo.alternate===null&&n(Ne,tt),je=E(uo,je,pt),St===null?st=uo:St.sibling=uo,St=uo,tt=vt}if(jt.done)return l(Ne,tt),wt&&cs(Ne,pt),st;if(tt===null){for(;!jt.done;pt++,jt=Ce.next())jt=Ve(Ne,jt.value,Fe),jt!==null&&(je=E(jt,je,pt),St===null?st=jt:St.sibling=jt,St=jt);return wt&&cs(Ne,pt),st}for(tt=p(tt);!jt.done;pt++,jt=Ce.next())jt=De(tt,Ne,pt,jt.value,Fe),jt!==null&&(r&&jt.alternate!==null&&tt.delete(jt.key===null?pt:jt.key),je=E(jt,je,pt),St===null?st=jt:St.sibling=jt,St=jt);return r&&tt.forEach(function(oM){return n(Ne,oM)}),wt&&cs(Ne,pt),st}function Rt(Ne,je,Ce,Fe){if(typeof Ce=="object"&&Ce!==null&&Ce.type===w&&Ce.key===null&&(Ce=Ce.props.children),typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case j:e:{for(var st=Ce.key;je!==null;){if(je.key===st){if(st=Ce.type,st===w){if(je.tag===7){l(Ne,je.sibling),Fe=x(je,Ce.props.children),Fe.return=Ne,Ne=Fe;break e}}else if(je.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===k&&Lo(st)===je.type){l(Ne,je.sibling),Fe=x(je,Ce.props),Ha(Fe,Ce),Fe.return=Ne,Ne=Fe;break e}l(Ne,je);break}else n(Ne,je);je=je.sibling}Ce.type===w?(Fe=Do(Ce.props.children,Ne.mode,Fe,Ce.key),Fe.return=Ne,Ne=Fe):(Fe=Nc(Ce.type,Ce.key,Ce.props,null,Ne.mode,Fe),Ha(Fe,Ce),Fe.return=Ne,Ne=Fe)}return P(Ne);case y:e:{for(st=Ce.key;je!==null;){if(je.key===st)if(je.tag===4&&je.stateNode.containerInfo===Ce.containerInfo&&je.stateNode.implementation===Ce.implementation){l(Ne,je.sibling),Fe=x(je,Ce.children||[]),Fe.return=Ne,Ne=Fe;break e}else{l(Ne,je);break}else n(Ne,je);je=je.sibling}Fe=Vf(Ce,Ne.mode,Fe),Fe.return=Ne,Ne=Fe}return P(Ne);case k:return Ce=Lo(Ce),Rt(Ne,je,Ce,Fe)}if(re(Ce))return Ze(Ne,je,Ce,Fe);if(V(Ce)){if(st=V(Ce),typeof st!="function")throw Error(o(150));return Ce=st.call(Ce),it(Ne,je,Ce,Fe)}if(typeof Ce.then=="function")return Rt(Ne,je,Mc(Ce),Fe);if(Ce.$$typeof===_)return Rt(Ne,je,Ac(Ne,Ce),Fe);kc(Ne,Ce)}return typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint"?(Ce=""+Ce,je!==null&&je.tag===6?(l(Ne,je.sibling),Fe=x(je,Ce),Fe.return=Ne,Ne=Fe):(l(Ne,je),Fe=Ff(Ce,Ne.mode,Fe),Fe.return=Ne,Ne=Fe),P(Ne)):l(Ne,je)}return function(Ne,je,Ce,Fe){try{qa=0;var st=Rt(Ne,je,Ce,Fe);return Di=null,st}catch(tt){if(tt===Oi||tt===Cc)throw tt;var St=cn(29,tt,null,Ne.mode);return St.lanes=Fe,St.return=Ne,St}finally{}}}var zo=jx(!0),Nx=jx(!1),Ws=!1;function th(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rh(r,n){r=r.updateQueue,n.updateQueue===r&&(n.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ks(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Qs(r,n,l){var p=r.updateQueue;if(p===null)return null;if(p=p.shared,(Nt&2)!==0){var x=p.pending;return x===null?n.next=n:(n.next=x.next,x.next=n),p.pending=n,n=jc(r),ix(r,null,l),n}return Sc(r,p,n,l),jc(r)}function Ga(r,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var p=n.lanes;p&=r.pendingLanes,l|=p,n.lanes=l,Ke(r,l)}}function nh(r,n){var l=r.updateQueue,p=r.alternate;if(p!==null&&(p=p.updateQueue,l===p)){var x=null,E=null;if(l=l.firstBaseUpdate,l!==null){do{var P={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};E===null?x=E=P:E=E.next=P,l=l.next}while(l!==null);E===null?x=E=n:E=E.next=n}else x=E=n;l={baseState:p.baseState,firstBaseUpdate:x,lastBaseUpdate:E,shared:p.shared,callbacks:p.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=n:r.next=n,l.lastBaseUpdate=n}var sh=!1;function Wa(){if(sh){var r=ki;if(r!==null)throw r}}function Ka(r,n,l,p){sh=!1;var x=r.updateQueue;Ws=!1;var E=x.firstBaseUpdate,P=x.lastBaseUpdate,J=x.shared.pending;if(J!==null){x.shared.pending=null;var ye=J,Re=ye.next;ye.next=null,P===null?E=Re:P.next=Re,P=ye;var Le=r.alternate;Le!==null&&(Le=Le.updateQueue,J=Le.lastBaseUpdate,J!==P&&(J===null?Le.firstBaseUpdate=Re:J.next=Re,Le.lastBaseUpdate=ye))}if(E!==null){var Ve=x.baseState;P=0,Le=Re=ye=null,J=E;do{var ke=J.lane&-536870913,De=ke!==J.lane;if(De?(xt&ke)===ke:(p&ke)===ke){ke!==0&&ke===Mi&&(sh=!0),Le!==null&&(Le=Le.next={lane:0,tag:J.tag,payload:J.payload,callback:null,next:null});e:{var Ze=r,it=J;ke=n;var Rt=l;switch(it.tag){case 1:if(Ze=it.payload,typeof Ze=="function"){Ve=Ze.call(Rt,Ve,ke);break e}Ve=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=it.payload,ke=typeof Ze=="function"?Ze.call(Rt,Ve,ke):Ze,ke==null)break e;Ve=g({},Ve,ke);break e;case 2:Ws=!0}}ke=J.callback,ke!==null&&(r.flags|=64,De&&(r.flags|=8192),De=x.callbacks,De===null?x.callbacks=[ke]:De.push(ke))}else De={lane:ke,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Le===null?(Re=Le=De,ye=Ve):Le=Le.next=De,P|=ke;if(J=J.next,J===null){if(J=x.shared.pending,J===null)break;De=J,J=De.next,De.next=null,x.lastBaseUpdate=De,x.shared.pending=null}}while(!0);Le===null&&(ye=Ve),x.baseState=ye,x.firstBaseUpdate=Re,x.lastBaseUpdate=Le,E===null&&(x.shared.lanes=0),eo|=P,r.lanes=P,r.memoizedState=Ve}}function _x(r,n){if(typeof r!="function")throw Error(o(191,r));r.call(n)}function Ex(r,n){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)_x(l[r],n)}var Pi=B(null),Oc=B(0);function Ax(r,n){r=vs,Z(Oc,r),Z(Pi,n),vs=r|n.baseLanes}function oh(){Z(Oc,vs),Z(Pi,Pi.current)}function ih(){vs=Oc.current,z(Pi),z(Oc)}var un=B(null),Nn=null;function Ys(r){var n=r.alternate;Z(tr,tr.current&1),Z(un,r),Nn===null&&(n===null||Pi.current!==null||n.memoizedState!==null)&&(Nn=r)}function ah(r){Z(tr,tr.current),Z(un,r),Nn===null&&(Nn=r)}function Tx(r){r.tag===22?(Z(tr,tr.current),Z(un,r),Nn===null&&(Nn=r)):Xs()}function Xs(){Z(tr,tr.current),Z(un,un.current)}function dn(r){z(un),Nn===r&&(Nn=null),z(tr)}var tr=B(0);function Dc(r){for(var n=r;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||hp(l)||pp(l)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break;for(;n.sibling===null;){if(n.return===null||n.return===r)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var fs=0,ft=null,Tt=null,lr=null,Pc=!1,Ii=!1,Fo=!1,Ic=0,Qa=0,Bi=null,QC=0;function Xt(){throw Error(o(321))}function lh(r,n){if(n===null)return!1;for(var l=0;l<n.length&&l<r.length;l++)if(!ln(r[l],n[l]))return!1;return!0}function ch(r,n,l,p,x,E){return fs=E,ft=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,$.H=r===null||r.memoizedState===null?dv:Nh,Fo=!1,E=l(p,x),Fo=!1,Ii&&(E=Rx(n,l,p,x)),Cx(r),E}function Cx(r){$.H=Za;var n=Tt!==null&&Tt.next!==null;if(fs=0,lr=Tt=ft=null,Pc=!1,Qa=0,Bi=null,n)throw Error(o(300));r===null||cr||(r=r.dependencies,r!==null&&Ec(r)&&(cr=!0))}function Rx(r,n,l,p){ft=r;var x=0;do{if(Ii&&(Bi=null),Qa=0,Ii=!1,25<=x)throw Error(o(301));if(x+=1,lr=Tt=null,r.updateQueue!=null){var E=r.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}$.H=fv,E=n(l,p)}while(Ii);return E}function YC(){var r=$.H,n=r.useState()[0];return n=typeof n.then=="function"?Ya(n):n,r=r.useState()[0],(Tt!==null?Tt.memoizedState:null)!==r&&(ft.flags|=1024),n}function uh(){var r=Ic!==0;return Ic=0,r}function dh(r,n,l){n.updateQueue=r.updateQueue,n.flags&=-2053,r.lanes&=~l}function fh(r){if(Pc){for(r=r.memoizedState;r!==null;){var n=r.queue;n!==null&&(n.pending=null),r=r.next}Pc=!1}fs=0,lr=Tt=ft=null,Ii=!1,Qa=Ic=0,Bi=null}function $r(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lr===null?ft.memoizedState=lr=r:lr=lr.next=r,lr}function rr(){if(Tt===null){var r=ft.alternate;r=r!==null?r.memoizedState:null}else r=Tt.next;var n=lr===null?ft.memoizedState:lr.next;if(n!==null)lr=n,Tt=r;else{if(r===null)throw ft.alternate===null?Error(o(467)):Error(o(310));Tt=r,r={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},lr===null?ft.memoizedState=lr=r:lr=lr.next=r}return lr}function Bc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ya(r){var n=Qa;return Qa+=1,Bi===null&&(Bi=[]),r=xx(Bi,r,n),n=ft,(lr===null?n.memoizedState:lr.next)===null&&(n=n.alternate,$.H=n===null||n.memoizedState===null?dv:Nh),r}function Uc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Ya(r);if(r.$$typeof===_)return Er(r)}throw Error(o(438,String(r)))}function hh(r){var n=null,l=ft.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var p=ft.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(n={data:p.data.map(function(x){return x.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=Bc(),ft.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(r),p=0;p<r;p++)l[p]=L;return n.index++,l}function hs(r,n){return typeof n=="function"?n(r):n}function Lc(r){var n=rr();return ph(n,Tt,r)}function ph(r,n,l){var p=r.queue;if(p===null)throw Error(o(311));p.lastRenderedReducer=l;var x=r.baseQueue,E=p.pending;if(E!==null){if(x!==null){var P=x.next;x.next=E.next,E.next=P}n.baseQueue=x=E,p.pending=null}if(E=r.baseState,x===null)r.memoizedState=E;else{n=x.next;var J=P=null,ye=null,Re=n,Le=!1;do{var Ve=Re.lane&-536870913;if(Ve!==Re.lane?(xt&Ve)===Ve:(fs&Ve)===Ve){var ke=Re.revertLane;if(ke===0)ye!==null&&(ye=ye.next={lane:0,revertLane:0,gesture:null,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null}),Ve===Mi&&(Le=!0);else if((fs&ke)===ke){Re=Re.next,ke===Mi&&(Le=!0);continue}else Ve={lane:0,revertLane:Re.revertLane,gesture:null,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},ye===null?(J=ye=Ve,P=E):ye=ye.next=Ve,ft.lanes|=ke,eo|=ke;Ve=Re.action,Fo&&l(E,Ve),E=Re.hasEagerState?Re.eagerState:l(E,Ve)}else ke={lane:Ve,revertLane:Re.revertLane,gesture:Re.gesture,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},ye===null?(J=ye=ke,P=E):ye=ye.next=ke,ft.lanes|=Ve,eo|=Ve;Re=Re.next}while(Re!==null&&Re!==n);if(ye===null?P=E:ye.next=J,!ln(E,r.memoizedState)&&(cr=!0,Le&&(l=ki,l!==null)))throw l;r.memoizedState=E,r.baseState=P,r.baseQueue=ye,p.lastRenderedState=E}return x===null&&(p.lanes=0),[r.memoizedState,p.dispatch]}function mh(r){var n=rr(),l=n.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=r;var p=l.dispatch,x=l.pending,E=n.memoizedState;if(x!==null){l.pending=null;var P=x=x.next;do E=r(E,P.action),P=P.next;while(P!==x);ln(E,n.memoizedState)||(cr=!0),n.memoizedState=E,n.baseQueue===null&&(n.baseState=E),l.lastRenderedState=E}return[E,p]}function Mx(r,n,l){var p=ft,x=rr(),E=wt;if(E){if(l===void 0)throw Error(o(407));l=l()}else l=n();var P=!ln((Tt||x).memoizedState,l);if(P&&(x.memoizedState=l,cr=!0),x=x.queue,bh(Dx.bind(null,p,x,r),[r]),x.getSnapshot!==n||P||lr!==null&&lr.memoizedState.tag&1){if(p.flags|=2048,Ui(9,{destroy:void 0},Ox.bind(null,p,x,l,n),null),Ot===null)throw Error(o(349));E||(fs&127)!==0||kx(p,n,l)}return l}function kx(r,n,l){r.flags|=16384,r={getSnapshot:n,value:l},n=ft.updateQueue,n===null?(n=Bc(),ft.updateQueue=n,n.stores=[r]):(l=n.stores,l===null?n.stores=[r]:l.push(r))}function Ox(r,n,l,p){n.value=l,n.getSnapshot=p,Px(n)&&Ix(r)}function Dx(r,n,l){return l(function(){Px(n)&&Ix(r)})}function Px(r){var n=r.getSnapshot;r=r.value;try{var l=n();return!ln(r,l)}catch{return!0}}function Ix(r){var n=Oo(r,2);n!==null&&Jr(n,r,2)}function gh(r){var n=$r();if(typeof r=="function"){var l=r;if(r=l(),Fo){Xe(!0);try{l()}finally{Xe(!1)}}}return n.memoizedState=n.baseState=r,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:r},n}function Bx(r,n,l,p){return r.baseState=l,ph(r,Tt,typeof p=="function"?p:hs)}function XC(r,n,l,p,x){if(Fc(r))throw Error(o(485));if(r=n.action,r!==null){var E={payload:x,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){E.listeners.push(P)}};$.T!==null?l(!0):E.isTransition=!1,p(E),l=n.pending,l===null?(E.next=n.pending=E,Ux(n,E)):(E.next=l.next,n.pending=l.next=E)}}function Ux(r,n){var l=n.action,p=n.payload,x=r.state;if(n.isTransition){var E=$.T,P={};$.T=P;try{var J=l(x,p),ye=$.S;ye!==null&&ye(P,J),Lx(r,n,J)}catch(Re){yh(r,n,Re)}finally{E!==null&&P.types!==null&&(E.types=P.types),$.T=E}}else try{E=l(x,p),Lx(r,n,E)}catch(Re){yh(r,n,Re)}}function Lx(r,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(p){$x(r,n,p)},function(p){return yh(r,n,p)}):$x(r,n,l)}function $x(r,n,l){n.status="fulfilled",n.value=l,zx(n),r.state=l,n=r.pending,n!==null&&(l=n.next,l===n?r.pending=null:(l=l.next,n.next=l,Ux(r,l)))}function yh(r,n,l){var p=r.pending;if(r.pending=null,p!==null){p=p.next;do n.status="rejected",n.reason=l,zx(n),n=n.next;while(n!==p)}r.action=null}function zx(r){r=r.listeners;for(var n=0;n<r.length;n++)(0,r[n])()}function Fx(r,n){return n}function Vx(r,n){if(wt){var l=Ot.formState;if(l!==null){e:{var p=ft;if(wt){if(Bt){t:{for(var x=Bt,E=jn;x.nodeType!==8;){if(!E){x=null;break t}if(x=_n(x.nextSibling),x===null){x=null;break t}}E=x.data,x=E==="F!"||E==="F"?x:null}if(x){Bt=_n(x.nextSibling),p=x.data==="F!";break e}}Hs(p)}p=!1}p&&(n=l[0])}}return l=$r(),l.memoizedState=l.baseState=n,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fx,lastRenderedState:n},l.queue=p,l=lv.bind(null,ft,p),p.dispatch=l,p=gh(!1),E=jh.bind(null,ft,!1,p.queue),p=$r(),x={state:n,dispatch:null,action:r,pending:null},p.queue=x,l=XC.bind(null,ft,x,E,l),x.dispatch=l,p.memoizedState=r,[n,l,!1]}function qx(r){var n=rr();return Hx(n,Tt,r)}function Hx(r,n,l){if(n=ph(r,n,Fx)[0],r=Lc(hs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var p=Ya(n)}catch(P){throw P===Oi?Cc:P}else p=n;n=rr();var x=n.queue,E=x.dispatch;return l!==n.memoizedState&&(ft.flags|=2048,Ui(9,{destroy:void 0},ZC.bind(null,x,l),null)),[p,E,r]}function ZC(r,n){r.action=n}function Gx(r){var n=rr(),l=Tt;if(l!==null)return Hx(n,l,r);rr(),n=n.memoizedState,l=rr();var p=l.queue.dispatch;return l.memoizedState=r,[n,p,!1]}function Ui(r,n,l,p){return r={tag:r,create:l,deps:p,inst:n,next:null},n=ft.updateQueue,n===null&&(n=Bc(),ft.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=r.next=r:(p=l.next,l.next=r,r.next=p,n.lastEffect=r),r}function Wx(){return rr().memoizedState}function $c(r,n,l,p){var x=$r();ft.flags|=r,x.memoizedState=Ui(1|n,{destroy:void 0},l,p===void 0?null:p)}function zc(r,n,l,p){var x=rr();p=p===void 0?null:p;var E=x.memoizedState.inst;Tt!==null&&p!==null&&lh(p,Tt.memoizedState.deps)?x.memoizedState=Ui(n,E,l,p):(ft.flags|=r,x.memoizedState=Ui(1|n,E,l,p))}function Kx(r,n){$c(8390656,8,r,n)}function bh(r,n){zc(2048,8,r,n)}function JC(r){ft.flags|=4;var n=ft.updateQueue;if(n===null)n=Bc(),ft.updateQueue=n,n.events=[r];else{var l=n.events;l===null?n.events=[r]:l.push(r)}}function Qx(r){var n=rr().memoizedState;return JC({ref:n,nextImpl:r}),function(){if((Nt&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}function Yx(r,n){return zc(4,2,r,n)}function Xx(r,n){return zc(4,4,r,n)}function Zx(r,n){if(typeof n=="function"){r=r();var l=n(r);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return r=r(),n.current=r,function(){n.current=null}}function Jx(r,n,l){l=l!=null?l.concat([r]):null,zc(4,4,Zx.bind(null,n,r),l)}function xh(){}function ev(r,n){var l=rr();n=n===void 0?null:n;var p=l.memoizedState;return n!==null&&lh(n,p[1])?p[0]:(l.memoizedState=[r,n],r)}function tv(r,n){var l=rr();n=n===void 0?null:n;var p=l.memoizedState;if(n!==null&&lh(n,p[1]))return p[0];if(p=r(),Fo){Xe(!0);try{r()}finally{Xe(!1)}}return l.memoizedState=[p,n],p}function vh(r,n,l){return l===void 0||(fs&1073741824)!==0&&(xt&261930)===0?r.memoizedState=n:(r.memoizedState=l,r=rw(),ft.lanes|=r,eo|=r,l)}function rv(r,n,l,p){return ln(l,n)?l:Pi.current!==null?(r=vh(r,l,p),ln(r,n)||(cr=!0),r):(fs&42)===0||(fs&1073741824)!==0&&(xt&261930)===0?(cr=!0,r.memoizedState=l):(r=rw(),ft.lanes|=r,eo|=r,n)}function nv(r,n,l,p,x){var E=K.p;K.p=E!==0&&8>E?E:8;var P=$.T,J={};$.T=J,jh(r,!1,n,l);try{var ye=x(),Re=$.S;if(Re!==null&&Re(J,ye),ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var Le=KC(ye,p);Xa(r,n,Le,pn(r))}else Xa(r,n,p,pn(r))}catch(Ve){Xa(r,n,{then:function(){},status:"rejected",reason:Ve},pn())}finally{K.p=E,P!==null&&J.types!==null&&(P.types=J.types),$.T=P}}function eR(){}function wh(r,n,l,p){if(r.tag!==5)throw Error(o(476));var x=sv(r).queue;nv(r,x,n,X,l===null?eR:function(){return ov(r),l(p)})}function sv(r){var n=r.memoizedState;if(n!==null)return n;n={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:X},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:l},next:null},r.memoizedState=n,r=r.alternate,r!==null&&(r.memoizedState=n),n}function ov(r){var n=sv(r);n.next===null&&(n=r.alternate.memoizedState),Xa(r,n.next.queue,{},pn())}function Sh(){return Er(pl)}function iv(){return rr().memoizedState}function av(){return rr().memoizedState}function tR(r){for(var n=r.return;n!==null;){switch(n.tag){case 24:case 3:var l=pn();r=Ks(l);var p=Qs(n,r,l);p!==null&&(Jr(p,n,l),Ga(p,n,l)),n={cache:Xf()},r.payload=n;return}n=n.return}}function rR(r,n,l){var p=pn();l={lane:p,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Fc(r)?cv(n,l):(l=$f(r,n,l,p),l!==null&&(Jr(l,r,p),uv(l,n,p)))}function lv(r,n,l){var p=pn();Xa(r,n,l,p)}function Xa(r,n,l,p){var x={lane:p,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Fc(r))cv(n,x);else{var E=r.alternate;if(r.lanes===0&&(E===null||E.lanes===0)&&(E=n.lastRenderedReducer,E!==null))try{var P=n.lastRenderedState,J=E(P,l);if(x.hasEagerState=!0,x.eagerState=J,ln(J,P))return Sc(r,n,x,0),Ot===null&&wc(),!1}catch{}finally{}if(l=$f(r,n,x,p),l!==null)return Jr(l,r,p),uv(l,n,p),!0}return!1}function jh(r,n,l,p){if(p={lane:2,revertLane:tp(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Fc(r)){if(n)throw Error(o(479))}else n=$f(r,l,p,2),n!==null&&Jr(n,r,2)}function Fc(r){var n=r.alternate;return r===ft||n!==null&&n===ft}function cv(r,n){Ii=Pc=!0;var l=r.pending;l===null?n.next=n:(n.next=l.next,l.next=n),r.pending=n}function uv(r,n,l){if((l&4194048)!==0){var p=n.lanes;p&=r.pendingLanes,l|=p,n.lanes=l,Ke(r,l)}}var Za={readContext:Er,use:Uc,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt,useHostTransitionStatus:Xt,useFormState:Xt,useActionState:Xt,useOptimistic:Xt,useMemoCache:Xt,useCacheRefresh:Xt};Za.useEffectEvent=Xt;var dv={readContext:Er,use:Uc,useCallback:function(r,n){return $r().memoizedState=[r,n===void 0?null:n],r},useContext:Er,useEffect:Kx,useImperativeHandle:function(r,n,l){l=l!=null?l.concat([r]):null,$c(4194308,4,Zx.bind(null,n,r),l)},useLayoutEffect:function(r,n){return $c(4194308,4,r,n)},useInsertionEffect:function(r,n){$c(4,2,r,n)},useMemo:function(r,n){var l=$r();n=n===void 0?null:n;var p=r();if(Fo){Xe(!0);try{r()}finally{Xe(!1)}}return l.memoizedState=[p,n],p},useReducer:function(r,n,l){var p=$r();if(l!==void 0){var x=l(n);if(Fo){Xe(!0);try{l(n)}finally{Xe(!1)}}}else x=n;return p.memoizedState=p.baseState=x,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:x},p.queue=r,r=r.dispatch=rR.bind(null,ft,r),[p.memoizedState,r]},useRef:function(r){var n=$r();return r={current:r},n.memoizedState=r},useState:function(r){r=gh(r);var n=r.queue,l=lv.bind(null,ft,n);return n.dispatch=l,[r.memoizedState,l]},useDebugValue:xh,useDeferredValue:function(r,n){var l=$r();return vh(l,r,n)},useTransition:function(){var r=gh(!1);return r=nv.bind(null,ft,r.queue,!0,!1),$r().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,n,l){var p=ft,x=$r();if(wt){if(l===void 0)throw Error(o(407));l=l()}else{if(l=n(),Ot===null)throw Error(o(349));(xt&127)!==0||kx(p,n,l)}x.memoizedState=l;var E={value:l,getSnapshot:n};return x.queue=E,Kx(Dx.bind(null,p,E,r),[r]),p.flags|=2048,Ui(9,{destroy:void 0},Ox.bind(null,p,E,l,n),null),l},useId:function(){var r=$r(),n=Ot.identifierPrefix;if(wt){var l=Wn,p=Gn;l=(p&~(1<<32-Ye(p)-1)).toString(32)+l,n="_"+n+"R_"+l,l=Ic++,0<l&&(n+="H"+l.toString(32)),n+="_"}else l=QC++,n="_"+n+"r_"+l.toString(32)+"_";return r.memoizedState=n},useHostTransitionStatus:Sh,useFormState:Vx,useActionState:Vx,useOptimistic:function(r){var n=$r();n.memoizedState=n.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=jh.bind(null,ft,!0,l),l.dispatch=n,[r,n]},useMemoCache:hh,useCacheRefresh:function(){return $r().memoizedState=tR.bind(null,ft)},useEffectEvent:function(r){var n=$r(),l={impl:r};return n.memoizedState=l,function(){if((Nt&2)!==0)throw Error(o(440));return l.impl.apply(void 0,arguments)}}},Nh={readContext:Er,use:Uc,useCallback:ev,useContext:Er,useEffect:bh,useImperativeHandle:Jx,useInsertionEffect:Yx,useLayoutEffect:Xx,useMemo:tv,useReducer:Lc,useRef:Wx,useState:function(){return Lc(hs)},useDebugValue:xh,useDeferredValue:function(r,n){var l=rr();return rv(l,Tt.memoizedState,r,n)},useTransition:function(){var r=Lc(hs)[0],n=rr().memoizedState;return[typeof r=="boolean"?r:Ya(r),n]},useSyncExternalStore:Mx,useId:iv,useHostTransitionStatus:Sh,useFormState:qx,useActionState:qx,useOptimistic:function(r,n){var l=rr();return Bx(l,Tt,r,n)},useMemoCache:hh,useCacheRefresh:av};Nh.useEffectEvent=Qx;var fv={readContext:Er,use:Uc,useCallback:ev,useContext:Er,useEffect:bh,useImperativeHandle:Jx,useInsertionEffect:Yx,useLayoutEffect:Xx,useMemo:tv,useReducer:mh,useRef:Wx,useState:function(){return mh(hs)},useDebugValue:xh,useDeferredValue:function(r,n){var l=rr();return Tt===null?vh(l,r,n):rv(l,Tt.memoizedState,r,n)},useTransition:function(){var r=mh(hs)[0],n=rr().memoizedState;return[typeof r=="boolean"?r:Ya(r),n]},useSyncExternalStore:Mx,useId:iv,useHostTransitionStatus:Sh,useFormState:Gx,useActionState:Gx,useOptimistic:function(r,n){var l=rr();return Tt!==null?Bx(l,Tt,r,n):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:hh,useCacheRefresh:av};fv.useEffectEvent=Qx;function _h(r,n,l,p){n=r.memoizedState,l=l(p,n),l=l==null?n:g({},n,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Eh={enqueueSetState:function(r,n,l){r=r._reactInternals;var p=pn(),x=Ks(p);x.payload=n,l!=null&&(x.callback=l),n=Qs(r,x,p),n!==null&&(Jr(n,r,p),Ga(n,r,p))},enqueueReplaceState:function(r,n,l){r=r._reactInternals;var p=pn(),x=Ks(p);x.tag=1,x.payload=n,l!=null&&(x.callback=l),n=Qs(r,x,p),n!==null&&(Jr(n,r,p),Ga(n,r,p))},enqueueForceUpdate:function(r,n){r=r._reactInternals;var l=pn(),p=Ks(l);p.tag=2,n!=null&&(p.callback=n),n=Qs(r,p,l),n!==null&&(Jr(n,r,l),Ga(n,r,l))}};function hv(r,n,l,p,x,E,P){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(p,E,P):n.prototype&&n.prototype.isPureReactComponent?!Ua(l,p)||!Ua(x,E):!0}function pv(r,n,l,p){r=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,p),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,p),n.state!==r&&Eh.enqueueReplaceState(n,n.state,null)}function Vo(r,n){var l=n;if("ref"in n){l={};for(var p in n)p!=="ref"&&(l[p]=n[p])}if(r=r.defaultProps){l===n&&(l=g({},l));for(var x in r)l[x]===void 0&&(l[x]=r[x])}return l}function mv(r){vc(r)}function gv(r){console.error(r)}function yv(r){vc(r)}function Vc(r,n){try{var l=r.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(p){setTimeout(function(){throw p})}}function bv(r,n,l){try{var p=r.onCaughtError;p(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function Ah(r,n,l){return l=Ks(l),l.tag=3,l.payload={element:null},l.callback=function(){Vc(r,n)},l}function xv(r){return r=Ks(r),r.tag=3,r}function vv(r,n,l,p){var x=l.type.getDerivedStateFromError;if(typeof x=="function"){var E=p.value;r.payload=function(){return x(E)},r.callback=function(){bv(n,l,p)}}var P=l.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(r.callback=function(){bv(n,l,p),typeof x!="function"&&(to===null?to=new Set([this]):to.add(this));var J=p.stack;this.componentDidCatch(p.value,{componentStack:J!==null?J:""})})}function nR(r,n,l,p,x){if(l.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(n=l.alternate,n!==null&&Ri(n,l,x,!0),l=un.current,l!==null){switch(l.tag){case 31:case 13:return Nn===null?tu():l.alternate===null&&Zt===0&&(Zt=3),l.flags&=-257,l.flags|=65536,l.lanes=x,p===Rc?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([p]):n.add(p),Zh(r,p,x)),!1;case 22:return l.flags|=65536,p===Rc?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([p])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([p]):l.add(p)),Zh(r,p,x)),!1}throw Error(o(435,l.tag))}return Zh(r,p,x),tu(),!1}if(wt)return n=un.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=x,p!==Gf&&(r=Error(o(422),{cause:p}),za(vn(r,l)))):(p!==Gf&&(n=Error(o(423),{cause:p}),za(vn(n,l))),r=r.current.alternate,r.flags|=65536,x&=-x,r.lanes|=x,p=vn(p,l),x=Ah(r.stateNode,p,x),nh(r,x),Zt!==4&&(Zt=2)),!1;var E=Error(o(520),{cause:p});if(E=vn(E,l),il===null?il=[E]:il.push(E),Zt!==4&&(Zt=2),n===null)return!0;p=vn(p,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,r=x&-x,l.lanes|=r,r=Ah(l.stateNode,p,r),nh(l,r),!1;case 1:if(n=l.type,E=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(to===null||!to.has(E))))return l.flags|=65536,x&=-x,l.lanes|=x,x=xv(x),vv(x,r,l,p),nh(l,x),!1}l=l.return}while(l!==null);return!1}var Th=Error(o(461)),cr=!1;function Ar(r,n,l,p){n.child=r===null?Nx(n,null,l,p):zo(n,r.child,l,p)}function wv(r,n,l,p,x){l=l.render;var E=n.ref;if("ref"in p){var P={};for(var J in p)J!=="ref"&&(P[J]=p[J])}else P=p;return Bo(n),p=ch(r,n,l,P,E,x),J=uh(),r!==null&&!cr?(dh(r,n,x),ps(r,n,x)):(wt&&J&&qf(n),n.flags|=1,Ar(r,n,p,x),n.child)}function Sv(r,n,l,p,x){if(r===null){var E=l.type;return typeof E=="function"&&!zf(E)&&E.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=E,jv(r,n,E,p,x)):(r=Nc(l.type,null,p,n,n.mode,x),r.ref=n.ref,r.return=n,n.child=r)}if(E=r.child,!Ih(r,x)){var P=E.memoizedProps;if(l=l.compare,l=l!==null?l:Ua,l(P,p)&&r.ref===n.ref)return ps(r,n,x)}return n.flags|=1,r=ls(E,p),r.ref=n.ref,r.return=n,n.child=r}function jv(r,n,l,p,x){if(r!==null){var E=r.memoizedProps;if(Ua(E,p)&&r.ref===n.ref)if(cr=!1,n.pendingProps=p=E,Ih(r,x))(r.flags&131072)!==0&&(cr=!0);else return n.lanes=r.lanes,ps(r,n,x)}return Ch(r,n,l,p,x)}function Nv(r,n,l,p){var x=p.children,E=r!==null?r.memoizedState:null;if(r===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((n.flags&128)!==0){if(E=E!==null?E.baseLanes|l:l,r!==null){for(p=n.child=r.child,x=0;p!==null;)x=x|p.lanes|p.childLanes,p=p.sibling;p=x&~E}else p=0,n.child=null;return _v(r,n,E,l,p)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},r!==null&&Tc(n,E!==null?E.cachePool:null),E!==null?Ax(n,E):oh(),Tx(n);else return p=n.lanes=536870912,_v(r,n,E!==null?E.baseLanes|l:l,l,p)}else E!==null?(Tc(n,E.cachePool),Ax(n,E),Xs(),n.memoizedState=null):(r!==null&&Tc(n,null),oh(),Xs());return Ar(r,n,x,l),n.child}function Ja(r,n){return r!==null&&r.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function _v(r,n,l,p,x){var E=Jf();return E=E===null?null:{parent:ar._currentValue,pool:E},n.memoizedState={baseLanes:l,cachePool:E},r!==null&&Tc(n,null),oh(),Tx(n),r!==null&&Ri(r,n,p,!0),n.childLanes=x,null}function qc(r,n){return n=Gc({mode:n.mode,children:n.children},r.mode),n.ref=r.ref,r.child=n,n.return=r,n}function Ev(r,n,l){return zo(n,r.child,null,l),r=qc(n,n.pendingProps),r.flags|=2,dn(n),n.memoizedState=null,r}function sR(r,n,l){var p=n.pendingProps,x=(n.flags&128)!==0;if(n.flags&=-129,r===null){if(wt){if(p.mode==="hidden")return r=qc(n,p),n.lanes=536870912,Ja(null,r);if(ah(n),(r=Bt)?(r=Uw(r,jn),r=r!==null&&r.data==="&"?r:null,r!==null&&(n.memoizedState={dehydrated:r,treeContext:Vs!==null?{id:Gn,overflow:Wn}:null,retryLane:536870912,hydrationErrors:null},l=lx(r),l.return=n,n.child=l,_r=n,Bt=null)):r=null,r===null)throw Hs(n);return n.lanes=536870912,null}return qc(n,p)}var E=r.memoizedState;if(E!==null){var P=E.dehydrated;if(ah(n),x)if(n.flags&256)n.flags&=-257,n=Ev(r,n,l);else if(n.memoizedState!==null)n.child=r.child,n.flags|=128,n=null;else throw Error(o(558));else if(cr||Ri(r,n,l,!1),x=(l&r.childLanes)!==0,cr||x){if(p=Ot,p!==null&&(P=Qe(p,l),P!==0&&P!==E.retryLane))throw E.retryLane=P,Oo(r,P),Jr(p,r,P),Th;tu(),n=Ev(r,n,l)}else r=E.treeContext,Bt=_n(P.nextSibling),_r=n,wt=!0,qs=null,jn=!1,r!==null&&dx(n,r),n=qc(n,p),n.flags|=4096;return n}return r=ls(r.child,{mode:p.mode,children:p.children}),r.ref=n.ref,n.child=r,r.return=n,r}function Hc(r,n){var l=n.ref;if(l===null)r!==null&&r.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(r===null||r.ref!==l)&&(n.flags|=4194816)}}function Ch(r,n,l,p,x){return Bo(n),l=ch(r,n,l,p,void 0,x),p=uh(),r!==null&&!cr?(dh(r,n,x),ps(r,n,x)):(wt&&p&&qf(n),n.flags|=1,Ar(r,n,l,x),n.child)}function Av(r,n,l,p,x,E){return Bo(n),n.updateQueue=null,l=Rx(n,p,l,x),Cx(r),p=uh(),r!==null&&!cr?(dh(r,n,E),ps(r,n,E)):(wt&&p&&qf(n),n.flags|=1,Ar(r,n,l,E),n.child)}function Tv(r,n,l,p,x){if(Bo(n),n.stateNode===null){var E=Ei,P=l.contextType;typeof P=="object"&&P!==null&&(E=Er(P)),E=new l(p,E),n.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=Eh,n.stateNode=E,E._reactInternals=n,E=n.stateNode,E.props=p,E.state=n.memoizedState,E.refs={},th(n),P=l.contextType,E.context=typeof P=="object"&&P!==null?Er(P):Ei,E.state=n.memoizedState,P=l.getDerivedStateFromProps,typeof P=="function"&&(_h(n,l,P,p),E.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(P=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),P!==E.state&&Eh.enqueueReplaceState(E,E.state,null),Ka(n,p,E,x),Wa(),E.state=n.memoizedState),typeof E.componentDidMount=="function"&&(n.flags|=4194308),p=!0}else if(r===null){E=n.stateNode;var J=n.memoizedProps,ye=Vo(l,J);E.props=ye;var Re=E.context,Le=l.contextType;P=Ei,typeof Le=="object"&&Le!==null&&(P=Er(Le));var Ve=l.getDerivedStateFromProps;Le=typeof Ve=="function"||typeof E.getSnapshotBeforeUpdate=="function",J=n.pendingProps!==J,Le||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(J||Re!==P)&&pv(n,E,p,P),Ws=!1;var ke=n.memoizedState;E.state=ke,Ka(n,p,E,x),Wa(),Re=n.memoizedState,J||ke!==Re||Ws?(typeof Ve=="function"&&(_h(n,l,Ve,p),Re=n.memoizedState),(ye=Ws||hv(n,l,ye,p,ke,Re,P))?(Le||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(n.flags|=4194308)):(typeof E.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=p,n.memoizedState=Re),E.props=p,E.state=Re,E.context=P,p=ye):(typeof E.componentDidMount=="function"&&(n.flags|=4194308),p=!1)}else{E=n.stateNode,rh(r,n),P=n.memoizedProps,Le=Vo(l,P),E.props=Le,Ve=n.pendingProps,ke=E.context,Re=l.contextType,ye=Ei,typeof Re=="object"&&Re!==null&&(ye=Er(Re)),J=l.getDerivedStateFromProps,(Re=typeof J=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(P!==Ve||ke!==ye)&&pv(n,E,p,ye),Ws=!1,ke=n.memoizedState,E.state=ke,Ka(n,p,E,x),Wa();var De=n.memoizedState;P!==Ve||ke!==De||Ws||r!==null&&r.dependencies!==null&&Ec(r.dependencies)?(typeof J=="function"&&(_h(n,l,J,p),De=n.memoizedState),(Le=Ws||hv(n,l,Le,p,ke,De,ye)||r!==null&&r.dependencies!==null&&Ec(r.dependencies))?(Re||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(p,De,ye),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(p,De,ye)),typeof E.componentDidUpdate=="function"&&(n.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof E.componentDidUpdate!="function"||P===r.memoizedProps&&ke===r.memoizedState||(n.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&ke===r.memoizedState||(n.flags|=1024),n.memoizedProps=p,n.memoizedState=De),E.props=p,E.state=De,E.context=ye,p=Le):(typeof E.componentDidUpdate!="function"||P===r.memoizedProps&&ke===r.memoizedState||(n.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&ke===r.memoizedState||(n.flags|=1024),p=!1)}return E=p,Hc(r,n),p=(n.flags&128)!==0,E||p?(E=n.stateNode,l=p&&typeof l.getDerivedStateFromError!="function"?null:E.render(),n.flags|=1,r!==null&&p?(n.child=zo(n,r.child,null,x),n.child=zo(n,null,l,x)):Ar(r,n,l,x),n.memoizedState=E.state,r=n.child):r=ps(r,n,x),r}function Cv(r,n,l,p){return Po(),n.flags|=256,Ar(r,n,l,p),n.child}var Rh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mh(r){return{baseLanes:r,cachePool:yx()}}function kh(r,n,l){return r=r!==null?r.childLanes&~l:0,n&&(r|=hn),r}function Rv(r,n,l){var p=n.pendingProps,x=!1,E=(n.flags&128)!==0,P;if((P=E)||(P=r!==null&&r.memoizedState===null?!1:(tr.current&2)!==0),P&&(x=!0,n.flags&=-129),P=(n.flags&32)!==0,n.flags&=-33,r===null){if(wt){if(x?Ys(n):Xs(),(r=Bt)?(r=Uw(r,jn),r=r!==null&&r.data!=="&"?r:null,r!==null&&(n.memoizedState={dehydrated:r,treeContext:Vs!==null?{id:Gn,overflow:Wn}:null,retryLane:536870912,hydrationErrors:null},l=lx(r),l.return=n,n.child=l,_r=n,Bt=null)):r=null,r===null)throw Hs(n);return pp(r)?n.lanes=32:n.lanes=536870912,null}var J=p.children;return p=p.fallback,x?(Xs(),x=n.mode,J=Gc({mode:"hidden",children:J},x),p=Do(p,x,l,null),J.return=n,p.return=n,J.sibling=p,n.child=J,p=n.child,p.memoizedState=Mh(l),p.childLanes=kh(r,P,l),n.memoizedState=Rh,Ja(null,p)):(Ys(n),Oh(n,J))}var ye=r.memoizedState;if(ye!==null&&(J=ye.dehydrated,J!==null)){if(E)n.flags&256?(Ys(n),n.flags&=-257,n=Dh(r,n,l)):n.memoizedState!==null?(Xs(),n.child=r.child,n.flags|=128,n=null):(Xs(),J=p.fallback,x=n.mode,p=Gc({mode:"visible",children:p.children},x),J=Do(J,x,l,null),J.flags|=2,p.return=n,J.return=n,p.sibling=J,n.child=p,zo(n,r.child,null,l),p=n.child,p.memoizedState=Mh(l),p.childLanes=kh(r,P,l),n.memoizedState=Rh,n=Ja(null,p));else if(Ys(n),pp(J)){if(P=J.nextSibling&&J.nextSibling.dataset,P)var Re=P.dgst;P=Re,p=Error(o(419)),p.stack="",p.digest=P,za({value:p,source:null,stack:null}),n=Dh(r,n,l)}else if(cr||Ri(r,n,l,!1),P=(l&r.childLanes)!==0,cr||P){if(P=Ot,P!==null&&(p=Qe(P,l),p!==0&&p!==ye.retryLane))throw ye.retryLane=p,Oo(r,p),Jr(P,r,p),Th;hp(J)||tu(),n=Dh(r,n,l)}else hp(J)?(n.flags|=192,n.child=r.child,n=null):(r=ye.treeContext,Bt=_n(J.nextSibling),_r=n,wt=!0,qs=null,jn=!1,r!==null&&dx(n,r),n=Oh(n,p.children),n.flags|=4096);return n}return x?(Xs(),J=p.fallback,x=n.mode,ye=r.child,Re=ye.sibling,p=ls(ye,{mode:"hidden",children:p.children}),p.subtreeFlags=ye.subtreeFlags&65011712,Re!==null?J=ls(Re,J):(J=Do(J,x,l,null),J.flags|=2),J.return=n,p.return=n,p.sibling=J,n.child=p,Ja(null,p),p=n.child,J=r.child.memoizedState,J===null?J=Mh(l):(x=J.cachePool,x!==null?(ye=ar._currentValue,x=x.parent!==ye?{parent:ye,pool:ye}:x):x=yx(),J={baseLanes:J.baseLanes|l,cachePool:x}),p.memoizedState=J,p.childLanes=kh(r,P,l),n.memoizedState=Rh,Ja(r.child,p)):(Ys(n),l=r.child,r=l.sibling,l=ls(l,{mode:"visible",children:p.children}),l.return=n,l.sibling=null,r!==null&&(P=n.deletions,P===null?(n.deletions=[r],n.flags|=16):P.push(r)),n.child=l,n.memoizedState=null,l)}function Oh(r,n){return n=Gc({mode:"visible",children:n},r.mode),n.return=r,r.child=n}function Gc(r,n){return r=cn(22,r,null,n),r.lanes=0,r}function Dh(r,n,l){return zo(n,r.child,null,l),r=Oh(n,n.pendingProps.children),r.flags|=2,n.memoizedState=null,r}function Mv(r,n,l){r.lanes|=n;var p=r.alternate;p!==null&&(p.lanes|=n),Qf(r.return,n,l)}function Ph(r,n,l,p,x,E){var P=r.memoizedState;P===null?r.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:p,tail:l,tailMode:x,treeForkCount:E}:(P.isBackwards=n,P.rendering=null,P.renderingStartTime=0,P.last=p,P.tail=l,P.tailMode=x,P.treeForkCount=E)}function kv(r,n,l){var p=n.pendingProps,x=p.revealOrder,E=p.tail;p=p.children;var P=tr.current,J=(P&2)!==0;if(J?(P=P&1|2,n.flags|=128):P&=1,Z(tr,P),Ar(r,n,p,l),p=wt?$a:0,!J&&r!==null&&(r.flags&128)!==0)e:for(r=n.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Mv(r,l,n);else if(r.tag===19)Mv(r,l,n);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(x){case"forwards":for(l=n.child,x=null;l!==null;)r=l.alternate,r!==null&&Dc(r)===null&&(x=l),l=l.sibling;l=x,l===null?(x=n.child,n.child=null):(x=l.sibling,l.sibling=null),Ph(n,!1,x,l,E,p);break;case"backwards":case"unstable_legacy-backwards":for(l=null,x=n.child,n.child=null;x!==null;){if(r=x.alternate,r!==null&&Dc(r)===null){n.child=x;break}r=x.sibling,x.sibling=l,l=x,x=r}Ph(n,!0,l,null,E,p);break;case"together":Ph(n,!1,null,null,void 0,p);break;default:n.memoizedState=null}return n.child}function ps(r,n,l){if(r!==null&&(n.dependencies=r.dependencies),eo|=n.lanes,(l&n.childLanes)===0)if(r!==null){if(Ri(r,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(r!==null&&n.child!==r.child)throw Error(o(153));if(n.child!==null){for(r=n.child,l=ls(r,r.pendingProps),n.child=l,l.return=n;r.sibling!==null;)r=r.sibling,l=l.sibling=ls(r,r.pendingProps),l.return=n;l.sibling=null}return n.child}function Ih(r,n){return(r.lanes&n)!==0?!0:(r=r.dependencies,!!(r!==null&&Ec(r)))}function oR(r,n,l){switch(n.tag){case 3:le(n,n.stateNode.containerInfo),Gs(n,ar,r.memoizedState.cache),Po();break;case 27:case 5:be(n);break;case 4:le(n,n.stateNode.containerInfo);break;case 10:Gs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ah(n),null;break;case 13:var p=n.memoizedState;if(p!==null)return p.dehydrated!==null?(Ys(n),n.flags|=128,null):(l&n.child.childLanes)!==0?Rv(r,n,l):(Ys(n),r=ps(r,n,l),r!==null?r.sibling:null);Ys(n);break;case 19:var x=(r.flags&128)!==0;if(p=(l&n.childLanes)!==0,p||(Ri(r,n,l,!1),p=(l&n.childLanes)!==0),x){if(p)return kv(r,n,l);n.flags|=128}if(x=n.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Z(tr,tr.current),p)break;return null;case 22:return n.lanes=0,Nv(r,n,l,n.pendingProps);case 24:Gs(n,ar,r.memoizedState.cache)}return ps(r,n,l)}function Ov(r,n,l){if(r!==null)if(r.memoizedProps!==n.pendingProps)cr=!0;else{if(!Ih(r,l)&&(n.flags&128)===0)return cr=!1,oR(r,n,l);cr=(r.flags&131072)!==0}else cr=!1,wt&&(n.flags&1048576)!==0&&ux(n,$a,n.index);switch(n.lanes=0,n.tag){case 16:e:{var p=n.pendingProps;if(r=Lo(n.elementType),n.type=r,typeof r=="function")zf(r)?(p=Vo(r,p),n.tag=1,n=Tv(null,n,r,p,l)):(n.tag=0,n=Ch(null,n,r,p,l));else{if(r!=null){var x=r.$$typeof;if(x===M){n.tag=11,n=wv(null,n,r,p,l);break e}else if(x===R){n.tag=14,n=Sv(null,n,r,p,l);break e}}throw n=H(r)||r,Error(o(306,n,""))}}return n;case 0:return Ch(r,n,n.type,n.pendingProps,l);case 1:return p=n.type,x=Vo(p,n.pendingProps),Tv(r,n,p,x,l);case 3:e:{if(le(n,n.stateNode.containerInfo),r===null)throw Error(o(387));p=n.pendingProps;var E=n.memoizedState;x=E.element,rh(r,n),Ka(n,p,null,l);var P=n.memoizedState;if(p=P.cache,Gs(n,ar,p),p!==E.cache&&Yf(n,[ar],l,!0),Wa(),p=P.element,E.isDehydrated)if(E={element:p,isDehydrated:!1,cache:P.cache},n.updateQueue.baseState=E,n.memoizedState=E,n.flags&256){n=Cv(r,n,p,l);break e}else if(p!==x){x=vn(Error(o(424)),n),za(x),n=Cv(r,n,p,l);break e}else{switch(r=n.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Bt=_n(r.firstChild),_r=n,wt=!0,qs=null,jn=!0,l=Nx(n,null,p,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Po(),p===x){n=ps(r,n,l);break e}Ar(r,n,p,l)}n=n.child}return n;case 26:return Hc(r,n),r===null?(l=qw(n.type,null,n.pendingProps,null))?n.memoizedState=l:wt||(l=n.type,r=n.pendingProps,p=lu(Ee.current).createElement(l),p[Kt]=n,p[fr]=r,Tr(p,l,r),br(p),n.stateNode=p):n.memoizedState=qw(n.type,r.memoizedProps,n.pendingProps,r.memoizedState),null;case 27:return be(n),r===null&&wt&&(p=n.stateNode=zw(n.type,n.pendingProps,Ee.current),_r=n,jn=!0,x=Bt,oo(n.type)?(mp=x,Bt=_n(p.firstChild)):Bt=x),Ar(r,n,n.pendingProps.children,l),Hc(r,n),r===null&&(n.flags|=4194304),n.child;case 5:return r===null&&wt&&((x=p=Bt)&&(p=PR(p,n.type,n.pendingProps,jn),p!==null?(n.stateNode=p,_r=n,Bt=_n(p.firstChild),jn=!1,x=!0):x=!1),x||Hs(n)),be(n),x=n.type,E=n.pendingProps,P=r!==null?r.memoizedProps:null,p=E.children,up(x,E)?p=null:P!==null&&up(x,P)&&(n.flags|=32),n.memoizedState!==null&&(x=ch(r,n,YC,null,null,l),pl._currentValue=x),Hc(r,n),Ar(r,n,p,l),n.child;case 6:return r===null&&wt&&((r=l=Bt)&&(l=IR(l,n.pendingProps,jn),l!==null?(n.stateNode=l,_r=n,Bt=null,r=!0):r=!1),r||Hs(n)),null;case 13:return Rv(r,n,l);case 4:return le(n,n.stateNode.containerInfo),p=n.pendingProps,r===null?n.child=zo(n,null,p,l):Ar(r,n,p,l),n.child;case 11:return wv(r,n,n.type,n.pendingProps,l);case 7:return Ar(r,n,n.pendingProps,l),n.child;case 8:return Ar(r,n,n.pendingProps.children,l),n.child;case 12:return Ar(r,n,n.pendingProps.children,l),n.child;case 10:return p=n.pendingProps,Gs(n,n.type,p.value),Ar(r,n,p.children,l),n.child;case 9:return x=n.type._context,p=n.pendingProps.children,Bo(n),x=Er(x),p=p(x),n.flags|=1,Ar(r,n,p,l),n.child;case 14:return Sv(r,n,n.type,n.pendingProps,l);case 15:return jv(r,n,n.type,n.pendingProps,l);case 19:return kv(r,n,l);case 31:return sR(r,n,l);case 22:return Nv(r,n,l,n.pendingProps);case 24:return Bo(n),p=Er(ar),r===null?(x=Jf(),x===null&&(x=Ot,E=Xf(),x.pooledCache=E,E.refCount++,E!==null&&(x.pooledCacheLanes|=l),x=E),n.memoizedState={parent:p,cache:x},th(n),Gs(n,ar,x)):((r.lanes&l)!==0&&(rh(r,n),Ka(n,null,null,l),Wa()),x=r.memoizedState,E=n.memoizedState,x.parent!==p?(x={parent:p,cache:p},n.memoizedState=x,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=x),Gs(n,ar,p)):(p=E.cache,Gs(n,ar,p),p!==x.cache&&Yf(n,[ar],l,!0))),Ar(r,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(o(156,n.tag))}function ms(r){r.flags|=4}function Bh(r,n,l,p,x){if((n=(r.mode&32)!==0)&&(n=!1),n){if(r.flags|=16777216,(x&335544128)===x)if(r.stateNode.complete)r.flags|=8192;else if(iw())r.flags|=8192;else throw $o=Rc,eh}else r.flags&=-16777217}function Dv(r,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Qw(n))if(iw())r.flags|=8192;else throw $o=Rc,eh}function Wc(r,n){n!==null&&(r.flags|=4),r.flags&16384&&(n=r.tag!==22?Wt():536870912,r.lanes|=n,Fi|=n)}function el(r,n){if(!wt)switch(r.tailMode){case"hidden":n=r.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?n||r.tail===null?r.tail=null:r.tail.sibling=null:p.sibling=null}}function Ut(r){var n=r.alternate!==null&&r.alternate.child===r.child,l=0,p=0;if(n)for(var x=r.child;x!==null;)l|=x.lanes|x.childLanes,p|=x.subtreeFlags&65011712,p|=x.flags&65011712,x.return=r,x=x.sibling;else for(x=r.child;x!==null;)l|=x.lanes|x.childLanes,p|=x.subtreeFlags,p|=x.flags,x.return=r,x=x.sibling;return r.subtreeFlags|=p,r.childLanes=l,n}function iR(r,n,l){var p=n.pendingProps;switch(Hf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(n),null;case 1:return Ut(n),null;case 3:return l=n.stateNode,p=null,r!==null&&(p=r.memoizedState.cache),n.memoizedState.cache!==p&&(n.flags|=2048),ds(ar),Se(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Ci(n)?ms(n):r===null||r.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wf())),Ut(n),null;case 26:var x=n.type,E=n.memoizedState;return r===null?(ms(n),E!==null?(Ut(n),Dv(n,E)):(Ut(n),Bh(n,x,null,p,l))):E?E!==r.memoizedState?(ms(n),Ut(n),Dv(n,E)):(Ut(n),n.flags&=-16777217):(r=r.memoizedProps,r!==p&&ms(n),Ut(n),Bh(n,x,r,p,l)),null;case 27:if(ve(n),l=Ee.current,x=n.type,r!==null&&n.stateNode!=null)r.memoizedProps!==p&&ms(n);else{if(!p){if(n.stateNode===null)throw Error(o(166));return Ut(n),null}r=pe.current,Ci(n)?fx(n):(r=zw(x,p,l),n.stateNode=r,ms(n))}return Ut(n),null;case 5:if(ve(n),x=n.type,r!==null&&n.stateNode!=null)r.memoizedProps!==p&&ms(n);else{if(!p){if(n.stateNode===null)throw Error(o(166));return Ut(n),null}if(E=pe.current,Ci(n))fx(n);else{var P=lu(Ee.current);switch(E){case 1:E=P.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:E=P.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":E=P.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":E=P.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":E=P.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof p.is=="string"?P.createElement("select",{is:p.is}):P.createElement("select"),p.multiple?E.multiple=!0:p.size&&(E.size=p.size);break;default:E=typeof p.is=="string"?P.createElement(x,{is:p.is}):P.createElement(x)}}E[Kt]=n,E[fr]=p;e:for(P=n.child;P!==null;){if(P.tag===5||P.tag===6)E.appendChild(P.stateNode);else if(P.tag!==4&&P.tag!==27&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===n)break e;for(;P.sibling===null;){if(P.return===null||P.return===n)break e;P=P.return}P.sibling.return=P.return,P=P.sibling}n.stateNode=E;e:switch(Tr(E,x,p),x){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&ms(n)}}return Ut(n),Bh(n,n.type,r===null?null:r.memoizedProps,n.pendingProps,l),null;case 6:if(r&&n.stateNode!=null)r.memoizedProps!==p&&ms(n);else{if(typeof p!="string"&&n.stateNode===null)throw Error(o(166));if(r=Ee.current,Ci(n)){if(r=n.stateNode,l=n.memoizedProps,p=null,x=_r,x!==null)switch(x.tag){case 27:case 5:p=x.memoizedProps}r[Kt]=n,r=!!(r.nodeValue===l||p!==null&&p.suppressHydrationWarning===!0||Rw(r.nodeValue,l)),r||Hs(n,!0)}else r=lu(r).createTextNode(p),r[Kt]=n,n.stateNode=r}return Ut(n),null;case 31:if(l=n.memoizedState,r===null||r.memoizedState!==null){if(p=Ci(n),l!==null){if(r===null){if(!p)throw Error(o(318));if(r=n.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(o(557));r[Kt]=n}else Po(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ut(n),r=!1}else l=Wf(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=l),r=!0;if(!r)return n.flags&256?(dn(n),n):(dn(n),null);if((n.flags&128)!==0)throw Error(o(558))}return Ut(n),null;case 13:if(p=n.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(x=Ci(n),p!==null&&p.dehydrated!==null){if(r===null){if(!x)throw Error(o(318));if(x=n.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(o(317));x[Kt]=n}else Po(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ut(n),x=!1}else x=Wf(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=x),x=!0;if(!x)return n.flags&256?(dn(n),n):(dn(n),null)}return dn(n),(n.flags&128)!==0?(n.lanes=l,n):(l=p!==null,r=r!==null&&r.memoizedState!==null,l&&(p=n.child,x=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(x=p.alternate.memoizedState.cachePool.pool),E=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(E=p.memoizedState.cachePool.pool),E!==x&&(p.flags|=2048)),l!==r&&l&&(n.child.flags|=8192),Wc(n,n.updateQueue),Ut(n),null);case 4:return Se(),r===null&&op(n.stateNode.containerInfo),Ut(n),null;case 10:return ds(n.type),Ut(n),null;case 19:if(z(tr),p=n.memoizedState,p===null)return Ut(n),null;if(x=(n.flags&128)!==0,E=p.rendering,E===null)if(x)el(p,!1);else{if(Zt!==0||r!==null&&(r.flags&128)!==0)for(r=n.child;r!==null;){if(E=Dc(r),E!==null){for(n.flags|=128,el(p,!1),r=E.updateQueue,n.updateQueue=r,Wc(n,r),n.subtreeFlags=0,r=l,l=n.child;l!==null;)ax(l,r),l=l.sibling;return Z(tr,tr.current&1|2),wt&&cs(n,p.treeForkCount),n.child}r=r.sibling}p.tail!==null&&ae()>Zc&&(n.flags|=128,x=!0,el(p,!1),n.lanes=4194304)}else{if(!x)if(r=Dc(E),r!==null){if(n.flags|=128,x=!0,r=r.updateQueue,n.updateQueue=r,Wc(n,r),el(p,!0),p.tail===null&&p.tailMode==="hidden"&&!E.alternate&&!wt)return Ut(n),null}else 2*ae()-p.renderingStartTime>Zc&&l!==536870912&&(n.flags|=128,x=!0,el(p,!1),n.lanes=4194304);p.isBackwards?(E.sibling=n.child,n.child=E):(r=p.last,r!==null?r.sibling=E:n.child=E,p.last=E)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=ae(),r.sibling=null,l=tr.current,Z(tr,x?l&1|2:l&1),wt&&cs(n,p.treeForkCount),r):(Ut(n),null);case 22:case 23:return dn(n),ih(),p=n.memoizedState!==null,r!==null?r.memoizedState!==null!==p&&(n.flags|=8192):p&&(n.flags|=8192),p?(l&536870912)!==0&&(n.flags&128)===0&&(Ut(n),n.subtreeFlags&6&&(n.flags|=8192)):Ut(n),l=n.updateQueue,l!==null&&Wc(n,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),p=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(p=n.memoizedState.cachePool.pool),p!==l&&(n.flags|=2048),r!==null&&z(Uo),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ds(ar),Ut(n),null;case 25:return null;case 30:return null}throw Error(o(156,n.tag))}function aR(r,n){switch(Hf(n),n.tag){case 1:return r=n.flags,r&65536?(n.flags=r&-65537|128,n):null;case 3:return ds(ar),Se(),r=n.flags,(r&65536)!==0&&(r&128)===0?(n.flags=r&-65537|128,n):null;case 26:case 27:case 5:return ve(n),null;case 31:if(n.memoizedState!==null){if(dn(n),n.alternate===null)throw Error(o(340));Po()}return r=n.flags,r&65536?(n.flags=r&-65537|128,n):null;case 13:if(dn(n),r=n.memoizedState,r!==null&&r.dehydrated!==null){if(n.alternate===null)throw Error(o(340));Po()}return r=n.flags,r&65536?(n.flags=r&-65537|128,n):null;case 19:return z(tr),null;case 4:return Se(),null;case 10:return ds(n.type),null;case 22:case 23:return dn(n),ih(),r!==null&&z(Uo),r=n.flags,r&65536?(n.flags=r&-65537|128,n):null;case 24:return ds(ar),null;case 25:return null;default:return null}}function Pv(r,n){switch(Hf(n),n.tag){case 3:ds(ar),Se();break;case 26:case 27:case 5:ve(n);break;case 4:Se();break;case 31:n.memoizedState!==null&&dn(n);break;case 13:dn(n);break;case 19:z(tr);break;case 10:ds(n.type);break;case 22:case 23:dn(n),ih(),r!==null&&z(Uo);break;case 24:ds(ar)}}function tl(r,n){try{var l=n.updateQueue,p=l!==null?l.lastEffect:null;if(p!==null){var x=p.next;l=x;do{if((l.tag&r)===r){p=void 0;var E=l.create,P=l.inst;p=E(),P.destroy=p}l=l.next}while(l!==x)}}catch(J){Et(n,n.return,J)}}function Zs(r,n,l){try{var p=n.updateQueue,x=p!==null?p.lastEffect:null;if(x!==null){var E=x.next;p=E;do{if((p.tag&r)===r){var P=p.inst,J=P.destroy;if(J!==void 0){P.destroy=void 0,x=n;var ye=l,Re=J;try{Re()}catch(Le){Et(x,ye,Le)}}}p=p.next}while(p!==E)}}catch(Le){Et(n,n.return,Le)}}function Iv(r){var n=r.updateQueue;if(n!==null){var l=r.stateNode;try{Ex(n,l)}catch(p){Et(r,r.return,p)}}}function Bv(r,n,l){l.props=Vo(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(p){Et(r,n,p)}}function rl(r,n){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var p=r.stateNode;break;case 30:p=r.stateNode;break;default:p=r.stateNode}typeof l=="function"?r.refCleanup=l(p):l.current=p}}catch(x){Et(r,n,x)}}function Kn(r,n){var l=r.ref,p=r.refCleanup;if(l!==null)if(typeof p=="function")try{p()}catch(x){Et(r,n,x)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(x){Et(r,n,x)}else l.current=null}function Uv(r){var n=r.type,l=r.memoizedProps,p=r.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&p.focus();break e;case"img":l.src?p.src=l.src:l.srcSet&&(p.srcset=l.srcSet)}}catch(x){Et(r,r.return,x)}}function Uh(r,n,l){try{var p=r.stateNode;CR(p,r.type,l,n),p[fr]=n}catch(x){Et(r,r.return,x)}}function Lv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&oo(r.type)||r.tag===4}function Lh(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Lv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&oo(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function $h(r,n,l){var p=r.tag;if(p===5||p===6)r=r.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(r),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=is));else if(p!==4&&(p===27&&oo(r.type)&&(l=r.stateNode,n=null),r=r.child,r!==null))for($h(r,n,l),r=r.sibling;r!==null;)$h(r,n,l),r=r.sibling}function Kc(r,n,l){var p=r.tag;if(p===5||p===6)r=r.stateNode,n?l.insertBefore(r,n):l.appendChild(r);else if(p!==4&&(p===27&&oo(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(Kc(r,n,l),r=r.sibling;r!==null;)Kc(r,n,l),r=r.sibling}function $v(r){var n=r.stateNode,l=r.memoizedProps;try{for(var p=r.type,x=n.attributes;x.length;)n.removeAttributeNode(x[0]);Tr(n,p,l),n[Kt]=r,n[fr]=l}catch(E){Et(r,r.return,E)}}var gs=!1,ur=!1,zh=!1,zv=typeof WeakSet=="function"?WeakSet:Set,xr=null;function lR(r,n){if(r=r.containerInfo,lp=mu,r=Z0(r),Df(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var p=l.getSelection&&l.getSelection();if(p&&p.rangeCount!==0){l=p.anchorNode;var x=p.anchorOffset,E=p.focusNode;p=p.focusOffset;try{l.nodeType,E.nodeType}catch{l=null;break e}var P=0,J=-1,ye=-1,Re=0,Le=0,Ve=r,ke=null;t:for(;;){for(var De;Ve!==l||x!==0&&Ve.nodeType!==3||(J=P+x),Ve!==E||p!==0&&Ve.nodeType!==3||(ye=P+p),Ve.nodeType===3&&(P+=Ve.nodeValue.length),(De=Ve.firstChild)!==null;)ke=Ve,Ve=De;for(;;){if(Ve===r)break t;if(ke===l&&++Re===x&&(J=P),ke===E&&++Le===p&&(ye=P),(De=Ve.nextSibling)!==null)break;Ve=ke,ke=Ve.parentNode}Ve=De}l=J===-1||ye===-1?null:{start:J,end:ye}}else l=null}l=l||{start:0,end:0}}else l=null;for(cp={focusedElem:r,selectionRange:l},mu=!1,xr=n;xr!==null;)if(n=xr,r=n.child,(n.subtreeFlags&1028)!==0&&r!==null)r.return=n,xr=r;else for(;xr!==null;){switch(n=xr,E=n.alternate,r=n.flags,n.tag){case 0:if((r&4)!==0&&(r=n.updateQueue,r=r!==null?r.events:null,r!==null))for(l=0;l<r.length;l++)x=r[l],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&E!==null){r=void 0,l=n,x=E.memoizedProps,E=E.memoizedState,p=l.stateNode;try{var Ze=Vo(l.type,x);r=p.getSnapshotBeforeUpdate(Ze,E),p.__reactInternalSnapshotBeforeUpdate=r}catch(it){Et(l,l.return,it)}}break;case 3:if((r&1024)!==0){if(r=n.stateNode.containerInfo,l=r.nodeType,l===9)fp(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":fp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(o(163))}if(r=n.sibling,r!==null){r.return=n.return,xr=r;break}xr=n.return}}function Fv(r,n,l){var p=l.flags;switch(l.tag){case 0:case 11:case 15:bs(r,l),p&4&&tl(5,l);break;case 1:if(bs(r,l),p&4)if(r=l.stateNode,n===null)try{r.componentDidMount()}catch(P){Et(l,l.return,P)}else{var x=Vo(l.type,n.memoizedProps);n=n.memoizedState;try{r.componentDidUpdate(x,n,r.__reactInternalSnapshotBeforeUpdate)}catch(P){Et(l,l.return,P)}}p&64&&Iv(l),p&512&&rl(l,l.return);break;case 3:if(bs(r,l),p&64&&(r=l.updateQueue,r!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{Ex(r,n)}catch(P){Et(l,l.return,P)}}break;case 27:n===null&&p&4&&$v(l);case 26:case 5:bs(r,l),n===null&&p&4&&Uv(l),p&512&&rl(l,l.return);break;case 12:bs(r,l);break;case 31:bs(r,l),p&4&&Hv(r,l);break;case 13:bs(r,l),p&4&&Gv(r,l),p&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=yR.bind(null,l),BR(r,l))));break;case 22:if(p=l.memoizedState!==null||gs,!p){n=n!==null&&n.memoizedState!==null||ur,x=gs;var E=ur;gs=p,(ur=n)&&!E?xs(r,l,(l.subtreeFlags&8772)!==0):bs(r,l),gs=x,ur=E}break;case 30:break;default:bs(r,l)}}function Vv(r){var n=r.alternate;n!==null&&(r.alternate=null,Vv(n)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(n=r.stateNode,n!==null&&yf(n)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var $t=null,Qr=!1;function ys(r,n,l){for(l=l.child;l!==null;)qv(r,n,l),l=l.sibling}function qv(r,n,l){if(_e&&typeof _e.onCommitFiberUnmount=="function")try{_e.onCommitFiberUnmount(xe,l)}catch{}switch(l.tag){case 26:ur||Kn(l,n),ys(r,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ur||Kn(l,n);var p=$t,x=Qr;oo(l.type)&&($t=l.stateNode,Qr=!1),ys(r,n,l),dl(l.stateNode),$t=p,Qr=x;break;case 5:ur||Kn(l,n);case 6:if(p=$t,x=Qr,$t=null,ys(r,n,l),$t=p,Qr=x,$t!==null)if(Qr)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(l.stateNode)}catch(E){Et(l,n,E)}else try{$t.removeChild(l.stateNode)}catch(E){Et(l,n,E)}break;case 18:$t!==null&&(Qr?(r=$t,Iw(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),Yi(r)):Iw($t,l.stateNode));break;case 4:p=$t,x=Qr,$t=l.stateNode.containerInfo,Qr=!0,ys(r,n,l),$t=p,Qr=x;break;case 0:case 11:case 14:case 15:Zs(2,l,n),ur||Zs(4,l,n),ys(r,n,l);break;case 1:ur||(Kn(l,n),p=l.stateNode,typeof p.componentWillUnmount=="function"&&Bv(l,n,p)),ys(r,n,l);break;case 21:ys(r,n,l);break;case 22:ur=(p=ur)||l.memoizedState!==null,ys(r,n,l),ur=p;break;default:ys(r,n,l)}}function Hv(r,n){if(n.memoizedState===null&&(r=n.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Yi(r)}catch(l){Et(n,n.return,l)}}}function Gv(r,n){if(n.memoizedState===null&&(r=n.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Yi(r)}catch(l){Et(n,n.return,l)}}function cR(r){switch(r.tag){case 31:case 13:case 19:var n=r.stateNode;return n===null&&(n=r.stateNode=new zv),n;case 22:return r=r.stateNode,n=r._retryCache,n===null&&(n=r._retryCache=new zv),n;default:throw Error(o(435,r.tag))}}function Qc(r,n){var l=cR(r);n.forEach(function(p){if(!l.has(p)){l.add(p);var x=bR.bind(null,r,p);p.then(x,x)}})}function Yr(r,n){var l=n.deletions;if(l!==null)for(var p=0;p<l.length;p++){var x=l[p],E=r,P=n,J=P;e:for(;J!==null;){switch(J.tag){case 27:if(oo(J.type)){$t=J.stateNode,Qr=!1;break e}break;case 5:$t=J.stateNode,Qr=!1;break e;case 3:case 4:$t=J.stateNode.containerInfo,Qr=!0;break e}J=J.return}if($t===null)throw Error(o(160));qv(E,P,x),$t=null,Qr=!1,E=x.alternate,E!==null&&(E.return=null),x.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Wv(n,r),n=n.sibling}var Pn=null;function Wv(r,n){var l=r.alternate,p=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Yr(n,r),Xr(r),p&4&&(Zs(3,r,r.return),tl(3,r),Zs(5,r,r.return));break;case 1:Yr(n,r),Xr(r),p&512&&(ur||l===null||Kn(l,l.return)),p&64&&gs&&(r=r.updateQueue,r!==null&&(p=r.callbacks,p!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?p:l.concat(p))));break;case 26:var x=Pn;if(Yr(n,r),Xr(r),p&512&&(ur||l===null||Kn(l,l.return)),p&4){var E=l!==null?l.memoizedState:null;if(p=r.memoizedState,l===null)if(p===null)if(r.stateNode===null){e:{p=r.type,l=r.memoizedProps,x=x.ownerDocument||x;t:switch(p){case"title":E=x.getElementsByTagName("title")[0],(!E||E[Lr]||E[Kt]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=x.createElement(p),x.head.insertBefore(E,x.querySelector("head > title"))),Tr(E,p,l),E[Kt]=r,br(E),p=E;break e;case"link":var P=Ww("link","href",x).get(p+(l.href||""));if(P){for(var J=0;J<P.length;J++)if(E=P[J],E.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&E.getAttribute("rel")===(l.rel==null?null:l.rel)&&E.getAttribute("title")===(l.title==null?null:l.title)&&E.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){P.splice(J,1);break t}}E=x.createElement(p),Tr(E,p,l),x.head.appendChild(E);break;case"meta":if(P=Ww("meta","content",x).get(p+(l.content||""))){for(J=0;J<P.length;J++)if(E=P[J],E.getAttribute("content")===(l.content==null?null:""+l.content)&&E.getAttribute("name")===(l.name==null?null:l.name)&&E.getAttribute("property")===(l.property==null?null:l.property)&&E.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&E.getAttribute("charset")===(l.charSet==null?null:l.charSet)){P.splice(J,1);break t}}E=x.createElement(p),Tr(E,p,l),x.head.appendChild(E);break;default:throw Error(o(468,p))}E[Kt]=r,br(E),p=E}r.stateNode=p}else Kw(x,r.type,r.stateNode);else r.stateNode=Gw(x,p,r.memoizedProps);else E!==p?(E===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):E.count--,p===null?Kw(x,r.type,r.stateNode):Gw(x,p,r.memoizedProps)):p===null&&r.stateNode!==null&&Uh(r,r.memoizedProps,l.memoizedProps)}break;case 27:Yr(n,r),Xr(r),p&512&&(ur||l===null||Kn(l,l.return)),l!==null&&p&4&&Uh(r,r.memoizedProps,l.memoizedProps);break;case 5:if(Yr(n,r),Xr(r),p&512&&(ur||l===null||Kn(l,l.return)),r.flags&32){x=r.stateNode;try{xi(x,"")}catch(Ze){Et(r,r.return,Ze)}}p&4&&r.stateNode!=null&&(x=r.memoizedProps,Uh(r,x,l!==null?l.memoizedProps:x)),p&1024&&(zh=!0);break;case 6:if(Yr(n,r),Xr(r),p&4){if(r.stateNode===null)throw Error(o(162));p=r.memoizedProps,l=r.stateNode;try{l.nodeValue=p}catch(Ze){Et(r,r.return,Ze)}}break;case 3:if(du=null,x=Pn,Pn=cu(n.containerInfo),Yr(n,r),Pn=x,Xr(r),p&4&&l!==null&&l.memoizedState.isDehydrated)try{Yi(n.containerInfo)}catch(Ze){Et(r,r.return,Ze)}zh&&(zh=!1,Kv(r));break;case 4:p=Pn,Pn=cu(r.stateNode.containerInfo),Yr(n,r),Xr(r),Pn=p;break;case 12:Yr(n,r),Xr(r);break;case 31:Yr(n,r),Xr(r),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,Qc(r,p)));break;case 13:Yr(n,r),Xr(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Xc=ae()),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,Qc(r,p)));break;case 22:x=r.memoizedState!==null;var ye=l!==null&&l.memoizedState!==null,Re=gs,Le=ur;if(gs=Re||x,ur=Le||ye,Yr(n,r),ur=Le,gs=Re,Xr(r),p&8192)e:for(n=r.stateNode,n._visibility=x?n._visibility&-2:n._visibility|1,x&&(l===null||ye||gs||ur||qo(r)),l=null,n=r;;){if(n.tag===5||n.tag===26){if(l===null){ye=l=n;try{if(E=ye.stateNode,x)P=E.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{J=ye.stateNode;var Ve=ye.memoizedProps.style,ke=Ve!=null&&Ve.hasOwnProperty("display")?Ve.display:null;J.style.display=ke==null||typeof ke=="boolean"?"":(""+ke).trim()}}catch(Ze){Et(ye,ye.return,Ze)}}}else if(n.tag===6){if(l===null){ye=n;try{ye.stateNode.nodeValue=x?"":ye.memoizedProps}catch(Ze){Et(ye,ye.return,Ze)}}}else if(n.tag===18){if(l===null){ye=n;try{var De=ye.stateNode;x?Bw(De,!0):Bw(ye.stateNode,!1)}catch(Ze){Et(ye,ye.return,Ze)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===r)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}p&4&&(p=r.updateQueue,p!==null&&(l=p.retryQueue,l!==null&&(p.retryQueue=null,Qc(r,l))));break;case 19:Yr(n,r),Xr(r),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,Qc(r,p)));break;case 30:break;case 21:break;default:Yr(n,r),Xr(r)}}function Xr(r){var n=r.flags;if(n&2){try{for(var l,p=r.return;p!==null;){if(Lv(p)){l=p;break}p=p.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var x=l.stateNode,E=Lh(r);Kc(r,E,x);break;case 5:var P=l.stateNode;l.flags&32&&(xi(P,""),l.flags&=-33);var J=Lh(r);Kc(r,J,P);break;case 3:case 4:var ye=l.stateNode.containerInfo,Re=Lh(r);$h(r,Re,ye);break;default:throw Error(o(161))}}catch(Le){Et(r,r.return,Le)}r.flags&=-3}n&4096&&(r.flags&=-4097)}function Kv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var n=r;Kv(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),r=r.sibling}}function bs(r,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Fv(r,n.alternate,n),n=n.sibling}function qo(r){for(r=r.child;r!==null;){var n=r;switch(n.tag){case 0:case 11:case 14:case 15:Zs(4,n,n.return),qo(n);break;case 1:Kn(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&Bv(n,n.return,l),qo(n);break;case 27:dl(n.stateNode);case 26:case 5:Kn(n,n.return),qo(n);break;case 22:n.memoizedState===null&&qo(n);break;case 30:qo(n);break;default:qo(n)}r=r.sibling}}function xs(r,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var p=n.alternate,x=r,E=n,P=E.flags;switch(E.tag){case 0:case 11:case 15:xs(x,E,l),tl(4,E);break;case 1:if(xs(x,E,l),p=E,x=p.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(Re){Et(p,p.return,Re)}if(p=E,x=p.updateQueue,x!==null){var J=p.stateNode;try{var ye=x.shared.hiddenCallbacks;if(ye!==null)for(x.shared.hiddenCallbacks=null,x=0;x<ye.length;x++)_x(ye[x],J)}catch(Re){Et(p,p.return,Re)}}l&&P&64&&Iv(E),rl(E,E.return);break;case 27:$v(E);case 26:case 5:xs(x,E,l),l&&p===null&&P&4&&Uv(E),rl(E,E.return);break;case 12:xs(x,E,l);break;case 31:xs(x,E,l),l&&P&4&&Hv(x,E);break;case 13:xs(x,E,l),l&&P&4&&Gv(x,E);break;case 22:E.memoizedState===null&&xs(x,E,l),rl(E,E.return);break;case 30:break;default:xs(x,E,l)}n=n.sibling}}function Fh(r,n){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&Fa(l))}function Vh(r,n){r=null,n.alternate!==null&&(r=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==r&&(n.refCount++,r!=null&&Fa(r))}function In(r,n,l,p){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Qv(r,n,l,p),n=n.sibling}function Qv(r,n,l,p){var x=n.flags;switch(n.tag){case 0:case 11:case 15:In(r,n,l,p),x&2048&&tl(9,n);break;case 1:In(r,n,l,p);break;case 3:In(r,n,l,p),x&2048&&(r=null,n.alternate!==null&&(r=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==r&&(n.refCount++,r!=null&&Fa(r)));break;case 12:if(x&2048){In(r,n,l,p),r=n.stateNode;try{var E=n.memoizedProps,P=E.id,J=E.onPostCommit;typeof J=="function"&&J(P,n.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(ye){Et(n,n.return,ye)}}else In(r,n,l,p);break;case 31:In(r,n,l,p);break;case 13:In(r,n,l,p);break;case 23:break;case 22:E=n.stateNode,P=n.alternate,n.memoizedState!==null?E._visibility&2?In(r,n,l,p):nl(r,n):E._visibility&2?In(r,n,l,p):(E._visibility|=2,Li(r,n,l,p,(n.subtreeFlags&10256)!==0||!1)),x&2048&&Fh(P,n);break;case 24:In(r,n,l,p),x&2048&&Vh(n.alternate,n);break;default:In(r,n,l,p)}}function Li(r,n,l,p,x){for(x=x&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var E=r,P=n,J=l,ye=p,Re=P.flags;switch(P.tag){case 0:case 11:case 15:Li(E,P,J,ye,x),tl(8,P);break;case 23:break;case 22:var Le=P.stateNode;P.memoizedState!==null?Le._visibility&2?Li(E,P,J,ye,x):nl(E,P):(Le._visibility|=2,Li(E,P,J,ye,x)),x&&Re&2048&&Fh(P.alternate,P);break;case 24:Li(E,P,J,ye,x),x&&Re&2048&&Vh(P.alternate,P);break;default:Li(E,P,J,ye,x)}n=n.sibling}}function nl(r,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=r,p=n,x=p.flags;switch(p.tag){case 22:nl(l,p),x&2048&&Fh(p.alternate,p);break;case 24:nl(l,p),x&2048&&Vh(p.alternate,p);break;default:nl(l,p)}n=n.sibling}}var sl=8192;function $i(r,n,l){if(r.subtreeFlags&sl)for(r=r.child;r!==null;)Yv(r,n,l),r=r.sibling}function Yv(r,n,l){switch(r.tag){case 26:$i(r,n,l),r.flags&sl&&r.memoizedState!==null&&QR(l,Pn,r.memoizedState,r.memoizedProps);break;case 5:$i(r,n,l);break;case 3:case 4:var p=Pn;Pn=cu(r.stateNode.containerInfo),$i(r,n,l),Pn=p;break;case 22:r.memoizedState===null&&(p=r.alternate,p!==null&&p.memoizedState!==null?(p=sl,sl=16777216,$i(r,n,l),sl=p):$i(r,n,l));break;default:$i(r,n,l)}}function Xv(r){var n=r.alternate;if(n!==null&&(r=n.child,r!==null)){n.child=null;do n=r.sibling,r.sibling=null,r=n;while(r!==null)}}function ol(r){var n=r.deletions;if((r.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var p=n[l];xr=p,Jv(p,r)}Xv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Zv(r),r=r.sibling}function Zv(r){switch(r.tag){case 0:case 11:case 15:ol(r),r.flags&2048&&Zs(9,r,r.return);break;case 3:ol(r);break;case 12:ol(r);break;case 22:var n=r.stateNode;r.memoizedState!==null&&n._visibility&2&&(r.return===null||r.return.tag!==13)?(n._visibility&=-3,Yc(r)):ol(r);break;default:ol(r)}}function Yc(r){var n=r.deletions;if((r.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var p=n[l];xr=p,Jv(p,r)}Xv(r)}for(r=r.child;r!==null;){switch(n=r,n.tag){case 0:case 11:case 15:Zs(8,n,n.return),Yc(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,Yc(n));break;default:Yc(n)}r=r.sibling}}function Jv(r,n){for(;xr!==null;){var l=xr;switch(l.tag){case 0:case 11:case 15:Zs(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var p=l.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Fa(l.memoizedState.cache)}if(p=l.child,p!==null)p.return=l,xr=p;else e:for(l=r;xr!==null;){p=xr;var x=p.sibling,E=p.return;if(Vv(p),p===l){xr=null;break e}if(x!==null){x.return=E,xr=x;break e}xr=E}}}var uR={getCacheForType:function(r){var n=Er(ar),l=n.data.get(r);return l===void 0&&(l=r(),n.data.set(r,l)),l},cacheSignal:function(){return Er(ar).controller.signal}},dR=typeof WeakMap=="function"?WeakMap:Map,Nt=0,Ot=null,yt=null,xt=0,_t=0,fn=null,Js=!1,zi=!1,qh=!1,vs=0,Zt=0,eo=0,Ho=0,Hh=0,hn=0,Fi=0,il=null,Zr=null,Gh=!1,Xc=0,ew=0,Zc=1/0,Jc=null,to=null,hr=0,ro=null,Vi=null,ws=0,Wh=0,Kh=null,tw=null,al=0,Qh=null;function pn(){return(Nt&2)!==0&&xt!==0?xt&-xt:$.T!==null?tp():Ur()}function rw(){if(hn===0)if((xt&536870912)===0||wt){var r=Ht;Ht<<=1,(Ht&3932160)===0&&(Ht=262144),hn=r}else hn=536870912;return r=un.current,r!==null&&(r.flags|=32),hn}function Jr(r,n,l){(r===Ot&&(_t===2||_t===9)||r.cancelPendingCommit!==null)&&(qi(r,0),no(r,xt,hn,!1)),oe(r,l),((Nt&2)===0||r!==Ot)&&(r===Ot&&((Nt&2)===0&&(Ho|=l),Zt===4&&no(r,xt,hn,!1)),Qn(r))}function nw(r,n,l){if((Nt&6)!==0)throw Error(o(327));var p=!l&&(n&127)===0&&(n&r.expiredLanes)===0||gt(r,n),x=p?pR(r,n):Xh(r,n,!0),E=p;do{if(x===0){zi&&!p&&no(r,n,0,!1);break}else{if(l=r.current.alternate,E&&!fR(l)){x=Xh(r,n,!1),E=!1;continue}if(x===2){if(E=n,r.errorRecoveryDisabledLanes&E)var P=0;else P=r.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){n=P;e:{var J=r;x=il;var ye=J.current.memoizedState.isDehydrated;if(ye&&(qi(J,P).flags|=256),P=Xh(J,P,!1),P!==2){if(qh&&!ye){J.errorRecoveryDisabledLanes|=E,Ho|=E,x=4;break e}E=Zr,Zr=x,E!==null&&(Zr===null?Zr=E:Zr.push.apply(Zr,E))}x=P}if(E=!1,x!==2)continue}}if(x===1){qi(r,0),no(r,n,0,!0);break}e:{switch(p=r,E=x,E){case 0:case 1:throw Error(o(345));case 4:if((n&4194048)!==n)break;case 6:no(p,n,hn,!Js);break e;case 2:Zr=null;break;case 3:case 5:break;default:throw Error(o(329))}if((n&62914560)===n&&(x=Xc+300-ae(),10<x)){if(no(p,n,hn,!Js),nt(p,0,!0)!==0)break e;ws=n,p.timeoutHandle=Dw(sw.bind(null,p,l,Zr,Jc,Gh,n,hn,Ho,Fi,Js,E,"Throttled",-0,0),x);break e}sw(p,l,Zr,Jc,Gh,n,hn,Ho,Fi,Js,E,null,-0,0)}}break}while(!0);Qn(r)}function sw(r,n,l,p,x,E,P,J,ye,Re,Le,Ve,ke,De){if(r.timeoutHandle=-1,Ve=n.subtreeFlags,Ve&8192||(Ve&16785408)===16785408){Ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:is},Yv(n,E,Ve);var Ze=(E&62914560)===E?Xc-ae():(E&4194048)===E?ew-ae():0;if(Ze=YR(Ve,Ze),Ze!==null){ws=E,r.cancelPendingCommit=Ze(fw.bind(null,r,n,E,l,p,x,P,J,ye,Le,Ve,null,ke,De)),no(r,E,P,!Re);return}}fw(r,n,E,l,p,x,P,J,ye)}function fR(r){for(var n=r;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var p=0;p<l.length;p++){var x=l[p],E=x.getSnapshot;x=x.value;try{if(!ln(E(),x))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===r)break;for(;n.sibling===null;){if(n.return===null||n.return===r)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function no(r,n,l,p){n&=~Hh,n&=~Ho,r.suspendedLanes|=n,r.pingedLanes&=~n,p&&(r.warmLanes|=n),p=r.expirationTimes;for(var x=n;0<x;){var E=31-Ye(x),P=1<<E;p[E]=-1,x&=~P}l!==0&&We(r,l,n)}function eu(){return(Nt&6)===0?(ll(0),!1):!0}function Yh(){if(yt!==null){if(_t===0)var r=yt.return;else r=yt,us=Io=null,fh(r),Di=null,qa=0,r=yt;for(;r!==null;)Pv(r.alternate,r),r=r.return;yt=null}}function qi(r,n){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,kR(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),ws=0,Yh(),Ot=r,yt=l=ls(r.current,null),xt=n,_t=0,fn=null,Js=!1,zi=gt(r,n),qh=!1,Fi=hn=Hh=Ho=eo=Zt=0,Zr=il=null,Gh=!1,(n&8)!==0&&(n|=n&32);var p=r.entangledLanes;if(p!==0)for(r=r.entanglements,p&=n;0<p;){var x=31-Ye(p),E=1<<x;n|=r[x],p&=~E}return vs=n,wc(),l}function ow(r,n){ft=null,$.H=Za,n===Oi||n===Cc?(n=vx(),_t=3):n===eh?(n=vx(),_t=4):_t=n===Th?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,fn=n,yt===null&&(Zt=1,Vc(r,vn(n,r.current)))}function iw(){var r=un.current;return r===null?!0:(xt&4194048)===xt?Nn===null:(xt&62914560)===xt||(xt&536870912)!==0?r===Nn:!1}function aw(){var r=$.H;return $.H=Za,r===null?Za:r}function lw(){var r=$.A;return $.A=uR,r}function tu(){Zt=4,Js||(xt&4194048)!==xt&&un.current!==null||(zi=!0),(eo&134217727)===0&&(Ho&134217727)===0||Ot===null||no(Ot,xt,hn,!1)}function Xh(r,n,l){var p=Nt;Nt|=2;var x=aw(),E=lw();(Ot!==r||xt!==n)&&(Jc=null,qi(r,n)),n=!1;var P=Zt;e:do try{if(_t!==0&&yt!==null){var J=yt,ye=fn;switch(_t){case 8:Yh(),P=6;break e;case 3:case 2:case 9:case 6:un.current===null&&(n=!0);var Re=_t;if(_t=0,fn=null,Hi(r,J,ye,Re),l&&zi){P=0;break e}break;default:Re=_t,_t=0,fn=null,Hi(r,J,ye,Re)}}hR(),P=Zt;break}catch(Le){ow(r,Le)}while(!0);return n&&r.shellSuspendCounter++,us=Io=null,Nt=p,$.H=x,$.A=E,yt===null&&(Ot=null,xt=0,wc()),P}function hR(){for(;yt!==null;)cw(yt)}function pR(r,n){var l=Nt;Nt|=2;var p=aw(),x=lw();Ot!==r||xt!==n?(Jc=null,Zc=ae()+500,qi(r,n)):zi=gt(r,n);e:do try{if(_t!==0&&yt!==null){n=yt;var E=fn;t:switch(_t){case 1:_t=0,fn=null,Hi(r,n,E,1);break;case 2:case 9:if(bx(E)){_t=0,fn=null,uw(n);break}n=function(){_t!==2&&_t!==9||Ot!==r||(_t=7),Qn(r)},E.then(n,n);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:bx(E)?(_t=0,fn=null,uw(n)):(_t=0,fn=null,Hi(r,n,E,7));break;case 5:var P=null;switch(yt.tag){case 26:P=yt.memoizedState;case 5:case 27:var J=yt;if(P?Qw(P):J.stateNode.complete){_t=0,fn=null;var ye=J.sibling;if(ye!==null)yt=ye;else{var Re=J.return;Re!==null?(yt=Re,ru(Re)):yt=null}break t}}_t=0,fn=null,Hi(r,n,E,5);break;case 6:_t=0,fn=null,Hi(r,n,E,6);break;case 8:Yh(),Zt=6;break e;default:throw Error(o(462))}}mR();break}catch(Le){ow(r,Le)}while(!0);return us=Io=null,$.H=p,$.A=x,Nt=l,yt!==null?0:(Ot=null,xt=0,wc(),Zt)}function mR(){for(;yt!==null&&!W();)cw(yt)}function cw(r){var n=Ov(r.alternate,r,vs);r.memoizedProps=r.pendingProps,n===null?ru(r):yt=n}function uw(r){var n=r,l=n.alternate;switch(n.tag){case 15:case 0:n=Av(l,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=Av(l,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:fh(n);default:Pv(l,n),n=yt=ax(n,vs),n=Ov(l,n,vs)}r.memoizedProps=r.pendingProps,n===null?ru(r):yt=n}function Hi(r,n,l,p){us=Io=null,fh(n),Di=null,qa=0;var x=n.return;try{if(nR(r,x,n,l,xt)){Zt=1,Vc(r,vn(l,r.current)),yt=null;return}}catch(E){if(x!==null)throw yt=x,E;Zt=1,Vc(r,vn(l,r.current)),yt=null;return}n.flags&32768?(wt||p===1?r=!0:zi||(xt&536870912)!==0?r=!1:(Js=r=!0,(p===2||p===9||p===3||p===6)&&(p=un.current,p!==null&&p.tag===13&&(p.flags|=16384))),dw(n,r)):ru(n)}function ru(r){var n=r;do{if((n.flags&32768)!==0){dw(n,Js);return}r=n.return;var l=iR(n.alternate,n,vs);if(l!==null){yt=l;return}if(n=n.sibling,n!==null){yt=n;return}yt=n=r}while(n!==null);Zt===0&&(Zt=5)}function dw(r,n){do{var l=aR(r.alternate,r);if(l!==null){l.flags&=32767,yt=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(r=r.sibling,r!==null)){yt=r;return}yt=r=l}while(r!==null);Zt=6,yt=null}function fw(r,n,l,p,x,E,P,J,ye){r.cancelPendingCommit=null;do nu();while(hr!==0);if((Nt&6)!==0)throw Error(o(327));if(n!==null){if(n===r.current)throw Error(o(177));if(E=n.lanes|n.childLanes,E|=Lf,fe(r,l,E,P,J,ye),r===Ot&&(yt=Ot=null,xt=0),Vi=n,ro=r,ws=l,Wh=E,Kh=x,tw=p,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,xR(F,function(){return yw(),null})):(r.callbackNode=null,r.callbackPriority=0),p=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||p){p=$.T,$.T=null,x=K.p,K.p=2,P=Nt,Nt|=4;try{lR(r,n,l)}finally{Nt=P,K.p=x,$.T=p}}hr=1,hw(),pw(),mw()}}function hw(){if(hr===1){hr=0;var r=ro,n=Vi,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=$.T,$.T=null;var p=K.p;K.p=2;var x=Nt;Nt|=4;try{Wv(n,r);var E=cp,P=Z0(r.containerInfo),J=E.focusedElem,ye=E.selectionRange;if(P!==J&&J&&J.ownerDocument&&X0(J.ownerDocument.documentElement,J)){if(ye!==null&&Df(J)){var Re=ye.start,Le=ye.end;if(Le===void 0&&(Le=Re),"selectionStart"in J)J.selectionStart=Re,J.selectionEnd=Math.min(Le,J.value.length);else{var Ve=J.ownerDocument||document,ke=Ve&&Ve.defaultView||window;if(ke.getSelection){var De=ke.getSelection(),Ze=J.textContent.length,it=Math.min(ye.start,Ze),Rt=ye.end===void 0?it:Math.min(ye.end,Ze);!De.extend&&it>Rt&&(P=Rt,Rt=it,it=P);var Ne=Y0(J,it),je=Y0(J,Rt);if(Ne&&je&&(De.rangeCount!==1||De.anchorNode!==Ne.node||De.anchorOffset!==Ne.offset||De.focusNode!==je.node||De.focusOffset!==je.offset)){var Ce=Ve.createRange();Ce.setStart(Ne.node,Ne.offset),De.removeAllRanges(),it>Rt?(De.addRange(Ce),De.extend(je.node,je.offset)):(Ce.setEnd(je.node,je.offset),De.addRange(Ce))}}}}for(Ve=[],De=J;De=De.parentNode;)De.nodeType===1&&Ve.push({element:De,left:De.scrollLeft,top:De.scrollTop});for(typeof J.focus=="function"&&J.focus(),J=0;J<Ve.length;J++){var Fe=Ve[J];Fe.element.scrollLeft=Fe.left,Fe.element.scrollTop=Fe.top}}mu=!!lp,cp=lp=null}finally{Nt=x,K.p=p,$.T=l}}r.current=n,hr=2}}function pw(){if(hr===2){hr=0;var r=ro,n=Vi,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=$.T,$.T=null;var p=K.p;K.p=2;var x=Nt;Nt|=4;try{Fv(r,n.alternate,n)}finally{Nt=x,K.p=p,$.T=l}}hr=3}}function mw(){if(hr===4||hr===3){hr=0,ue();var r=ro,n=Vi,l=ws,p=tw;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?hr=5:(hr=0,Vi=ro=null,gw(r,r.pendingLanes));var x=r.pendingLanes;if(x===0&&(to=null),kt(l),n=n.stateNode,_e&&typeof _e.onCommitFiberRoot=="function")try{_e.onCommitFiberRoot(xe,n,void 0,(n.current.flags&128)===128)}catch{}if(p!==null){n=$.T,x=K.p,K.p=2,$.T=null;try{for(var E=r.onRecoverableError,P=0;P<p.length;P++){var J=p[P];E(J.value,{componentStack:J.stack})}}finally{$.T=n,K.p=x}}(ws&3)!==0&&nu(),Qn(r),x=r.pendingLanes,(l&261930)!==0&&(x&42)!==0?r===Qh?al++:(al=0,Qh=r):al=0,ll(0)}}function gw(r,n){(r.pooledCacheLanes&=n)===0&&(n=r.pooledCache,n!=null&&(r.pooledCache=null,Fa(n)))}function nu(){return hw(),pw(),mw(),yw()}function yw(){if(hr!==5)return!1;var r=ro,n=Wh;Wh=0;var l=kt(ws),p=$.T,x=K.p;try{K.p=32>l?32:l,$.T=null,l=Kh,Kh=null;var E=ro,P=ws;if(hr=0,Vi=ro=null,ws=0,(Nt&6)!==0)throw Error(o(331));var J=Nt;if(Nt|=4,Zv(E.current),Qv(E,E.current,P,l),Nt=J,ll(0,!1),_e&&typeof _e.onPostCommitFiberRoot=="function")try{_e.onPostCommitFiberRoot(xe,E)}catch{}return!0}finally{K.p=x,$.T=p,gw(r,n)}}function bw(r,n,l){n=vn(l,n),n=Ah(r.stateNode,n,2),r=Qs(r,n,2),r!==null&&(oe(r,2),Qn(r))}function Et(r,n,l){if(r.tag===3)bw(r,r,l);else for(;n!==null;){if(n.tag===3){bw(n,r,l);break}else if(n.tag===1){var p=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(to===null||!to.has(p))){r=vn(l,r),l=xv(2),p=Qs(n,l,2),p!==null&&(vv(l,p,n,r),oe(p,2),Qn(p));break}}n=n.return}}function Zh(r,n,l){var p=r.pingCache;if(p===null){p=r.pingCache=new dR;var x=new Set;p.set(n,x)}else x=p.get(n),x===void 0&&(x=new Set,p.set(n,x));x.has(l)||(qh=!0,x.add(l),r=gR.bind(null,r,n,l),n.then(r,r))}function gR(r,n,l){var p=r.pingCache;p!==null&&p.delete(n),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,Ot===r&&(xt&l)===l&&(Zt===4||Zt===3&&(xt&62914560)===xt&&300>ae()-Xc?(Nt&2)===0&&qi(r,0):Hh|=l,Fi===xt&&(Fi=0)),Qn(r)}function xw(r,n){n===0&&(n=Wt()),r=Oo(r,n),r!==null&&(oe(r,n),Qn(r))}function yR(r){var n=r.memoizedState,l=0;n!==null&&(l=n.retryLane),xw(r,l)}function bR(r,n){var l=0;switch(r.tag){case 31:case 13:var p=r.stateNode,x=r.memoizedState;x!==null&&(l=x.retryLane);break;case 19:p=r.stateNode;break;case 22:p=r.stateNode._retryCache;break;default:throw Error(o(314))}p!==null&&p.delete(n),xw(r,l)}function xR(r,n){return ee(r,n)}var su=null,Gi=null,Jh=!1,ou=!1,ep=!1,so=0;function Qn(r){r!==Gi&&r.next===null&&(Gi===null?su=Gi=r:Gi=Gi.next=r),ou=!0,Jh||(Jh=!0,wR())}function ll(r,n){if(!ep&&ou){ep=!0;do for(var l=!1,p=su;p!==null;){if(r!==0){var x=p.pendingLanes;if(x===0)var E=0;else{var P=p.suspendedLanes,J=p.pingedLanes;E=(1<<31-Ye(42|r)+1)-1,E&=x&~(P&~J),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(l=!0,jw(p,E))}else E=xt,E=nt(p,p===Ot?E:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(E&3)===0||gt(p,E)||(l=!0,jw(p,E));p=p.next}while(l);ep=!1}}function vR(){vw()}function vw(){ou=Jh=!1;var r=0;so!==0&&MR()&&(r=so);for(var n=ae(),l=null,p=su;p!==null;){var x=p.next,E=ww(p,n);E===0?(p.next=null,l===null?su=x:l.next=x,x===null&&(Gi=l)):(l=p,(r!==0||(E&3)!==0)&&(ou=!0)),p=x}hr!==0&&hr!==5||ll(r),so!==0&&(so=0)}function ww(r,n){for(var l=r.suspendedLanes,p=r.pingedLanes,x=r.expirationTimes,E=r.pendingLanes&-62914561;0<E;){var P=31-Ye(E),J=1<<P,ye=x[P];ye===-1?((J&l)===0||(J&p)!==0)&&(x[P]=Gt(J,n)):ye<=n&&(r.expiredLanes|=J),E&=~J}if(n=Ot,l=xt,l=nt(r,r===n?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),p=r.callbackNode,l===0||r===n&&(_t===2||_t===9)||r.cancelPendingCommit!==null)return p!==null&&p!==null&&Q(p),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||gt(r,l)){if(n=l&-l,n===r.callbackPriority)return n;switch(p!==null&&Q(p),kt(l)){case 2:case 8:l=D;break;case 32:l=F;break;case 268435456:l=ge;break;default:l=F}return p=Sw.bind(null,r),l=ee(l,p),r.callbackPriority=n,r.callbackNode=l,n}return p!==null&&p!==null&&Q(p),r.callbackPriority=2,r.callbackNode=null,2}function Sw(r,n){if(hr!==0&&hr!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(nu()&&r.callbackNode!==l)return null;var p=xt;return p=nt(r,r===Ot?p:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),p===0?null:(nw(r,p,n),ww(r,ae()),r.callbackNode!=null&&r.callbackNode===l?Sw.bind(null,r):null)}function jw(r,n){if(nu())return null;nw(r,n,!0)}function wR(){OR(function(){(Nt&6)!==0?ee(T,vR):vw()})}function tp(){if(so===0){var r=Mi;r===0&&(r=jr,jr<<=1,(jr&261888)===0&&(jr=256)),so=r}return so}function Nw(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:hc(""+r)}function _w(r,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,r.id&&l.setAttribute("form",r.id),n.parentNode.insertBefore(l,n),r=new FormData(r),l.parentNode.removeChild(l),r}function SR(r,n,l,p,x){if(n==="submit"&&l&&l.stateNode===x){var E=Nw((x[fr]||null).action),P=p.submitter;P&&(n=(n=P[fr]||null)?Nw(n.formAction):P.getAttribute("formAction"),n!==null&&(E=n,P=null));var J=new yc("action","action",null,p,x);r.push({event:J,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(so!==0){var ye=P?_w(x,P):new FormData(x);wh(l,{pending:!0,data:ye,method:x.method,action:E},null,ye)}}else typeof E=="function"&&(J.preventDefault(),ye=P?_w(x,P):new FormData(x),wh(l,{pending:!0,data:ye,method:x.method,action:E},E,ye))},currentTarget:x}]})}}for(var rp=0;rp<Uf.length;rp++){var np=Uf[rp],jR=np.toLowerCase(),NR=np[0].toUpperCase()+np.slice(1);Dn(jR,"on"+NR)}Dn(tx,"onAnimationEnd"),Dn(rx,"onAnimationIteration"),Dn(nx,"onAnimationStart"),Dn("dblclick","onDoubleClick"),Dn("focusin","onFocus"),Dn("focusout","onBlur"),Dn($C,"onTransitionRun"),Dn(zC,"onTransitionStart"),Dn(FC,"onTransitionCancel"),Dn(sx,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),Co("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Co("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Co("onBeforeInput",["compositionend","keypress","textInput","paste"]),Co("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Co("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Co("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_R=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function Ew(r,n){n=(n&4)!==0;for(var l=0;l<r.length;l++){var p=r[l],x=p.event;p=p.listeners;e:{var E=void 0;if(n)for(var P=p.length-1;0<=P;P--){var J=p[P],ye=J.instance,Re=J.currentTarget;if(J=J.listener,ye!==E&&x.isPropagationStopped())break e;E=J,x.currentTarget=Re;try{E(x)}catch(Le){vc(Le)}x.currentTarget=null,E=ye}else for(P=0;P<p.length;P++){if(J=p[P],ye=J.instance,Re=J.currentTarget,J=J.listener,ye!==E&&x.isPropagationStopped())break e;E=J,x.currentTarget=Re;try{E(x)}catch(Le){vc(Le)}x.currentTarget=null,E=ye}}}}function bt(r,n){var l=n[Wr];l===void 0&&(l=n[Wr]=new Set);var p=r+"__bubble";l.has(p)||(Aw(n,r,2,!1),l.add(p))}function sp(r,n,l){var p=0;n&&(p|=4),Aw(l,r,p,n)}var iu="_reactListening"+Math.random().toString(36).slice(2);function op(r){if(!r[iu]){r[iu]=!0,x0.forEach(function(l){l!=="selectionchange"&&(_R.has(l)||sp(l,!1,r),sp(l,!0,r))});var n=r.nodeType===9?r:r.ownerDocument;n===null||n[iu]||(n[iu]=!0,sp("selectionchange",!1,n))}}function Aw(r,n,l,p){switch(r1(n)){case 2:var x=JR;break;case 8:x=eM;break;default:x=vp}l=x.bind(null,n,l,r),x=void 0,!_f||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(x=!0),p?x!==void 0?r.addEventListener(n,l,{capture:!0,passive:x}):r.addEventListener(n,l,!0):x!==void 0?r.addEventListener(n,l,{passive:x}):r.addEventListener(n,l,!1)}function ip(r,n,l,p,x){var E=p;if((n&1)===0&&(n&2)===0&&p!==null)e:for(;;){if(p===null)return;var P=p.tag;if(P===3||P===4){var J=p.stateNode.containerInfo;if(J===x)break;if(P===4)for(P=p.return;P!==null;){var ye=P.tag;if((ye===3||ye===4)&&P.stateNode.containerInfo===x)return;P=P.return}for(;J!==null;){if(P=pi(J),P===null)return;if(ye=P.tag,ye===5||ye===6||ye===26||ye===27){p=E=P;continue e}J=J.parentNode}}p=p.return}M0(function(){var Re=E,Le=jf(l),Ve=[];e:{var ke=ox.get(r);if(ke!==void 0){var De=yc,Ze=r;switch(r){case"keypress":if(mc(l)===0)break e;case"keydown":case"keyup":De=bC;break;case"focusin":Ze="focus",De=Cf;break;case"focusout":Ze="blur",De=Cf;break;case"beforeblur":case"afterblur":De=Cf;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=D0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=iC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=wC;break;case tx:case rx:case nx:De=cC;break;case sx:De=jC;break;case"scroll":case"scrollend":De=sC;break;case"wheel":De=_C;break;case"copy":case"cut":case"paste":De=dC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=I0;break;case"toggle":case"beforetoggle":De=AC}var it=(n&4)!==0,Rt=!it&&(r==="scroll"||r==="scrollend"),Ne=it?ke!==null?ke+"Capture":null:ke;it=[];for(var je=Re,Ce;je!==null;){var Fe=je;if(Ce=Fe.stateNode,Fe=Fe.tag,Fe!==5&&Fe!==26&&Fe!==27||Ce===null||Ne===null||(Fe=Ma(je,Ne),Fe!=null&&it.push(ul(je,Fe,Ce))),Rt)break;je=je.return}0<it.length&&(ke=new De(ke,Ze,null,l,Le),Ve.push({event:ke,listeners:it}))}}if((n&7)===0){e:{if(ke=r==="mouseover"||r==="pointerover",De=r==="mouseout"||r==="pointerout",ke&&l!==Sf&&(Ze=l.relatedTarget||l.fromElement)&&(pi(Ze)||Ze[Gr]))break e;if((De||ke)&&(ke=Le.window===Le?Le:(ke=Le.ownerDocument)?ke.defaultView||ke.parentWindow:window,De?(Ze=l.relatedTarget||l.toElement,De=Re,Ze=Ze?pi(Ze):null,Ze!==null&&(Rt=a(Ze),it=Ze.tag,Ze!==Rt||it!==5&&it!==27&&it!==6)&&(Ze=null)):(De=null,Ze=Re),De!==Ze)){if(it=D0,Fe="onMouseLeave",Ne="onMouseEnter",je="mouse",(r==="pointerout"||r==="pointerover")&&(it=I0,Fe="onPointerLeave",Ne="onPointerEnter",je="pointer"),Rt=De==null?ke:Ra(De),Ce=Ze==null?ke:Ra(Ze),ke=new it(Fe,je+"leave",De,l,Le),ke.target=Rt,ke.relatedTarget=Ce,Fe=null,pi(Le)===Re&&(it=new it(Ne,je+"enter",Ze,l,Le),it.target=Ce,it.relatedTarget=Rt,Fe=it),Rt=Fe,De&&Ze)t:{for(it=ER,Ne=De,je=Ze,Ce=0,Fe=Ne;Fe;Fe=it(Fe))Ce++;Fe=0;for(var st=je;st;st=it(st))Fe++;for(;0<Ce-Fe;)Ne=it(Ne),Ce--;for(;0<Fe-Ce;)je=it(je),Fe--;for(;Ce--;){if(Ne===je||je!==null&&Ne===je.alternate){it=Ne;break t}Ne=it(Ne),je=it(je)}it=null}else it=null;De!==null&&Tw(Ve,ke,De,it,!1),Ze!==null&&Rt!==null&&Tw(Ve,Rt,Ze,it,!0)}}e:{if(ke=Re?Ra(Re):window,De=ke.nodeName&&ke.nodeName.toLowerCase(),De==="select"||De==="input"&&ke.type==="file")var St=q0;else if(F0(ke))if(H0)St=BC;else{St=PC;var tt=DC}else De=ke.nodeName,!De||De.toLowerCase()!=="input"||ke.type!=="checkbox"&&ke.type!=="radio"?Re&&wf(Re.elementType)&&(St=q0):St=IC;if(St&&(St=St(r,Re))){V0(Ve,St,l,Le);break e}tt&&tt(r,ke,Re),r==="focusout"&&Re&&ke.type==="number"&&Re.memoizedProps.value!=null&&vf(ke,"number",ke.value)}switch(tt=Re?Ra(Re):window,r){case"focusin":(F0(tt)||tt.contentEditable==="true")&&(ji=tt,Pf=Re,La=null);break;case"focusout":La=Pf=ji=null;break;case"mousedown":If=!0;break;case"contextmenu":case"mouseup":case"dragend":If=!1,J0(Ve,l,Le);break;case"selectionchange":if(LC)break;case"keydown":case"keyup":J0(Ve,l,Le)}var pt;if(Mf)e:{switch(r){case"compositionstart":var vt="onCompositionStart";break e;case"compositionend":vt="onCompositionEnd";break e;case"compositionupdate":vt="onCompositionUpdate";break e}vt=void 0}else Si?$0(r,l)&&(vt="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(vt="onCompositionStart");vt&&(B0&&l.locale!=="ko"&&(Si||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Si&&(pt=k0()):(Fs=Le,Ef="value"in Fs?Fs.value:Fs.textContent,Si=!0)),tt=au(Re,vt),0<tt.length&&(vt=new P0(vt,r,null,l,Le),Ve.push({event:vt,listeners:tt}),pt?vt.data=pt:(pt=z0(l),pt!==null&&(vt.data=pt)))),(pt=CC?RC(r,l):MC(r,l))&&(vt=au(Re,"onBeforeInput"),0<vt.length&&(tt=new P0("onBeforeInput","beforeinput",null,l,Le),Ve.push({event:tt,listeners:vt}),tt.data=pt)),SR(Ve,r,Re,l,Le)}Ew(Ve,n)})}function ul(r,n,l){return{instance:r,listener:n,currentTarget:l}}function au(r,n){for(var l=n+"Capture",p=[];r!==null;){var x=r,E=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||E===null||(x=Ma(r,l),x!=null&&p.unshift(ul(r,x,E)),x=Ma(r,n),x!=null&&p.push(ul(r,x,E))),r.tag===3)return p;r=r.return}return[]}function ER(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Tw(r,n,l,p,x){for(var E=n._reactName,P=[];l!==null&&l!==p;){var J=l,ye=J.alternate,Re=J.stateNode;if(J=J.tag,ye!==null&&ye===p)break;J!==5&&J!==26&&J!==27||Re===null||(ye=Re,x?(Re=Ma(l,E),Re!=null&&P.unshift(ul(l,Re,ye))):x||(Re=Ma(l,E),Re!=null&&P.push(ul(l,Re,ye)))),l=l.return}P.length!==0&&r.push({event:n,listeners:P})}var AR=/\r\n?/g,TR=/\u0000|\uFFFD/g;function Cw(r){return(typeof r=="string"?r:""+r).replace(AR,`
`).replace(TR,"")}function Rw(r,n){return n=Cw(n),Cw(r)===n}function Ct(r,n,l,p,x,E){switch(l){case"children":typeof p=="string"?n==="body"||n==="textarea"&&p===""||xi(r,p):(typeof p=="number"||typeof p=="bigint")&&n!=="body"&&xi(r,""+p);break;case"className":dc(r,"class",p);break;case"tabIndex":dc(r,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":dc(r,l,p);break;case"style":C0(r,p,E);break;case"data":if(n!=="object"){dc(r,"data",p);break}case"src":case"href":if(p===""&&(n!=="a"||l!=="href")){r.removeAttribute(l);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){r.removeAttribute(l);break}p=hc(""+p),r.setAttribute(l,p);break;case"action":case"formAction":if(typeof p=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(l==="formAction"?(n!=="input"&&Ct(r,n,"name",x.name,x,null),Ct(r,n,"formEncType",x.formEncType,x,null),Ct(r,n,"formMethod",x.formMethod,x,null),Ct(r,n,"formTarget",x.formTarget,x,null)):(Ct(r,n,"encType",x.encType,x,null),Ct(r,n,"method",x.method,x,null),Ct(r,n,"target",x.target,x,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){r.removeAttribute(l);break}p=hc(""+p),r.setAttribute(l,p);break;case"onClick":p!=null&&(r.onclick=is);break;case"onScroll":p!=null&&bt("scroll",r);break;case"onScrollEnd":p!=null&&bt("scrollend",r);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(o(61));if(l=p.__html,l!=null){if(x.children!=null)throw Error(o(60));r.innerHTML=l}}break;case"multiple":r.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":r.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){r.removeAttribute("xlink:href");break}l=hc(""+p),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(l,""+p):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":p===!0?r.setAttribute(l,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(l,p):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?r.setAttribute(l,p):r.removeAttribute(l);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?r.removeAttribute(l):r.setAttribute(l,p);break;case"popover":bt("beforetoggle",r),bt("toggle",r),uc(r,"popover",p);break;case"xlinkActuate":os(r,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":os(r,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":os(r,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":os(r,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":os(r,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":os(r,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":os(r,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":os(r,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":os(r,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":uc(r,"is",p);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=rC.get(l)||l,uc(r,l,p))}}function ap(r,n,l,p,x,E){switch(l){case"style":C0(r,p,E);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(o(61));if(l=p.__html,l!=null){if(x.children!=null)throw Error(o(60));r.innerHTML=l}}break;case"children":typeof p=="string"?xi(r,p):(typeof p=="number"||typeof p=="bigint")&&xi(r,""+p);break;case"onScroll":p!=null&&bt("scroll",r);break;case"onScrollEnd":p!=null&&bt("scrollend",r);break;case"onClick":p!=null&&(r.onclick=is);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!v0.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(x=l.endsWith("Capture"),n=l.slice(2,x?l.length-7:void 0),E=r[fr]||null,E=E!=null?E[l]:null,typeof E=="function"&&r.removeEventListener(n,E,x),typeof p=="function")){typeof E!="function"&&E!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(n,p,x);break e}l in r?r[l]=p:p===!0?r.setAttribute(l,""):uc(r,l,p)}}}function Tr(r,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bt("error",r),bt("load",r);var p=!1,x=!1,E;for(E in l)if(l.hasOwnProperty(E)){var P=l[E];if(P!=null)switch(E){case"src":p=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Ct(r,n,E,P,l,null)}}x&&Ct(r,n,"srcSet",l.srcSet,l,null),p&&Ct(r,n,"src",l.src,l,null);return;case"input":bt("invalid",r);var J=E=P=x=null,ye=null,Re=null;for(p in l)if(l.hasOwnProperty(p)){var Le=l[p];if(Le!=null)switch(p){case"name":x=Le;break;case"type":P=Le;break;case"checked":ye=Le;break;case"defaultChecked":Re=Le;break;case"value":E=Le;break;case"defaultValue":J=Le;break;case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(o(137,n));break;default:Ct(r,n,p,Le,l,null)}}_0(r,E,J,ye,Re,P,x,!1);return;case"select":bt("invalid",r),p=P=E=null;for(x in l)if(l.hasOwnProperty(x)&&(J=l[x],J!=null))switch(x){case"value":E=J;break;case"defaultValue":P=J;break;case"multiple":p=J;default:Ct(r,n,x,J,l,null)}n=E,l=P,r.multiple=!!p,n!=null?bi(r,!!p,n,!1):l!=null&&bi(r,!!p,l,!0);return;case"textarea":bt("invalid",r),E=x=p=null;for(P in l)if(l.hasOwnProperty(P)&&(J=l[P],J!=null))switch(P){case"value":p=J;break;case"defaultValue":x=J;break;case"children":E=J;break;case"dangerouslySetInnerHTML":if(J!=null)throw Error(o(91));break;default:Ct(r,n,P,J,l,null)}A0(r,p,x,E);return;case"option":for(ye in l)if(l.hasOwnProperty(ye)&&(p=l[ye],p!=null))switch(ye){case"selected":r.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Ct(r,n,ye,p,l,null)}return;case"dialog":bt("beforetoggle",r),bt("toggle",r),bt("cancel",r),bt("close",r);break;case"iframe":case"object":bt("load",r);break;case"video":case"audio":for(p=0;p<cl.length;p++)bt(cl[p],r);break;case"image":bt("error",r),bt("load",r);break;case"details":bt("toggle",r);break;case"embed":case"source":case"link":bt("error",r),bt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Re in l)if(l.hasOwnProperty(Re)&&(p=l[Re],p!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Ct(r,n,Re,p,l,null)}return;default:if(wf(n)){for(Le in l)l.hasOwnProperty(Le)&&(p=l[Le],p!==void 0&&ap(r,n,Le,p,l,void 0));return}}for(J in l)l.hasOwnProperty(J)&&(p=l[J],p!=null&&Ct(r,n,J,p,l,null))}function CR(r,n,l,p){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,E=null,P=null,J=null,ye=null,Re=null,Le=null;for(De in l){var Ve=l[De];if(l.hasOwnProperty(De)&&Ve!=null)switch(De){case"checked":break;case"value":break;case"defaultValue":ye=Ve;default:p.hasOwnProperty(De)||Ct(r,n,De,null,p,Ve)}}for(var ke in p){var De=p[ke];if(Ve=l[ke],p.hasOwnProperty(ke)&&(De!=null||Ve!=null))switch(ke){case"type":E=De;break;case"name":x=De;break;case"checked":Re=De;break;case"defaultChecked":Le=De;break;case"value":P=De;break;case"defaultValue":J=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(o(137,n));break;default:De!==Ve&&Ct(r,n,ke,De,p,Ve)}}xf(r,P,J,ye,Re,Le,E,x);return;case"select":De=P=J=ke=null;for(E in l)if(ye=l[E],l.hasOwnProperty(E)&&ye!=null)switch(E){case"value":break;case"multiple":De=ye;default:p.hasOwnProperty(E)||Ct(r,n,E,null,p,ye)}for(x in p)if(E=p[x],ye=l[x],p.hasOwnProperty(x)&&(E!=null||ye!=null))switch(x){case"value":ke=E;break;case"defaultValue":J=E;break;case"multiple":P=E;default:E!==ye&&Ct(r,n,x,E,p,ye)}n=J,l=P,p=De,ke!=null?bi(r,!!l,ke,!1):!!p!=!!l&&(n!=null?bi(r,!!l,n,!0):bi(r,!!l,l?[]:"",!1));return;case"textarea":De=ke=null;for(J in l)if(x=l[J],l.hasOwnProperty(J)&&x!=null&&!p.hasOwnProperty(J))switch(J){case"value":break;case"children":break;default:Ct(r,n,J,null,p,x)}for(P in p)if(x=p[P],E=l[P],p.hasOwnProperty(P)&&(x!=null||E!=null))switch(P){case"value":ke=x;break;case"defaultValue":De=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(o(91));break;default:x!==E&&Ct(r,n,P,x,p,E)}E0(r,ke,De);return;case"option":for(var Ze in l)if(ke=l[Ze],l.hasOwnProperty(Ze)&&ke!=null&&!p.hasOwnProperty(Ze))switch(Ze){case"selected":r.selected=!1;break;default:Ct(r,n,Ze,null,p,ke)}for(ye in p)if(ke=p[ye],De=l[ye],p.hasOwnProperty(ye)&&ke!==De&&(ke!=null||De!=null))switch(ye){case"selected":r.selected=ke&&typeof ke!="function"&&typeof ke!="symbol";break;default:Ct(r,n,ye,ke,p,De)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var it in l)ke=l[it],l.hasOwnProperty(it)&&ke!=null&&!p.hasOwnProperty(it)&&Ct(r,n,it,null,p,ke);for(Re in p)if(ke=p[Re],De=l[Re],p.hasOwnProperty(Re)&&ke!==De&&(ke!=null||De!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(o(137,n));break;default:Ct(r,n,Re,ke,p,De)}return;default:if(wf(n)){for(var Rt in l)ke=l[Rt],l.hasOwnProperty(Rt)&&ke!==void 0&&!p.hasOwnProperty(Rt)&&ap(r,n,Rt,void 0,p,ke);for(Le in p)ke=p[Le],De=l[Le],!p.hasOwnProperty(Le)||ke===De||ke===void 0&&De===void 0||ap(r,n,Le,ke,p,De);return}}for(var Ne in l)ke=l[Ne],l.hasOwnProperty(Ne)&&ke!=null&&!p.hasOwnProperty(Ne)&&Ct(r,n,Ne,null,p,ke);for(Ve in p)ke=p[Ve],De=l[Ve],!p.hasOwnProperty(Ve)||ke===De||ke==null&&De==null||Ct(r,n,Ve,ke,p,De)}function Mw(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function RR(){if(typeof performance.getEntriesByType=="function"){for(var r=0,n=0,l=performance.getEntriesByType("resource"),p=0;p<l.length;p++){var x=l[p],E=x.transferSize,P=x.initiatorType,J=x.duration;if(E&&J&&Mw(P)){for(P=0,J=x.responseEnd,p+=1;p<l.length;p++){var ye=l[p],Re=ye.startTime;if(Re>J)break;var Le=ye.transferSize,Ve=ye.initiatorType;Le&&Mw(Ve)&&(ye=ye.responseEnd,P+=Le*(ye<J?1:(J-Re)/(ye-Re)))}if(--p,n+=8*(E+P)/(x.duration/1e3),r++,10<r)break}}if(0<r)return n/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var lp=null,cp=null;function lu(r){return r.nodeType===9?r:r.ownerDocument}function kw(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ow(r,n){if(r===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&n==="foreignObject"?0:r}function up(r,n){return r==="textarea"||r==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var dp=null;function MR(){var r=window.event;return r&&r.type==="popstate"?r===dp?!1:(dp=r,!0):(dp=null,!1)}var Dw=typeof setTimeout=="function"?setTimeout:void 0,kR=typeof clearTimeout=="function"?clearTimeout:void 0,Pw=typeof Promise=="function"?Promise:void 0,OR=typeof queueMicrotask=="function"?queueMicrotask:typeof Pw<"u"?function(r){return Pw.resolve(null).then(r).catch(DR)}:Dw;function DR(r){setTimeout(function(){throw r})}function oo(r){return r==="head"}function Iw(r,n){var l=n,p=0;do{var x=l.nextSibling;if(r.removeChild(l),x&&x.nodeType===8)if(l=x.data,l==="/$"||l==="/&"){if(p===0){r.removeChild(x),Yi(n);return}p--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")p++;else if(l==="html")dl(r.ownerDocument.documentElement);else if(l==="head"){l=r.ownerDocument.head,dl(l);for(var E=l.firstChild;E;){var P=E.nextSibling,J=E.nodeName;E[Lr]||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&E.rel.toLowerCase()==="stylesheet"||l.removeChild(E),E=P}}else l==="body"&&dl(r.ownerDocument.body);l=x}while(l);Yi(n)}function Bw(r,n){var l=r;r=0;do{var p=l.nextSibling;if(l.nodeType===1?n?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(n?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(r===0)break;r--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||r++;l=p}while(l)}function fp(r){var n=r.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":fp(l),yf(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function PR(r,n,l,p){for(;r.nodeType===1;){var x=l;if(r.nodeName.toLowerCase()!==n.toLowerCase()){if(!p&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(p){if(!r[Lr])switch(n){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(E=r.getAttribute("rel"),E==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(E!==x.rel||r.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||r.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||r.getAttribute("title")!==(x.title==null?null:x.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(E=r.getAttribute("src"),(E!==(x.src==null?null:x.src)||r.getAttribute("type")!==(x.type==null?null:x.type)||r.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&E&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(n==="input"&&r.type==="hidden"){var E=x.name==null?null:""+x.name;if(x.type==="hidden"&&r.getAttribute("name")===E)return r}else return r;if(r=_n(r.nextSibling),r===null)break}return null}function IR(r,n,l){if(n==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=_n(r.nextSibling),r===null))return null;return r}function Uw(r,n){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!n||(r=_n(r.nextSibling),r===null))return null;return r}function hp(r){return r.data==="$?"||r.data==="$~"}function pp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function BR(r,n){var l=r.ownerDocument;if(r.data==="$~")r._reactRetry=n;else if(r.data!=="$?"||l.readyState!=="loading")n();else{var p=function(){n(),l.removeEventListener("DOMContentLoaded",p)};l.addEventListener("DOMContentLoaded",p),r._reactRetry=p}}function _n(r){for(;r!=null;r=r.nextSibling){var n=r.nodeType;if(n===1||n===3)break;if(n===8){if(n=r.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return r}var mp=null;function Lw(r){r=r.nextSibling;for(var n=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"||l==="/&"){if(n===0)return _n(r.nextSibling);n--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||n++}r=r.nextSibling}return null}function $w(r){r=r.previousSibling;for(var n=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(n===0)return r;n--}else l!=="/$"&&l!=="/&"||n++}r=r.previousSibling}return null}function zw(r,n,l){switch(n=lu(l),r){case"html":if(r=n.documentElement,!r)throw Error(o(452));return r;case"head":if(r=n.head,!r)throw Error(o(453));return r;case"body":if(r=n.body,!r)throw Error(o(454));return r;default:throw Error(o(451))}}function dl(r){for(var n=r.attributes;n.length;)r.removeAttributeNode(n[0]);yf(r)}var En=new Map,Fw=new Set;function cu(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ss=K.d;K.d={f:UR,r:LR,D:$R,C:zR,L:FR,m:VR,X:HR,S:qR,M:GR};function UR(){var r=Ss.f(),n=eu();return r||n}function LR(r){var n=mi(r);n!==null&&n.tag===5&&n.type==="form"?ov(n):Ss.r(r)}var Wi=typeof document>"u"?null:document;function Vw(r,n,l){var p=Wi;if(p&&typeof n=="string"&&n){var x=bn(n);x='link[rel="'+r+'"][href="'+x+'"]',typeof l=="string"&&(x+='[crossorigin="'+l+'"]'),Fw.has(x)||(Fw.add(x),r={rel:r,crossOrigin:l,href:n},p.querySelector(x)===null&&(n=p.createElement("link"),Tr(n,"link",r),br(n),p.head.appendChild(n)))}}function $R(r){Ss.D(r),Vw("dns-prefetch",r,null)}function zR(r,n){Ss.C(r,n),Vw("preconnect",r,n)}function FR(r,n,l){Ss.L(r,n,l);var p=Wi;if(p&&r&&n){var x='link[rel="preload"][as="'+bn(n)+'"]';n==="image"&&l&&l.imageSrcSet?(x+='[imagesrcset="'+bn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(x+='[imagesizes="'+bn(l.imageSizes)+'"]')):x+='[href="'+bn(r)+'"]';var E=x;switch(n){case"style":E=Ki(r);break;case"script":E=Qi(r)}En.has(E)||(r=g({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:r,as:n},l),En.set(E,r),p.querySelector(x)!==null||n==="style"&&p.querySelector(fl(E))||n==="script"&&p.querySelector(hl(E))||(n=p.createElement("link"),Tr(n,"link",r),br(n),p.head.appendChild(n)))}}function VR(r,n){Ss.m(r,n);var l=Wi;if(l&&r){var p=n&&typeof n.as=="string"?n.as:"script",x='link[rel="modulepreload"][as="'+bn(p)+'"][href="'+bn(r)+'"]',E=x;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Qi(r)}if(!En.has(E)&&(r=g({rel:"modulepreload",href:r},n),En.set(E,r),l.querySelector(x)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(hl(E)))return}p=l.createElement("link"),Tr(p,"link",r),br(p),l.head.appendChild(p)}}}function qR(r,n,l){Ss.S(r,n,l);var p=Wi;if(p&&r){var x=gi(p).hoistableStyles,E=Ki(r);n=n||"default";var P=x.get(E);if(!P){var J={loading:0,preload:null};if(P=p.querySelector(fl(E)))J.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":n},l),(l=En.get(E))&&gp(r,l);var ye=P=p.createElement("link");br(ye),Tr(ye,"link",r),ye._p=new Promise(function(Re,Le){ye.onload=Re,ye.onerror=Le}),ye.addEventListener("load",function(){J.loading|=1}),ye.addEventListener("error",function(){J.loading|=2}),J.loading|=4,uu(P,n,p)}P={type:"stylesheet",instance:P,count:1,state:J},x.set(E,P)}}}function HR(r,n){Ss.X(r,n);var l=Wi;if(l&&r){var p=gi(l).hoistableScripts,x=Qi(r),E=p.get(x);E||(E=l.querySelector(hl(x)),E||(r=g({src:r,async:!0},n),(n=En.get(x))&&yp(r,n),E=l.createElement("script"),br(E),Tr(E,"link",r),l.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},p.set(x,E))}}function GR(r,n){Ss.M(r,n);var l=Wi;if(l&&r){var p=gi(l).hoistableScripts,x=Qi(r),E=p.get(x);E||(E=l.querySelector(hl(x)),E||(r=g({src:r,async:!0,type:"module"},n),(n=En.get(x))&&yp(r,n),E=l.createElement("script"),br(E),Tr(E,"link",r),l.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},p.set(x,E))}}function qw(r,n,l,p){var x=(x=Ee.current)?cu(x):null;if(!x)throw Error(o(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=Ki(l.href),l=gi(x).hoistableStyles,p=l.get(n),p||(p={type:"style",instance:null,count:0,state:null},l.set(n,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=Ki(l.href);var E=gi(x).hoistableStyles,P=E.get(r);if(P||(x=x.ownerDocument||x,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(r,P),(E=x.querySelector(fl(r)))&&!E._p&&(P.instance=E,P.state.loading=5),En.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},En.set(r,l),E||WR(x,r,l,P.state))),n&&p===null)throw Error(o(528,""));return P}if(n&&p!==null)throw Error(o(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Qi(l),l=gi(x).hoistableScripts,p=l.get(n),p||(p={type:"script",instance:null,count:0,state:null},l.set(n,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,r))}}function Ki(r){return'href="'+bn(r)+'"'}function fl(r){return'link[rel="stylesheet"]['+r+"]"}function Hw(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function WR(r,n,l,p){r.querySelector('link[rel="preload"][as="style"]['+n+"]")?p.loading=1:(n=r.createElement("link"),p.preload=n,n.addEventListener("load",function(){return p.loading|=1}),n.addEventListener("error",function(){return p.loading|=2}),Tr(n,"link",l),br(n),r.head.appendChild(n))}function Qi(r){return'[src="'+bn(r)+'"]'}function hl(r){return"script[async]"+r}function Gw(r,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var p=r.querySelector('style[data-href~="'+bn(l.href)+'"]');if(p)return n.instance=p,br(p),p;var x=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return p=(r.ownerDocument||r).createElement("style"),br(p),Tr(p,"style",x),uu(p,l.precedence,r),n.instance=p;case"stylesheet":x=Ki(l.href);var E=r.querySelector(fl(x));if(E)return n.state.loading|=4,n.instance=E,br(E),E;p=Hw(l),(x=En.get(x))&&gp(p,x),E=(r.ownerDocument||r).createElement("link"),br(E);var P=E;return P._p=new Promise(function(J,ye){P.onload=J,P.onerror=ye}),Tr(E,"link",p),n.state.loading|=4,uu(E,l.precedence,r),n.instance=E;case"script":return E=Qi(l.src),(x=r.querySelector(hl(E)))?(n.instance=x,br(x),x):(p=l,(x=En.get(E))&&(p=g({},l),yp(p,x)),r=r.ownerDocument||r,x=r.createElement("script"),br(x),Tr(x,"link",p),r.head.appendChild(x),n.instance=x);case"void":return null;default:throw Error(o(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(p=n.instance,n.state.loading|=4,uu(p,l.precedence,r));return n.instance}function uu(r,n,l){for(var p=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=p.length?p[p.length-1]:null,E=x,P=0;P<p.length;P++){var J=p[P];if(J.dataset.precedence===n)E=J;else if(E!==x)break}E?E.parentNode.insertBefore(r,E.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(r,n.firstChild))}function gp(r,n){r.crossOrigin==null&&(r.crossOrigin=n.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=n.referrerPolicy),r.title==null&&(r.title=n.title)}function yp(r,n){r.crossOrigin==null&&(r.crossOrigin=n.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=n.referrerPolicy),r.integrity==null&&(r.integrity=n.integrity)}var du=null;function Ww(r,n,l){if(du===null){var p=new Map,x=du=new Map;x.set(l,p)}else x=du,p=x.get(l),p||(p=new Map,x.set(l,p));if(p.has(r))return p;for(p.set(r,null),l=l.getElementsByTagName(r),x=0;x<l.length;x++){var E=l[x];if(!(E[Lr]||E[Kt]||r==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var P=E.getAttribute(n)||"";P=r+P;var J=p.get(P);J?J.push(E):p.set(P,[E])}}return p}function Kw(r,n,l){r=r.ownerDocument||r,r.head.insertBefore(l,n==="title"?r.querySelector("head > title"):null)}function KR(r,n,l){if(l===1||n.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return r=n.disabled,typeof n.precedence=="string"&&r==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Qw(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function QR(r,n,l,p){if(l.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var x=Ki(p.href),E=n.querySelector(fl(x));if(E){n=E._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(r.count++,r=fu.bind(r),n.then(r,r)),l.state.loading|=4,l.instance=E,br(E);return}E=n.ownerDocument||n,p=Hw(p),(x=En.get(x))&&gp(p,x),E=E.createElement("link"),br(E);var P=E;P._p=new Promise(function(J,ye){P.onload=J,P.onerror=ye}),Tr(E,"link",p),l.instance=E}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(l,n),(n=l.state.preload)&&(l.state.loading&3)===0&&(r.count++,l=fu.bind(r),n.addEventListener("load",l),n.addEventListener("error",l))}}var bp=0;function YR(r,n){return r.stylesheets&&r.count===0&&pu(r,r.stylesheets),0<r.count||0<r.imgCount?function(l){var p=setTimeout(function(){if(r.stylesheets&&pu(r,r.stylesheets),r.unsuspend){var E=r.unsuspend;r.unsuspend=null,E()}},6e4+n);0<r.imgBytes&&bp===0&&(bp=62500*RR());var x=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&pu(r,r.stylesheets),r.unsuspend)){var E=r.unsuspend;r.unsuspend=null,E()}},(r.imgBytes>bp?50:800)+n);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(p),clearTimeout(x)}}:null}function fu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pu(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var hu=null;function pu(r,n){r.stylesheets=null,r.unsuspend!==null&&(r.count++,hu=new Map,n.forEach(XR,r),hu=null,fu.call(r))}function XR(r,n){if(!(n.state.loading&4)){var l=hu.get(r);if(l)var p=l.get(null);else{l=new Map,hu.set(r,l);for(var x=r.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<x.length;E++){var P=x[E];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(l.set(P.dataset.precedence,P),p=P)}p&&l.set(null,p)}x=n.instance,P=x.getAttribute("data-precedence"),E=l.get(P)||p,E===p&&l.set(null,x),l.set(P,x),this.count++,p=fu.bind(this),x.addEventListener("load",p),x.addEventListener("error",p),E?E.parentNode.insertBefore(x,E.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(x,r.firstChild)),n.state.loading|=4}}var pl={$$typeof:_,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function ZR(r,n,l,p,x,E,P,J,ye){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qr(0),this.hiddenUpdates=qr(null),this.identifierPrefix=p,this.onUncaughtError=x,this.onCaughtError=E,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ye,this.incompleteTransitions=new Map}function Yw(r,n,l,p,x,E,P,J,ye,Re,Le,Ve){return r=new ZR(r,n,l,P,ye,Re,Le,Ve,J),n=1,E===!0&&(n|=24),E=cn(3,null,null,n),r.current=E,E.stateNode=r,n=Xf(),n.refCount++,r.pooledCache=n,n.refCount++,E.memoizedState={element:p,isDehydrated:l,cache:n},th(E),r}function Xw(r){return r?(r=Ei,r):Ei}function Zw(r,n,l,p,x,E){x=Xw(x),p.context===null?p.context=x:p.pendingContext=x,p=Ks(n),p.payload={element:l},E=E===void 0?null:E,E!==null&&(p.callback=E),l=Qs(r,p,n),l!==null&&(Jr(l,r,n),Ga(l,r,n))}function Jw(r,n){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<n?l:n}}function xp(r,n){Jw(r,n),(r=r.alternate)&&Jw(r,n)}function e1(r){if(r.tag===13||r.tag===31){var n=Oo(r,67108864);n!==null&&Jr(n,r,67108864),xp(r,67108864)}}function t1(r){if(r.tag===13||r.tag===31){var n=pn();n=Pt(n);var l=Oo(r,n);l!==null&&Jr(l,r,n),xp(r,n)}}var mu=!0;function JR(r,n,l,p){var x=$.T;$.T=null;var E=K.p;try{K.p=2,vp(r,n,l,p)}finally{K.p=E,$.T=x}}function eM(r,n,l,p){var x=$.T;$.T=null;var E=K.p;try{K.p=8,vp(r,n,l,p)}finally{K.p=E,$.T=x}}function vp(r,n,l,p){if(mu){var x=wp(p);if(x===null)ip(r,n,p,gu,l),n1(r,p);else if(rM(x,r,n,l,p))p.stopPropagation();else if(n1(r,p),n&4&&-1<tM.indexOf(r)){for(;x!==null;){var E=mi(x);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var P=Nr(E.pendingLanes);if(P!==0){var J=E;for(J.pendingLanes|=2,J.entangledLanes|=2;P;){var ye=1<<31-Ye(P);J.entanglements[1]|=ye,P&=~ye}Qn(E),(Nt&6)===0&&(Zc=ae()+500,ll(0))}}break;case 31:case 13:J=Oo(E,2),J!==null&&Jr(J,E,2),eu(),xp(E,2)}if(E=wp(p),E===null&&ip(r,n,p,gu,l),E===x)break;x=E}x!==null&&p.stopPropagation()}else ip(r,n,p,null,l)}}function wp(r){return r=jf(r),Sp(r)}var gu=null;function Sp(r){if(gu=null,r=pi(r),r!==null){var n=a(r);if(n===null)r=null;else{var l=n.tag;if(l===13){if(r=c(n),r!==null)return r;r=null}else if(l===31){if(r=u(n),r!==null)return r;r=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;r=null}else n!==r&&(r=null)}}return gu=r,null}function r1(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Me()){case T:return 2;case D:return 8;case F:case me:return 32;case ge:return 268435456;default:return 32}default:return 32}}var jp=!1,io=null,ao=null,lo=null,ml=new Map,gl=new Map,co=[],tM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function n1(r,n){switch(r){case"focusin":case"focusout":io=null;break;case"dragenter":case"dragleave":ao=null;break;case"mouseover":case"mouseout":lo=null;break;case"pointerover":case"pointerout":ml.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(n.pointerId)}}function yl(r,n,l,p,x,E){return r===null||r.nativeEvent!==E?(r={blockedOn:n,domEventName:l,eventSystemFlags:p,nativeEvent:E,targetContainers:[x]},n!==null&&(n=mi(n),n!==null&&e1(n)),r):(r.eventSystemFlags|=p,n=r.targetContainers,x!==null&&n.indexOf(x)===-1&&n.push(x),r)}function rM(r,n,l,p,x){switch(n){case"focusin":return io=yl(io,r,n,l,p,x),!0;case"dragenter":return ao=yl(ao,r,n,l,p,x),!0;case"mouseover":return lo=yl(lo,r,n,l,p,x),!0;case"pointerover":var E=x.pointerId;return ml.set(E,yl(ml.get(E)||null,r,n,l,p,x)),!0;case"gotpointercapture":return E=x.pointerId,gl.set(E,yl(gl.get(E)||null,r,n,l,p,x)),!0}return!1}function s1(r){var n=pi(r.target);if(n!==null){var l=a(n);if(l!==null){if(n=l.tag,n===13){if(n=c(l),n!==null){r.blockedOn=n,zs(r.priority,function(){t1(l)});return}}else if(n===31){if(n=u(l),n!==null){r.blockedOn=n,zs(r.priority,function(){t1(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function yu(r){if(r.blockedOn!==null)return!1;for(var n=r.targetContainers;0<n.length;){var l=wp(r.nativeEvent);if(l===null){l=r.nativeEvent;var p=new l.constructor(l.type,l);Sf=p,l.target.dispatchEvent(p),Sf=null}else return n=mi(l),n!==null&&e1(n),r.blockedOn=l,!1;n.shift()}return!0}function o1(r,n,l){yu(r)&&l.delete(n)}function nM(){jp=!1,io!==null&&yu(io)&&(io=null),ao!==null&&yu(ao)&&(ao=null),lo!==null&&yu(lo)&&(lo=null),ml.forEach(o1),gl.forEach(o1)}function bu(r,n){r.blockedOn===n&&(r.blockedOn=null,jp||(jp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,nM)))}var xu=null;function i1(r){xu!==r&&(xu=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){xu===r&&(xu=null);for(var n=0;n<r.length;n+=3){var l=r[n],p=r[n+1],x=r[n+2];if(typeof p!="function"){if(Sp(p||l)===null)continue;break}var E=mi(l);E!==null&&(r.splice(n,3),n-=3,wh(E,{pending:!0,data:x,method:l.method,action:p},p,x))}}))}function Yi(r){function n(ye){return bu(ye,r)}io!==null&&bu(io,r),ao!==null&&bu(ao,r),lo!==null&&bu(lo,r),ml.forEach(n),gl.forEach(n);for(var l=0;l<co.length;l++){var p=co[l];p.blockedOn===r&&(p.blockedOn=null)}for(;0<co.length&&(l=co[0],l.blockedOn===null);)s1(l),l.blockedOn===null&&co.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(p=0;p<l.length;p+=3){var x=l[p],E=l[p+1],P=x[fr]||null;if(typeof E=="function")P||i1(l);else if(P){var J=null;if(E&&E.hasAttribute("formAction")){if(x=E,P=E[fr]||null)J=P.formAction;else if(Sp(x)!==null)continue}else J=P.action;typeof J=="function"?l[p+1]=J:(l.splice(p,3),p-=3),i1(l)}}}function a1(){function r(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(P){return x=P})},focusReset:"manual",scroll:"manual"})}function n(){x!==null&&(x(),x=null),p||setTimeout(l,20)}function l(){if(!p&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,x=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(l,100),function(){p=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),x!==null&&(x(),x=null)}}}function Np(r){this._internalRoot=r}vu.prototype.render=Np.prototype.render=function(r){var n=this._internalRoot;if(n===null)throw Error(o(409));var l=n.current,p=pn();Zw(l,p,r,n,null,null)},vu.prototype.unmount=Np.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var n=r.containerInfo;Zw(r.current,2,null,r,null,null),eu(),n[Gr]=null}};function vu(r){this._internalRoot=r}vu.prototype.unstable_scheduleHydration=function(r){if(r){var n=Ur();r={blockedOn:null,target:r,priority:n};for(var l=0;l<co.length&&n!==0&&n<co[l].priority;l++);co.splice(l,0,r),l===0&&s1(r)}};var l1=t.version;if(l1!=="19.2.0")throw Error(o(527,l1,"19.2.0"));K.findDOMNode=function(r){var n=r._reactInternals;if(n===void 0)throw typeof r.render=="function"?Error(o(188)):(r=Object.keys(r).join(","),Error(o(268,r)));return r=h(n),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var sM={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wu.isDisabled&&wu.supportsFiber)try{xe=wu.inject(sM),_e=wu}catch{}}return xl.createRoot=function(r,n){if(!i(r))throw Error(o(299));var l=!1,p="",x=mv,E=gv,P=yv;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(p=n.identifierPrefix),n.onUncaughtError!==void 0&&(x=n.onUncaughtError),n.onCaughtError!==void 0&&(E=n.onCaughtError),n.onRecoverableError!==void 0&&(P=n.onRecoverableError)),n=Yw(r,1,!1,null,null,l,p,null,x,E,P,a1),r[Gr]=n.current,op(r),new Np(n)},xl.hydrateRoot=function(r,n,l){if(!i(r))throw Error(o(299));var p=!1,x="",E=mv,P=gv,J=yv,ye=null;return l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onUncaughtError!==void 0&&(E=l.onUncaughtError),l.onCaughtError!==void 0&&(P=l.onCaughtError),l.onRecoverableError!==void 0&&(J=l.onRecoverableError),l.formState!==void 0&&(ye=l.formState)),n=Yw(r,1,!0,n,l??null,p,x,ye,E,P,J,a1),n.context=Xw(null),l=n.current,p=pn(),p=Pt(p),x=Ks(p),x.callback=null,Qs(l,x,p),l=p,n.current.lanes=l,oe(n,l),Qn(n),r[Gr]=n.current,op(r),new vu(n)},xl.version="19.2.0",xl}var b1;function pM(){if(b1)return Ap.exports;b1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ap.exports=hM(),Ap.exports}var mM=pM(),gM=YN();const yM=QN(gM);function bM(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}const xM=e=>{switch(e){case"success":return SM;case"info":return NM;case"warning":return jM;case"error":return _M;default:return null}},vM=Array(12).fill(0),wM=({visible:e,className:t})=>Ge.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Ge.createElement("div",{className:"sonner-spinner"},vM.map((s,o)=>Ge.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${o}`})))),SM=Ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ge.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),jM=Ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ge.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),NM=Ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ge.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),_M=Ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ge.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),EM=Ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ge.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ge.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),AM=()=>{const[e,t]=Ge.useState(document.hidden);return Ge.useEffect(()=>{const s=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),e};let lm=1;class TM{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const s=this.subscribers.indexOf(t);this.subscribers.splice(s,1)}),this.publish=t=>{this.subscribers.forEach(s=>s(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var s;const{message:o,...i}=t,a=typeof t?.id=="number"||((s=t.id)==null?void 0:s.length)>0?t.id:lm++,c=this.toasts.find(f=>f.id===a),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),c?this.toasts=this.toasts.map(f=>f.id===a?(this.publish({...f,...t,id:a,title:o}),{...f,...t,id:a,dismissible:u,title:o}):f):this.addToast({title:o,...i,dismissible:u,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:t,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(o=>o({id:s.id,dismiss:!0}))}),t),this.message=(t,s)=>this.create({...s,message:t}),this.error=(t,s)=>this.create({...s,message:t,type:"error"}),this.success=(t,s)=>this.create({...s,type:"success",message:t}),this.info=(t,s)=>this.create({...s,type:"info",message:t}),this.warning=(t,s)=>this.create({...s,type:"warning",message:t}),this.loading=(t,s)=>this.create({...s,type:"loading",message:t}),this.promise=(t,s)=>{if(!s)return;let o;s.loading!==void 0&&(o=this.create({...s,promise:t,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let a=o!==void 0,c;const u=i.then(async h=>{if(c=["resolve",h],Ge.isValidElement(h))a=!1,this.create({id:o,type:"default",message:h});else if(RM(h)&&!h.ok){a=!1;const g=typeof s.error=="function"?await s.error(`HTTP error! status: ${h.status}`):s.error,b=typeof s.description=="function"?await s.description(`HTTP error! status: ${h.status}`):s.description,y=typeof g=="object"&&!Ge.isValidElement(g)?g:{message:g};this.create({id:o,type:"error",description:b,...y})}else if(h instanceof Error){a=!1;const g=typeof s.error=="function"?await s.error(h):s.error,b=typeof s.description=="function"?await s.description(h):s.description,y=typeof g=="object"&&!Ge.isValidElement(g)?g:{message:g};this.create({id:o,type:"error",description:b,...y})}else if(s.success!==void 0){a=!1;const g=typeof s.success=="function"?await s.success(h):s.success,b=typeof s.description=="function"?await s.description(h):s.description,y=typeof g=="object"&&!Ge.isValidElement(g)?g:{message:g};this.create({id:o,type:"success",description:b,...y})}}).catch(async h=>{if(c=["reject",h],s.error!==void 0){a=!1;const m=typeof s.error=="function"?await s.error(h):s.error,g=typeof s.description=="function"?await s.description(h):s.description,j=typeof m=="object"&&!Ge.isValidElement(m)?m:{message:m};this.create({id:o,type:"error",description:g,...j})}}).finally(()=>{a&&(this.dismiss(o),o=void 0),s.finally==null||s.finally.call(s)}),f=()=>new Promise((h,m)=>u.then(()=>c[0]==="reject"?m(c[1]):h(c[1])).catch(m));return typeof o!="string"&&typeof o!="number"?{unwrap:f}:Object.assign(o,{unwrap:f})},this.custom=(t,s)=>{const o=s?.id||lm++;return this.create({jsx:t(o),id:o,...s}),o},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const en=new TM,CM=(e,t)=>{const s=t?.id||lm++;return en.addToast({title:e,...t,id:s}),s},RM=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",MM=CM,kM=()=>en.toasts,OM=()=>en.getActiveToasts(),qe=Object.assign(MM,{success:en.success,info:en.info,warning:en.warning,error:en.error,custom:en.custom,message:en.message,promise:en.promise,dismiss:en.dismiss,loading:en.loading},{getHistory:kM,getToasts:OM});bM("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Su(e){return e.label!==void 0}const DM=3,PM="24px",IM="16px",x1=4e3,BM=356,UM=14,LM=45,$M=200;function Yn(...e){return e.filter(Boolean).join(" ")}function zM(e){const[t,s]=e.split("-"),o=[];return t&&o.push(t),s&&o.push(s),o}const FM=e=>{var t,s,o,i,a,c,u,f,h;const{invert:m,toast:g,unstyled:b,interacting:j,setHeights:y,visibleToasts:w,heights:v,index:N,toasts:S,expanded:_,removeToast:M,defaultRichColors:A,closeButton:C,style:R,cancelButtonStyle:k,actionButtonStyle:U,className:L="",descriptionClassName:te="",duration:V,position:ie,gap:H,expandByDefault:re,classNames:$,icons:K,closeButtonAriaLabel:X="Close toast"}=e,[ne,G]=Ge.useState(null),[B,z]=Ge.useState(null),[Z,pe]=Ge.useState(!1),[he,Ee]=Ge.useState(!1),[de,le]=Ge.useState(!1),[Se,be]=Ge.useState(!1),[ve,we]=Ge.useState(!1),[Pe,Te]=Ge.useState(0),[ce,Y]=Ge.useState(0),se=Ge.useRef(g.duration||V||x1),q=Ge.useRef(null),I=Ge.useRef(null),ee=N===0,Q=N+1<=w,W=g.type,ue=g.dismissible!==!1,ae=g.className||"",Me=g.descriptionClassName||"",T=Ge.useMemo(()=>v.findIndex(nt=>nt.toastId===g.id)||0,[v,g.id]),D=Ge.useMemo(()=>{var nt;return(nt=g.closeButton)!=null?nt:C},[g.closeButton,C]),F=Ge.useMemo(()=>g.duration||V||x1,[g.duration,V]),me=Ge.useRef(0),ge=Ge.useRef(0),Ae=Ge.useRef(0),$e=Ge.useRef(null),[xe,_e]=ie.split("-"),Xe=Ge.useMemo(()=>v.reduce((nt,gt,Gt)=>Gt>=T?nt:nt+gt.height,0),[v,T]),Ye=AM(),ot=g.invert||m,ut=W==="loading";ge.current=Ge.useMemo(()=>T*H+Xe,[T,Xe]),Ge.useEffect(()=>{se.current=F},[F]),Ge.useEffect(()=>{pe(!0)},[]),Ge.useEffect(()=>{const nt=I.current;if(nt){const gt=nt.getBoundingClientRect().height;return Y(gt),y(Gt=>[{toastId:g.id,height:gt,position:g.position},...Gt]),()=>y(Gt=>Gt.filter(Wt=>Wt.toastId!==g.id))}},[y,g.id]),Ge.useLayoutEffect(()=>{if(!Z)return;const nt=I.current,gt=nt.style.height;nt.style.height="auto";const Gt=nt.getBoundingClientRect().height;nt.style.height=gt,Y(Gt),y(Wt=>Wt.find(oe=>oe.toastId===g.id)?Wt.map(oe=>oe.toastId===g.id?{...oe,height:Gt}:oe):[{toastId:g.id,height:Gt,position:g.position},...Wt])},[Z,g.title,g.description,y,g.id,g.jsx,g.action,g.cancel]);const er=Ge.useCallback(()=>{Ee(!0),Te(ge.current),y(nt=>nt.filter(gt=>gt.toastId!==g.id)),setTimeout(()=>{M(g)},$M)},[g,M,y,ge]);Ge.useEffect(()=>{if(g.promise&&W==="loading"||g.duration===1/0||g.type==="loading")return;let nt;return _||j||Ye?(()=>{if(Ae.current<me.current){const Wt=new Date().getTime()-me.current;se.current=se.current-Wt}Ae.current=new Date().getTime()})():(()=>{se.current!==1/0&&(me.current=new Date().getTime(),nt=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),er()},se.current))})(),()=>clearTimeout(nt)},[_,j,g,W,Ye,er]),Ge.useEffect(()=>{g.delete&&(er(),g.onDismiss==null||g.onDismiss.call(g,g))},[er,g.delete]);function jr(){var nt;if(K?.loading){var gt;return Ge.createElement("div",{className:Yn($?.loader,g==null||(gt=g.classNames)==null?void 0:gt.loader,"sonner-loader"),"data-visible":W==="loading"},K.loading)}return Ge.createElement(wM,{className:Yn($?.loader,g==null||(nt=g.classNames)==null?void 0:nt.loader),visible:W==="loading"})}const Ht=g.icon||K?.[W]||xM(W);var yr,Nr;return Ge.createElement("li",{tabIndex:0,ref:I,className:Yn(L,ae,$?.toast,g==null||(t=g.classNames)==null?void 0:t.toast,$?.default,$?.[W],g==null||(s=g.classNames)==null?void 0:s[W]),"data-sonner-toast":"","data-rich-colors":(yr=g.richColors)!=null?yr:A,"data-styled":!(g.jsx||g.unstyled||b),"data-mounted":Z,"data-promise":!!g.promise,"data-swiped":ve,"data-removed":he,"data-visible":Q,"data-y-position":xe,"data-x-position":_e,"data-index":N,"data-front":ee,"data-swiping":de,"data-dismissible":ue,"data-type":W,"data-invert":ot,"data-swipe-out":Se,"data-swipe-direction":B,"data-expanded":!!(_||re&&Z),"data-testid":g.testId,style:{"--index":N,"--toasts-before":N,"--z-index":S.length-N,"--offset":`${he?Pe:ge.current}px`,"--initial-height":re?"auto":`${ce}px`,...R,...g.style},onDragEnd:()=>{le(!1),G(null),$e.current=null},onPointerDown:nt=>{nt.button!==2&&(ut||!ue||(q.current=new Date,Te(ge.current),nt.target.setPointerCapture(nt.pointerId),nt.target.tagName!=="BUTTON"&&(le(!0),$e.current={x:nt.clientX,y:nt.clientY})))},onPointerUp:()=>{var nt,gt,Gt;if(Se||!ue)return;$e.current=null;const Wt=Number(((nt=I.current)==null?void 0:nt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),qr=Number(((gt=I.current)==null?void 0:gt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),oe=new Date().getTime()-((Gt=q.current)==null?void 0:Gt.getTime()),fe=ne==="x"?Wt:qr,We=Math.abs(fe)/oe;if(Math.abs(fe)>=LM||We>.11){Te(ge.current),g.onDismiss==null||g.onDismiss.call(g,g),z(ne==="x"?Wt>0?"right":"left":qr>0?"down":"up"),er(),be(!0);return}else{var Ke,Qe;(Ke=I.current)==null||Ke.style.setProperty("--swipe-amount-x","0px"),(Qe=I.current)==null||Qe.style.setProperty("--swipe-amount-y","0px")}we(!1),le(!1),G(null)},onPointerMove:nt=>{var gt,Gt,Wt;if(!$e.current||!ue||((gt=window.getSelection())==null?void 0:gt.toString().length)>0)return;const oe=nt.clientY-$e.current.y,fe=nt.clientX-$e.current.x;var We;const Ke=(We=e.swipeDirections)!=null?We:zM(ie);!ne&&(Math.abs(fe)>1||Math.abs(oe)>1)&&G(Math.abs(fe)>Math.abs(oe)?"x":"y");let Qe={x:0,y:0};const Pt=kt=>1/(1.5+Math.abs(kt)/20);if(ne==="y"){if(Ke.includes("top")||Ke.includes("bottom"))if(Ke.includes("top")&&oe<0||Ke.includes("bottom")&&oe>0)Qe.y=oe;else{const kt=oe*Pt(oe);Qe.y=Math.abs(kt)<Math.abs(oe)?kt:oe}}else if(ne==="x"&&(Ke.includes("left")||Ke.includes("right")))if(Ke.includes("left")&&fe<0||Ke.includes("right")&&fe>0)Qe.x=fe;else{const kt=fe*Pt(fe);Qe.x=Math.abs(kt)<Math.abs(fe)?kt:fe}(Math.abs(Qe.x)>0||Math.abs(Qe.y)>0)&&we(!0),(Gt=I.current)==null||Gt.style.setProperty("--swipe-amount-x",`${Qe.x}px`),(Wt=I.current)==null||Wt.style.setProperty("--swipe-amount-y",`${Qe.y}px`)}},D&&!g.jsx&&W!=="loading"?Ge.createElement("button",{"aria-label":X,"data-disabled":ut,"data-close-button":!0,onClick:ut||!ue?()=>{}:()=>{er(),g.onDismiss==null||g.onDismiss.call(g,g)},className:Yn($?.closeButton,g==null||(o=g.classNames)==null?void 0:o.closeButton)},(Nr=K?.close)!=null?Nr:EM):null,(W||g.icon||g.promise)&&g.icon!==null&&(K?.[W]!==null||g.icon)?Ge.createElement("div",{"data-icon":"",className:Yn($?.icon,g==null||(i=g.classNames)==null?void 0:i.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||jr():null,g.type!=="loading"?Ht:null):null,Ge.createElement("div",{"data-content":"",className:Yn($?.content,g==null||(a=g.classNames)==null?void 0:a.content)},Ge.createElement("div",{"data-title":"",className:Yn($?.title,g==null||(c=g.classNames)==null?void 0:c.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?Ge.createElement("div",{"data-description":"",className:Yn(te,Me,$?.description,g==null||(u=g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),Ge.isValidElement(g.cancel)?g.cancel:g.cancel&&Su(g.cancel)?Ge.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||k,onClick:nt=>{Su(g.cancel)&&ue&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,nt),er())},className:Yn($?.cancelButton,g==null||(f=g.classNames)==null?void 0:f.cancelButton)},g.cancel.label):null,Ge.isValidElement(g.action)?g.action:g.action&&Su(g.action)?Ge.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||U,onClick:nt=>{Su(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,nt),!nt.defaultPrevented&&er())},className:Yn($?.actionButton,g==null||(h=g.classNames)==null?void 0:h.actionButton)},g.action.label):null)};function v1(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function VM(e,t){const s={};return[e,t].forEach((o,i)=>{const a=i===1,c=a?"--mobile-offset":"--offset",u=a?IM:PM;function f(h){["top","right","bottom","left"].forEach(m=>{s[`${c}-${m}`]=typeof h=="number"?`${h}px`:h})}typeof o=="number"||typeof o=="string"?f(o):typeof o=="object"?["top","right","bottom","left"].forEach(h=>{o[h]===void 0?s[`${c}-${h}`]=u:s[`${c}-${h}`]=typeof o[h]=="number"?`${o[h]}px`:o[h]}):f(u)}),s}const qM=Ge.forwardRef(function(t,s){const{id:o,invert:i,position:a="bottom-right",hotkey:c=["altKey","KeyT"],expand:u,closeButton:f,className:h,offset:m,mobileOffset:g,theme:b="light",richColors:j,duration:y,style:w,visibleToasts:v=DM,toastOptions:N,dir:S=v1(),gap:_=UM,icons:M,containerAriaLabel:A="Notifications"}=t,[C,R]=Ge.useState([]),k=Ge.useMemo(()=>o?C.filter(Z=>Z.toasterId===o):C.filter(Z=>!Z.toasterId),[C,o]),U=Ge.useMemo(()=>Array.from(new Set([a].concat(k.filter(Z=>Z.position).map(Z=>Z.position)))),[k,a]),[L,te]=Ge.useState([]),[V,ie]=Ge.useState(!1),[H,re]=Ge.useState(!1),[$,K]=Ge.useState(b!=="system"?b:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),X=Ge.useRef(null),ne=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),G=Ge.useRef(null),B=Ge.useRef(!1),z=Ge.useCallback(Z=>{R(pe=>{var he;return(he=pe.find(Ee=>Ee.id===Z.id))!=null&&he.delete||en.dismiss(Z.id),pe.filter(({id:Ee})=>Ee!==Z.id)})},[]);return Ge.useEffect(()=>en.subscribe(Z=>{if(Z.dismiss){requestAnimationFrame(()=>{R(pe=>pe.map(he=>he.id===Z.id?{...he,delete:!0}:he))});return}setTimeout(()=>{yM.flushSync(()=>{R(pe=>{const he=pe.findIndex(Ee=>Ee.id===Z.id);return he!==-1?[...pe.slice(0,he),{...pe[he],...Z},...pe.slice(he+1)]:[Z,...pe]})})})}),[C]),Ge.useEffect(()=>{if(b!=="system"){K(b);return}if(b==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?K("dark"):K("light")),typeof window>"u")return;const Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:pe})=>{K(pe?"dark":"light")})}catch{Z.addListener(({matches:he})=>{try{K(he?"dark":"light")}catch(Ee){console.error(Ee)}})}},[b]),Ge.useEffect(()=>{C.length<=1&&ie(!1)},[C]),Ge.useEffect(()=>{const Z=pe=>{var he;if(c.every(le=>pe[le]||pe.code===le)){var de;ie(!0),(de=X.current)==null||de.focus()}pe.code==="Escape"&&(document.activeElement===X.current||(he=X.current)!=null&&he.contains(document.activeElement))&&ie(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[c]),Ge.useEffect(()=>{if(X.current)return()=>{G.current&&(G.current.focus({preventScroll:!0}),G.current=null,B.current=!1)}},[X.current]),Ge.createElement("section",{ref:s,"aria-label":`${A} ${ne}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},U.map((Z,pe)=>{var he;const[Ee,de]=Z.split("-");return k.length?Ge.createElement("ol",{key:Z,dir:S==="auto"?v1():S,tabIndex:-1,ref:X,className:h,"data-sonner-toaster":!0,"data-sonner-theme":$,"data-y-position":Ee,"data-x-position":de,style:{"--front-toast-height":`${((he=L[0])==null?void 0:he.height)||0}px`,"--width":`${BM}px`,"--gap":`${_}px`,...w,...VM(m,g)},onBlur:le=>{B.current&&!le.currentTarget.contains(le.relatedTarget)&&(B.current=!1,G.current&&(G.current.focus({preventScroll:!0}),G.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||B.current||(B.current=!0,G.current=le.relatedTarget)},onMouseEnter:()=>ie(!0),onMouseMove:()=>ie(!0),onMouseLeave:()=>{H||ie(!1)},onDragEnd:()=>ie(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||re(!0)},onPointerUp:()=>re(!1)},k.filter(le=>!le.position&&pe===0||le.position===Z).map((le,Se)=>{var be,ve;return Ge.createElement(FM,{key:le.id,icons:M,index:Se,toast:le,defaultRichColors:j,duration:(be=N?.duration)!=null?be:y,className:N?.className,descriptionClassName:N?.descriptionClassName,invert:i,visibleToasts:v,closeButton:(ve=N?.closeButton)!=null?ve:f,interacting:H,position:Z,style:N?.style,unstyled:N?.unstyled,classNames:N?.classNames,cancelButtonStyle:N?.cancelButtonStyle,actionButtonStyle:N?.actionButtonStyle,closeButtonAriaLabel:N?.closeButtonAriaLabel,removeToast:z,toasts:k.filter(we=>we.position==le.position),heights:L.filter(we=>we.position==le.position),setHeights:te,expandByDefault:u,gap:_,expanded:V,swipeDirections:t.swipeDirections})})):null}))});/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var w1="popstate";function HM(e={}){function t(o,i){let{pathname:a,search:c,hash:u}=o.location;return cm("",{pathname:a,search:c,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(o,i){return typeof i=="string"?i:Ll(i)}return WM(t,s,null,e)}function Vt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $n(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function GM(){return Math.random().toString(36).substring(2,10)}function S1(e,t){return{usr:e.state,key:e.key,idx:t}}function cm(e,t,s=null,o){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ga(t):t,state:s,key:t&&t.key||o||GM()}}function Ll({pathname:e="/",search:t="",hash:s=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function ga(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substring(s),e=e.substring(0,s));let o=e.indexOf("?");o>=0&&(t.search=e.substring(o),e=e.substring(0,o)),e&&(t.pathname=e)}return t}function WM(e,t,s,o={}){let{window:i=document.defaultView,v5Compat:a=!1}=o,c=i.history,u="POP",f=null,h=m();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function m(){return(c.state||{idx:null}).idx}function g(){u="POP";let v=m(),N=v==null?null:v-h;h=v,f&&f({action:u,location:w.location,delta:N})}function b(v,N){u="PUSH";let S=cm(w.location,v,N);h=m()+1;let _=S1(S,h),M=w.createHref(S);try{c.pushState(_,"",M)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(M)}a&&f&&f({action:u,location:w.location,delta:1})}function j(v,N){u="REPLACE";let S=cm(w.location,v,N);h=m();let _=S1(S,h),M=w.createHref(S);c.replaceState(_,"",M),a&&f&&f({action:u,location:w.location,delta:0})}function y(v){return KM(v)}let w={get action(){return u},get location(){return e(i,c)},listen(v){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(w1,g),f=v,()=>{i.removeEventListener(w1,g),f=null}},createHref(v){return t(i,v)},createURL:y,encodeLocation(v){let N=y(v);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:b,replace:j,go(v){return c.go(v)}};return w}function KM(e,t=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Vt(s,"No window.location.(origin|href) available to create URL");let o=typeof e=="string"?e:Ll(e);return o=o.replace(/ $/,"%20"),!t&&o.startsWith("//")&&(o=s+o),new URL(o,s)}function XN(e,t,s="/"){return QM(e,t,s,!1)}function QM(e,t,s,o){let i=typeof t=="string"?ga(t):t,a=ks(i.pathname||"/",s);if(a==null)return null;let c=ZN(e);YM(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let h=ak(a);u=ok(c[f],h,o)}return u}function ZN(e,t=[],s=[],o="",i=!1){let a=(c,u,f=i,h)=>{let m={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(o)&&f)return;Vt(m.relativePath.startsWith(o),`Absolute route path "${m.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(o.length)}let g=Rs([o,m.relativePath]),b=s.concat(m);c.children&&c.children.length>0&&(Vt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),ZN(c.children,t,b,g,f)),!(c.path==null&&!c.index)&&t.push({path:g,score:nk(g,c.index),routesMeta:b})};return e.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))a(c,u);else for(let f of JN(c.path))a(c,u,!0,f)}),t}function JN(e){let t=e.split("/");if(t.length===0)return[];let[s,...o]=t,i=s.endsWith("?"),a=s.replace(/\?$/,"");if(o.length===0)return i?[a,""]:[a];let c=JN(o.join("/")),u=[];return u.push(...c.map(f=>f===""?a:[a,f].join("/"))),i&&u.push(...c),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function YM(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:sk(t.routesMeta.map(o=>o.childrenIndex),s.routesMeta.map(o=>o.childrenIndex)))}var XM=/^:[\w-]+$/,ZM=3,JM=2,ek=1,tk=10,rk=-2,j1=e=>e==="*";function nk(e,t){let s=e.split("/"),o=s.length;return s.some(j1)&&(o+=rk),t&&(o+=JM),s.filter(i=>!j1(i)).reduce((i,a)=>i+(XM.test(a)?ZM:a===""?ek:tk),o)}function sk(e,t){return e.length===t.length&&e.slice(0,-1).every((o,i)=>o===t[i])?e[e.length-1]-t[t.length-1]:0}function ok(e,t,s=!1){let{routesMeta:o}=e,i={},a="/",c=[];for(let u=0;u<o.length;++u){let f=o[u],h=u===o.length-1,m=a==="/"?t:t.slice(a.length)||"/",g=Nd({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},m),b=f.route;if(!g&&h&&s&&!o[o.length-1].route.index&&(g=Nd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!g)return null;Object.assign(i,g.params),c.push({params:i,pathname:Rs([a,g.pathname]),pathnameBase:dk(Rs([a,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(a=Rs([a,g.pathnameBase]))}return c}function Nd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,o]=ik(e.path,e.caseSensitive,e.end),i=t.match(s);if(!i)return null;let a=i[0],c=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:o.reduce((h,{paramName:m,isOptional:g},b)=>{if(m==="*"){let y=u[b]||"";c=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const j=u[b];return g&&!j?h[m]=void 0:h[m]=(j||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:c,pattern:e}}function ik(e,t=!1,s=!0){$n(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let o=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(o.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(o.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),o]}function ak(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $n(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ks(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,o=e.charAt(s);return o&&o!=="/"?null:e.slice(s)||"/"}function lk(e,t="/"){let{pathname:s,search:o="",hash:i=""}=typeof e=="string"?ga(e):e;return{pathname:s?s.startsWith("/")?s:ck(s,t):t,search:fk(o),hash:hk(i)}}function ck(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function Mp(e,t,s,o){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uk(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function tb(e){let t=uk(e);return t.map((s,o)=>o===t.length-1?s.pathname:s.pathnameBase)}function rb(e,t,s,o=!1){let i;typeof e=="string"?i=ga(e):(i={...e},Vt(!i.pathname||!i.pathname.includes("?"),Mp("?","pathname","search",i)),Vt(!i.pathname||!i.pathname.includes("#"),Mp("#","pathname","hash",i)),Vt(!i.search||!i.search.includes("#"),Mp("#","search","hash",i)));let a=e===""||i.pathname==="",c=a?"/":i.pathname,u;if(c==null)u=s;else{let g=t.length-1;if(!o&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),g-=1;i.pathname=b.join("/")}u=g>=0?t[g]:"/"}let f=lk(i,u),h=c&&c!=="/"&&c.endsWith("/"),m=(a||c===".")&&s.endsWith("/");return!f.pathname.endsWith("/")&&(h||m)&&(f.pathname+="/"),f}var Rs=e=>e.join("/").replace(/\/\/+/g,"/"),dk=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),fk=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,hk=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function pk(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var e2=["POST","PUT","PATCH","DELETE"];new Set(e2);var mk=["GET",...e2];new Set(mk);var ya=O.createContext(null);ya.displayName="DataRouter";var Fd=O.createContext(null);Fd.displayName="DataRouterState";O.createContext(!1);var t2=O.createContext({isTransitioning:!1});t2.displayName="ViewTransition";var gk=O.createContext(new Map);gk.displayName="Fetchers";var yk=O.createContext(null);yk.displayName="Await";var Fn=O.createContext(null);Fn.displayName="Navigation";var Yl=O.createContext(null);Yl.displayName="Location";var Vn=O.createContext({outlet:null,matches:[],isDataRoute:!1});Vn.displayName="Route";var nb=O.createContext(null);nb.displayName="RouteError";function bk(e,{relative:t}={}){Vt(ba(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:o}=O.useContext(Fn),{hash:i,pathname:a,search:c}=Xl(e,{relative:t}),u=a;return s!=="/"&&(u=a==="/"?s:Rs([s,a])),o.createHref({pathname:u,search:c,hash:i})}function ba(){return O.useContext(Yl)!=null}function vr(){return Vt(ba(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Yl).location}var r2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function n2(e){O.useContext(Fn).static||O.useLayoutEffect(e)}function qt(){let{isDataRoute:e}=O.useContext(Vn);return e?Mk():xk()}function xk(){Vt(ba(),"useNavigate() may be used only in the context of a <Router> component.");let e=O.useContext(ya),{basename:t,navigator:s}=O.useContext(Fn),{matches:o}=O.useContext(Vn),{pathname:i}=vr(),a=JSON.stringify(tb(o)),c=O.useRef(!1);return n2(()=>{c.current=!0}),O.useCallback((f,h={})=>{if($n(c.current,r2),!c.current)return;if(typeof f=="number"){s.go(f);return}let m=rb(f,JSON.parse(a),i,h.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Rs([t,m.pathname])),(h.replace?s.replace:s.push)(m,h.state,h)},[t,s,a,i,e])}O.createContext(null);function Mr(){let{matches:e}=O.useContext(Vn),t=e[e.length-1];return t?t.params:{}}function Xl(e,{relative:t}={}){let{matches:s}=O.useContext(Vn),{pathname:o}=vr(),i=JSON.stringify(tb(s));return O.useMemo(()=>rb(e,JSON.parse(i),o,t==="path"),[e,i,o,t])}function vk(e,t){return s2(e,t)}function s2(e,t,s,o,i){Vt(ba(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=O.useContext(Fn),{matches:c}=O.useContext(Vn),u=c[c.length-1],f=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",g=u&&u.route;{let S=g&&g.path||"";o2(h,!g||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let b=vr(),j;if(t){let S=typeof t=="string"?ga(t):t;Vt(m==="/"||S.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${S.pathname}" was given in the \`location\` prop.`),j=S}else j=b;let y=j.pathname||"/",w=y;if(m!=="/"){let S=m.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let v=XN(e,{pathname:w});$n(g||v!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),$n(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=_k(v&&v.map(S=>Object.assign({},S,{params:Object.assign({},f,S.params),pathname:Rs([m,a.encodeLocation?a.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?m:Rs([m,a.encodeLocation?a.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),c,s,o,i);return t&&N?O.createElement(Yl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},N):N}function wk(){let e=Rk(),t=pk(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:o},a={padding:"2px 4px",backgroundColor:o},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:a},"ErrorBoundary")," or"," ",O.createElement("code",{style:a},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),s?O.createElement("pre",{style:i},s):null,c)}var Sk=O.createElement(wk,null),jk=class extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?O.createElement(Vn.Provider,{value:this.props.routeContext},O.createElement(nb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Nk({routeContext:e,match:t,children:s}){let o=O.useContext(ya);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(Vn.Provider,{value:e},s)}function _k(e,t=[],s=null,o=null,i=null){if(e==null){if(!s)return null;if(s.errors)e=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let a=e,c=s?.errors;if(c!=null){let h=a.findIndex(m=>m.route.id&&c?.[m.route.id]!==void 0);Vt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,f=-1;if(s)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=h),m.route.id){let{loaderData:g,errors:b}=s,j=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!b||b[m.route.id]===void 0);if(m.route.lazy||j){u=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((h,m,g)=>{let b,j=!1,y=null,w=null;s&&(b=c&&m.route.id?c[m.route.id]:void 0,y=m.route.errorElement||Sk,u&&(f<0&&g===0?(o2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,w=null):f===g&&(j=!0,w=m.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,g+1)),N=()=>{let S;return b?S=y:j?S=w:m.route.Component?S=O.createElement(m.route.Component,null):m.route.element?S=m.route.element:S=h,O.createElement(Nk,{match:m,routeContext:{outlet:h,matches:v,isDataRoute:s!=null},children:S})};return s&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?O.createElement(jk,{location:s.location,revalidation:s.revalidation,component:y,error:b,children:N(),routeContext:{outlet:null,matches:v,isDataRoute:!0},unstable_onError:o}):N()},null)}function sb(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ek(e){let t=O.useContext(ya);return Vt(t,sb(e)),t}function Ak(e){let t=O.useContext(Fd);return Vt(t,sb(e)),t}function Tk(e){let t=O.useContext(Vn);return Vt(t,sb(e)),t}function ob(e){let t=Tk(e),s=t.matches[t.matches.length-1];return Vt(s.route.id,`${e} can only be used on routes that contain a unique "id"`),s.route.id}function Ck(){return ob("useRouteId")}function Rk(){let e=O.useContext(nb),t=Ak("useRouteError"),s=ob("useRouteError");return e!==void 0?e:t.errors?.[s]}function Mk(){let{router:e}=Ek("useNavigate"),t=ob("useNavigate"),s=O.useRef(!1);return n2(()=>{s.current=!0}),O.useCallback(async(i,a={})=>{$n(s.current,r2),s.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var N1={};function o2(e,t,s){!t&&!N1[e]&&(N1[e]=!0,$n(!1,s))}O.memo(kk);function kk({routes:e,future:t,state:s,unstable_onError:o}){return s2(e,void 0,s,o,t)}function kp({to:e,replace:t,state:s,relative:o}){Vt(ba(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=O.useContext(Fn);$n(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=O.useContext(Vn),{pathname:c}=vr(),u=qt(),f=rb(e,tb(a),c,o==="path"),h=JSON.stringify(f);return O.useEffect(()=>{u(JSON.parse(h),{replace:t,state:s,relative:o})},[u,h,o,t,s]),null}function At(e){Vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ok({basename:e="/",children:t=null,location:s,navigationType:o="POP",navigator:i,static:a=!1}){Vt(!ba(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:c,navigator:i,static:a,future:{}}),[c,i,a]);typeof s=="string"&&(s=ga(s));let{pathname:f="/",search:h="",hash:m="",state:g=null,key:b="default"}=s,j=O.useMemo(()=>{let y=ks(f,c);return y==null?null:{location:{pathname:y,search:h,hash:m,state:g,key:b},navigationType:o}},[c,f,h,m,g,b,o]);return $n(j!=null,`<Router basename="${c}"> is not able to match the URL "${f}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:O.createElement(Fn.Provider,{value:u},O.createElement(Yl.Provider,{children:t,value:j}))}function ib({children:e,location:t}){return vk(um(e),t)}function um(e,t=[]){let s=[];return O.Children.forEach(e,(o,i)=>{if(!O.isValidElement(o))return;let a=[...t,i];if(o.type===O.Fragment){s.push.apply(s,um(o.props.children,a));return}Vt(o.type===At,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Vt(!o.props.index||!o.props.children,"An index route cannot have child routes.");let c={id:o.props.id||a.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(c.children=um(o.props.children,a)),s.push(c)}),s}var qu="get",Hu="application/x-www-form-urlencoded";function Vd(e){return e!=null&&typeof e.tagName=="string"}function Dk(e){return Vd(e)&&e.tagName.toLowerCase()==="button"}function Pk(e){return Vd(e)&&e.tagName.toLowerCase()==="form"}function Ik(e){return Vd(e)&&e.tagName.toLowerCase()==="input"}function Bk(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Uk(e,t){return e.button===0&&(!t||t==="_self")&&!Bk(e)}var ju=null;function Lk(){if(ju===null)try{new FormData(document.createElement("form"),0),ju=!1}catch{ju=!0}return ju}var $k=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Op(e){return e!=null&&!$k.has(e)?($n(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hu}"`),null):e}function zk(e,t){let s,o,i,a,c;if(Pk(e)){let u=e.getAttribute("action");o=u?ks(u,t):null,s=e.getAttribute("method")||qu,i=Op(e.getAttribute("enctype"))||Hu,a=new FormData(e)}else if(Dk(e)||Ik(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||u.getAttribute("action");if(o=f?ks(f,t):null,s=e.getAttribute("formmethod")||u.getAttribute("method")||qu,i=Op(e.getAttribute("formenctype"))||Op(u.getAttribute("enctype"))||Hu,a=new FormData(u,e),!Lk()){let{name:h,type:m,value:g}=e;if(m==="image"){let b=h?`${h}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else h&&a.append(h,g)}}else{if(Vd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=qu,o=null,i=Hu,c=e}return a&&i==="text/plain"&&(c=a,a=void 0),{action:o,method:s.toLowerCase(),encType:i,formData:a,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ab(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fk(e,t,s){let o=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return o.pathname==="/"?o.pathname=`_root.${s}`:t&&ks(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function Vk(e,t){if(e.id in t)return t[e.id];try{let s=await import(e.module);return t[e.id]=s,s}catch(s){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qk(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Hk(e,t,s){let o=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let c=await Vk(a,s);return c.links?c.links():[]}return[]}));return Qk(o.flat(1).filter(qk).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function _1(e,t,s,o,i,a){let c=(f,h)=>s[h]?f.route.id!==s[h].route.id:!0,u=(f,h)=>s[h].pathname!==f.pathname||s[h].route.path?.endsWith("*")&&s[h].params["*"]!==f.params["*"];return a==="assets"?t.filter((f,h)=>c(f,h)||u(f,h)):a==="data"?t.filter((f,h)=>{let m=o.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(c(f,h)||u(f,h))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function Gk(e,t,{includeHydrateFallback:s}={}){return Wk(e.map(o=>{let i=t.routes[o.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),s&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function Wk(e){return[...new Set(e)]}function Kk(e){let t={},s=Object.keys(e).sort();for(let o of s)t[o]=e[o];return t}function Qk(e,t){let s=new Set;return new Set(t),e.reduce((o,i)=>{let a=JSON.stringify(Kk(i));return s.has(a)||(s.add(a),o.push({key:a,link:i})),o},[])}function i2(){let e=O.useContext(ya);return ab(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Yk(){let e=O.useContext(Fd);return ab(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var lb=O.createContext(void 0);lb.displayName="FrameworkContext";function a2(){let e=O.useContext(lb);return ab(e,"You must render this element inside a <HydratedRouter> element"),e}function Xk(e,t){let s=O.useContext(lb),[o,i]=O.useState(!1),[a,c]=O.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:h,onMouseLeave:m,onTouchStart:g}=t,b=O.useRef(null);O.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let w=N=>{N.forEach(S=>{c(S.isIntersecting)})},v=new IntersectionObserver(w,{threshold:.5});return b.current&&v.observe(b.current),()=>{v.disconnect()}}},[e]),O.useEffect(()=>{if(o){let w=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(w)}}},[o]);let j=()=>{i(!0)},y=()=>{i(!1),c(!1)};return s?e!=="intent"?[a,b,{}]:[a,b,{onFocus:vl(u,j),onBlur:vl(f,y),onMouseEnter:vl(h,j),onMouseLeave:vl(m,y),onTouchStart:vl(g,j)}]:[!1,b,{}]}function vl(e,t){return s=>{e&&e(s),s.defaultPrevented||t(s)}}function Zk({page:e,...t}){let{router:s}=i2(),o=O.useMemo(()=>XN(s.routes,e,s.basename),[s.routes,e,s.basename]);return o?O.createElement(eO,{page:e,matches:o,...t}):null}function Jk(e){let{manifest:t,routeModules:s}=a2(),[o,i]=O.useState([]);return O.useEffect(()=>{let a=!1;return Hk(e,t,s).then(c=>{a||i(c)}),()=>{a=!0}},[e,t,s]),o}function eO({page:e,matches:t,...s}){let o=vr(),{manifest:i,routeModules:a}=a2(),{basename:c}=i2(),{loaderData:u,matches:f}=Yk(),h=O.useMemo(()=>_1(e,t,f,i,o,"data"),[e,t,f,i,o]),m=O.useMemo(()=>_1(e,t,f,i,o,"assets"),[e,t,f,i,o]),g=O.useMemo(()=>{if(e===o.pathname+o.search+o.hash)return[];let y=new Set,w=!1;if(t.forEach(N=>{let S=i.routes[N.route.id];!S||!S.hasLoader||(!h.some(_=>_.route.id===N.route.id)&&N.route.id in u&&a[N.route.id]?.shouldRevalidate||S.hasClientLoader?w=!0:y.add(N.route.id))}),y.size===0)return[];let v=Fk(e,c,"data");return w&&y.size>0&&v.searchParams.set("_routes",t.filter(N=>y.has(N.route.id)).map(N=>N.route.id).join(",")),[v.pathname+v.search]},[c,u,o,i,h,t,e,a]),b=O.useMemo(()=>Gk(m,i),[m,i]),j=Jk(m);return O.createElement(O.Fragment,null,g.map(y=>O.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...s})),b.map(y=>O.createElement("link",{key:y,rel:"modulepreload",href:y,...s})),j.map(({key:y,link:w})=>O.createElement("link",{key:y,nonce:s.nonce,...w})))}function tO(...e){return t=>{e.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var l2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{l2&&(window.__reactRouterVersion="7.9.4")}catch{}function rO({basename:e,children:t,window:s}){let o=O.useRef();o.current==null&&(o.current=HM({window:s,v5Compat:!0}));let i=o.current,[a,c]=O.useState({action:i.action,location:i.location}),u=O.useCallback(f=>{O.startTransition(()=>c(f))},[c]);return O.useLayoutEffect(()=>i.listen(u),[i,u]),O.createElement(Ok,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}var c2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,u2=O.forwardRef(function({onClick:t,discover:s="render",prefetch:o="none",relative:i,reloadDocument:a,replace:c,state:u,target:f,to:h,preventScrollReset:m,viewTransition:g,...b},j){let{basename:y}=O.useContext(Fn),w=typeof h=="string"&&c2.test(h),v,N=!1;if(typeof h=="string"&&w&&(v=h,l2))try{let U=new URL(window.location.href),L=h.startsWith("//")?new URL(U.protocol+h):new URL(h),te=ks(L.pathname,y);L.origin===U.origin&&te!=null?h=te+L.search+L.hash:N=!0}catch{$n(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=bk(h,{relative:i}),[_,M,A]=Xk(o,b),C=iO(h,{replace:c,state:u,target:f,preventScrollReset:m,relative:i,viewTransition:g});function R(U){t&&t(U),U.defaultPrevented||C(U)}let k=O.createElement("a",{...b,...A,href:v||S,onClick:N||a?t:R,ref:tO(j,M),target:f,"data-discover":!w&&s==="render"?"true":void 0});return _&&!w?O.createElement(O.Fragment,null,k,O.createElement(Zk,{page:S})):k});u2.displayName="Link";var nO=O.forwardRef(function({"aria-current":t="page",caseSensitive:s=!1,className:o="",end:i=!1,style:a,to:c,viewTransition:u,children:f,...h},m){let g=Xl(c,{relative:h.relative}),b=vr(),j=O.useContext(Fd),{navigator:y,basename:w}=O.useContext(Fn),v=j!=null&&dO(g)&&u===!0,N=y.encodeLocation?y.encodeLocation(g).pathname:g.pathname,S=b.pathname,_=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;s||(S=S.toLowerCase(),_=_?_.toLowerCase():null,N=N.toLowerCase()),_&&w&&(_=ks(_,w)||_);const M=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let A=S===N||!i&&S.startsWith(N)&&S.charAt(M)==="/",C=_!=null&&(_===N||!i&&_.startsWith(N)&&_.charAt(N.length)==="/"),R={isActive:A,isPending:C,isTransitioning:v},k=A?t:void 0,U;typeof o=="function"?U=o(R):U=[o,A?"active":null,C?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(R):a;return O.createElement(u2,{...h,"aria-current":k,className:U,ref:m,style:L,to:c,viewTransition:u},typeof f=="function"?f(R):f)});nO.displayName="NavLink";var sO=O.forwardRef(({discover:e="render",fetcherKey:t,navigate:s,reloadDocument:o,replace:i,state:a,method:c=qu,action:u,onSubmit:f,relative:h,preventScrollReset:m,viewTransition:g,...b},j)=>{let y=cO(),w=uO(u,{relative:h}),v=c.toLowerCase()==="get"?"get":"post",N=typeof u=="string"&&c2.test(u),S=_=>{if(f&&f(_),_.defaultPrevented)return;_.preventDefault();let M=_.nativeEvent.submitter,A=M?.getAttribute("formmethod")||c;y(M||_.currentTarget,{fetcherKey:t,method:A,navigate:s,replace:i,state:a,relative:h,preventScrollReset:m,viewTransition:g})};return O.createElement("form",{ref:j,method:v,action:w,onSubmit:o?f:S,...b,"data-discover":!N&&e==="render"?"true":void 0})});sO.displayName="Form";function oO(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function d2(e){let t=O.useContext(ya);return Vt(t,oO(e)),t}function iO(e,{target:t,replace:s,state:o,preventScrollReset:i,relative:a,viewTransition:c}={}){let u=qt(),f=vr(),h=Xl(e,{relative:a});return O.useCallback(m=>{if(Uk(m,t)){m.preventDefault();let g=s!==void 0?s:Ll(f)===Ll(h);u(e,{replace:g,state:o,preventScrollReset:i,relative:a,viewTransition:c})}},[f,u,h,s,o,t,e,i,a,c])}var aO=0,lO=()=>`__${String(++aO)}__`;function cO(){let{router:e}=d2("useSubmit"),{basename:t}=O.useContext(Fn),s=Ck();return O.useCallback(async(o,i={})=>{let{action:a,method:c,encType:u,formData:f,body:h}=zk(o,t);if(i.navigate===!1){let m=i.fetcherKey||lO();await e.fetch(m,s,i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||c,formEncType:i.encType||u,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||c,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:s,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,s])}function uO(e,{relative:t}={}){let{basename:s}=O.useContext(Fn),o=O.useContext(Vn);Vt(o,"useFormAction must be used inside a RouteContext");let[i]=o.matches.slice(-1),a={...Xl(e||".",{relative:t})},c=vr();if(e==null){a.search=c.search;let u=new URLSearchParams(a.search),f=u.getAll("index");if(f.some(m=>m==="")){u.delete("index"),f.filter(g=>g).forEach(g=>u.append("index",g));let m=u.toString();a.search=m?`?${m}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(a.pathname=a.pathname==="/"?s:Rs([s,a.pathname])),Ll(a)}function dO(e,{relative:t}={}){let s=O.useContext(t2);Vt(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=d2("useViewTransitionState"),i=Xl(e,{relative:t});if(!s.isTransitioning)return!1;let a=ks(s.currentLocation.pathname,o)||s.currentLocation.pathname,c=ks(s.nextLocation.pathname,o)||s.nextLocation.pathname;return Nd(i.pathname,c)!=null||Nd(i.pathname,a)!=null}/*! js-cookie v3.0.5 | MIT */function Nu(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)e[o]=s[o]}return e}var fO={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function dm(e,t){function s(i,a,c){if(!(typeof document>"u")){c=Nu({},t,c),typeof c.expires=="number"&&(c.expires=new Date(Date.now()+c.expires*864e5)),c.expires&&(c.expires=c.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var u="";for(var f in c)c[f]&&(u+="; "+f,c[f]!==!0&&(u+="="+c[f].split(";")[0]));return document.cookie=i+"="+e.write(a,i)+u}}function o(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var a=document.cookie?document.cookie.split("; "):[],c={},u=0;u<a.length;u++){var f=a[u].split("="),h=f.slice(1).join("=");try{var m=decodeURIComponent(f[0]);if(c[m]=e.read(h,m),i===m)break}catch{}}return i?c[i]:c}}return Object.create({set:s,get:o,remove:function(i,a){s(i,"",Nu({},a,{expires:-1}))},withAttributes:function(i){return dm(this.converter,Nu({},this.attributes,i))},withConverter:function(i){return dm(Nu({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var An=dm(fO,{path:"/"});const f2=O.createContext();function hO({children:e}){const[t,s]=O.useState(!1),[o,i]=O.useState(null),[a,c]=O.useState(null),[u,f]=O.useState(null),[h,m]=O.useState(null),[g,b]=O.useState(!0);O.useEffect(()=>{(()=>{const N=An.get("accessToken"),S=An.get("userRole"),_=An.get("projectName"),M=An.get("userName");N&&S?(s(!0),i(S),c(N),f(_||null),m(M||null)):(S&&!N&&j(),s(!1)),b(!1)})()},[]);const j=()=>{An.remove("accessToken"),An.remove("refreshToken"),An.remove("userRole"),An.remove("projectName"),An.remove("userName")},y=(v="user",N="",S="")=>{s(!0),i(v),f(N),m(S);const _={expires:7};An.set("userRole",v,_),An.set("projectName",N,_),An.set("userName",S,_)},w=()=>{s(!1),i(null),c(null),f(null),m(null),j()};return d.jsx(f2.Provider,{value:{isAuthenticated:t,userRole:o,accessToken:a,projectName:u,userName:h,isLoading:g,login:y,logout:w},children:e})}function ci(){const e=O.useContext(f2);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const cb=O.createContext({});function ub(e){const t=O.useRef(null);return t.current===null&&(t.current=e()),t.current}const db=typeof window<"u",h2=db?O.useLayoutEffect:O.useEffect,qd=O.createContext(null);function fb(e,t){e.indexOf(t)===-1&&e.push(t)}function hb(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const Os=(e,t,s)=>s>t?t:s<e?e:s;let pb=()=>{};const Ds={},p2=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function m2(e){return typeof e=="object"&&e!==null}const g2=e=>/^0[^.\s]+$/u.test(e);function mb(e){let t;return()=>(t===void 0&&(t=e()),t)}const Mn=e=>e,pO=(e,t)=>s=>t(e(s)),Zl=(...e)=>e.reduce(pO),$l=(e,t,s)=>{const o=t-e;return o===0?1:(s-e)/o};class gb{constructor(){this.subscriptions=[]}add(t){return fb(this.subscriptions,t),()=>hb(this.subscriptions,t)}notify(t,s,o){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,s,o);else for(let a=0;a<i;a++){const c=this.subscriptions[a];c&&c(t,s,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ts=e=>e*1e3,Rn=e=>e/1e3;function y2(e,t){return t?e*(1e3/t):0}const b2=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,mO=1e-7,gO=12;function yO(e,t,s,o,i){let a,c,u=0;do c=t+(s-t)/2,a=b2(c,o,i)-e,a>0?s=c:t=c;while(Math.abs(a)>mO&&++u<gO);return c}function Jl(e,t,s,o){if(e===t&&s===o)return Mn;const i=a=>yO(a,0,1,e,s);return a=>a===0||a===1?a:b2(i(a),t,o)}const x2=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,v2=e=>t=>1-e(1-t),w2=Jl(.33,1.53,.69,.99),yb=v2(w2),S2=x2(yb),j2=e=>(e*=2)<1?.5*yb(e):.5*(2-Math.pow(2,-10*(e-1))),bb=e=>1-Math.sin(Math.acos(e)),N2=v2(bb),_2=x2(bb),bO=Jl(.42,0,1,1),xO=Jl(0,0,.58,1),E2=Jl(.42,0,.58,1),vO=e=>Array.isArray(e)&&typeof e[0]!="number",A2=e=>Array.isArray(e)&&typeof e[0]=="number",wO={linear:Mn,easeIn:bO,easeInOut:E2,easeOut:xO,circIn:bb,circInOut:_2,circOut:N2,backIn:yb,backInOut:S2,backOut:w2,anticipate:j2},SO=e=>typeof e=="string",E1=e=>{if(A2(e)){pb(e.length===4);const[t,s,o,i]=e;return Jl(t,s,o,i)}else if(SO(e))return wO[e];return e},_u=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function jO(e,t){let s=new Set,o=new Set,i=!1,a=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function f(m){c.has(m)&&(h.schedule(m),e()),m(u)}const h={schedule:(m,g=!1,b=!1)=>{const y=b&&i?s:o;return g&&c.add(m),y.has(m)||y.add(m),m},cancel:m=>{o.delete(m),c.delete(m)},process:m=>{if(u=m,i){a=!0;return}i=!0,[s,o]=[o,s],s.forEach(f),s.clear(),i=!1,a&&(a=!1,h.process(m))}};return h}const NO=40;function T2(e,t){let s=!1,o=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>s=!0,c=_u.reduce((_,M)=>(_[M]=jO(a),_),{}),{setup:u,read:f,resolveKeyframes:h,preUpdate:m,update:g,preRender:b,render:j,postRender:y}=c,w=()=>{const _=Ds.useManualTiming?i.timestamp:performance.now();s=!1,Ds.useManualTiming||(i.delta=o?1e3/60:Math.max(Math.min(_-i.timestamp,NO),1)),i.timestamp=_,i.isProcessing=!0,u.process(i),f.process(i),h.process(i),m.process(i),g.process(i),b.process(i),j.process(i),y.process(i),i.isProcessing=!1,s&&t&&(o=!1,e(w))},v=()=>{s=!0,o=!0,i.isProcessing||e(w)};return{schedule:_u.reduce((_,M)=>{const A=c[M];return _[M]=(C,R=!1,k=!1)=>(s||v(),A.schedule(C,R,k)),_},{}),cancel:_=>{for(let M=0;M<_u.length;M++)c[_u[M]].cancel(_)},state:i,steps:c}}const{schedule:Ft,cancel:So,state:Cr,steps:Dp}=T2(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mn,!0);let Gu;function _O(){Gu=void 0}const tn={now:()=>(Gu===void 0&&tn.set(Cr.isProcessing||Ds.useManualTiming?Cr.timestamp:performance.now()),Gu),set:e=>{Gu=e,queueMicrotask(_O)}},C2=e=>t=>typeof t=="string"&&t.startsWith(e),xb=C2("--"),EO=C2("var(--"),vb=e=>EO(e)?AO.test(e.split("/*")[0].trim()):!1,AO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,xa={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},zl={...xa,transform:e=>Os(0,1,e)},Eu={...xa,default:1},Ml=e=>Math.round(e*1e5)/1e5,wb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function TO(e){return e==null}const CO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Sb=(e,t)=>s=>!!(typeof s=="string"&&CO.test(s)&&s.startsWith(e)||t&&!TO(s)&&Object.prototype.hasOwnProperty.call(s,t)),R2=(e,t,s)=>o=>{if(typeof o!="string")return o;const[i,a,c,u]=o.match(wb);return{[e]:parseFloat(i),[t]:parseFloat(a),[s]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},RO=e=>Os(0,255,e),Pp={...xa,transform:e=>Math.round(RO(e))},Yo={test:Sb("rgb","red"),parse:R2("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:o=1})=>"rgba("+Pp.transform(e)+", "+Pp.transform(t)+", "+Pp.transform(s)+", "+Ml(zl.transform(o))+")"};function MO(e){let t="",s="",o="",i="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),o=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),o=e.substring(3,4),i=e.substring(4,5),t+=t,s+=s,o+=o,i+=i),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(o,16),alpha:i?parseInt(i,16)/255:1}}const fm={test:Sb("#"),parse:MO,transform:Yo.transform},ec=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),po=ec("deg"),rs=ec("%"),at=ec("px"),kO=ec("vh"),OO=ec("vw"),A1={...rs,parse:e=>rs.parse(e)/100,transform:e=>rs.transform(e*100)},ra={test:Sb("hsl","hue"),parse:R2("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:o=1})=>"hsla("+Math.round(e)+", "+rs.transform(Ml(t))+", "+rs.transform(Ml(s))+", "+Ml(zl.transform(o))+")"},dr={test:e=>Yo.test(e)||fm.test(e)||ra.test(e),parse:e=>Yo.test(e)?Yo.parse(e):ra.test(e)?ra.parse(e):fm.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Yo.transform(e):ra.transform(e),getAnimatableNone:e=>{const t=dr.parse(e);return t.alpha=0,dr.transform(t)}},DO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function PO(e){return isNaN(e)&&typeof e=="string"&&(e.match(wb)?.length||0)+(e.match(DO)?.length||0)>0}const M2="number",k2="color",IO="var",BO="var(",T1="${}",UO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fl(e){const t=e.toString(),s=[],o={color:[],number:[],var:[]},i=[];let a=0;const u=t.replace(UO,f=>(dr.test(f)?(o.color.push(a),i.push(k2),s.push(dr.parse(f))):f.startsWith(BO)?(o.var.push(a),i.push(IO),s.push(f)):(o.number.push(a),i.push(M2),s.push(parseFloat(f))),++a,T1)).split(T1);return{values:s,split:u,indexes:o,types:i}}function O2(e){return Fl(e).values}function D2(e){const{split:t,types:s}=Fl(e),o=t.length;return i=>{let a="";for(let c=0;c<o;c++)if(a+=t[c],i[c]!==void 0){const u=s[c];u===M2?a+=Ml(i[c]):u===k2?a+=dr.transform(i[c]):a+=i[c]}return a}}const LO=e=>typeof e=="number"?0:dr.test(e)?dr.getAnimatableNone(e):e;function $O(e){const t=O2(e);return D2(e)(t.map(LO))}const jo={test:PO,parse:O2,createTransformer:D2,getAnimatableNone:$O};function Ip(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function zO({hue:e,saturation:t,lightness:s,alpha:o}){e/=360,t/=100,s/=100;let i=0,a=0,c=0;if(!t)i=a=c=s;else{const u=s<.5?s*(1+t):s+t-s*t,f=2*s-u;i=Ip(f,u,e+1/3),a=Ip(f,u,e),c=Ip(f,u,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(c*255),alpha:o}}function _d(e,t){return s=>s>0?t:e}const Qt=(e,t,s)=>e+(t-e)*s,Bp=(e,t,s)=>{const o=e*e,i=s*(t*t-o)+o;return i<0?0:Math.sqrt(i)},FO=[fm,Yo,ra],VO=e=>FO.find(t=>t.test(e));function C1(e){const t=VO(e);if(!t)return!1;let s=t.parse(e);return t===ra&&(s=zO(s)),s}const R1=(e,t)=>{const s=C1(e),o=C1(t);if(!s||!o)return _d(e,t);const i={...s};return a=>(i.red=Bp(s.red,o.red,a),i.green=Bp(s.green,o.green,a),i.blue=Bp(s.blue,o.blue,a),i.alpha=Qt(s.alpha,o.alpha,a),Yo.transform(i))},hm=new Set(["none","hidden"]);function qO(e,t){return hm.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function HO(e,t){return s=>Qt(e,t,s)}function jb(e){return typeof e=="number"?HO:typeof e=="string"?vb(e)?_d:dr.test(e)?R1:KO:Array.isArray(e)?P2:typeof e=="object"?dr.test(e)?R1:GO:_d}function P2(e,t){const s=[...e],o=s.length,i=e.map((a,c)=>jb(a)(a,t[c]));return a=>{for(let c=0;c<o;c++)s[c]=i[c](a);return s}}function GO(e,t){const s={...e,...t},o={};for(const i in s)e[i]!==void 0&&t[i]!==void 0&&(o[i]=jb(e[i])(e[i],t[i]));return i=>{for(const a in o)s[a]=o[a](i);return s}}function WO(e,t){const s=[],o={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],c=e.indexes[a][o[a]],u=e.values[c]??0;s[i]=u,o[a]++}return s}const KO=(e,t)=>{const s=jo.createTransformer(t),o=Fl(e),i=Fl(t);return o.indexes.var.length===i.indexes.var.length&&o.indexes.color.length===i.indexes.color.length&&o.indexes.number.length>=i.indexes.number.length?hm.has(e)&&!i.values.length||hm.has(t)&&!o.values.length?qO(e,t):Zl(P2(WO(o,i),i.values),s):_d(e,t)};function I2(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?Qt(e,t,s):jb(e)(e,t)}const QO=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>Ft.update(t,s),stop:()=>So(t),now:()=>Cr.isProcessing?Cr.timestamp:tn.now()}},B2=(e,t,s=10)=>{let o="";const i=Math.max(Math.round(t/s),2);for(let a=0;a<i;a++)o+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${o.substring(0,o.length-2)})`},Ed=2e4;function Nb(e){let t=0;const s=50;let o=e.next(t);for(;!o.done&&t<Ed;)t+=s,o=e.next(t);return t>=Ed?1/0:t}function YO(e,t=100,s){const o=s({...e,keyframes:[0,t]}),i=Math.min(Nb(o),Ed);return{type:"keyframes",ease:a=>o.next(i*a).value/t,duration:Rn(i)}}const XO=5;function U2(e,t,s){const o=Math.max(t-XO,0);return y2(s-e(o),t-o)}const Jt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Up=.001;function ZO({duration:e=Jt.duration,bounce:t=Jt.bounce,velocity:s=Jt.velocity,mass:o=Jt.mass}){let i,a,c=1-t;c=Os(Jt.minDamping,Jt.maxDamping,c),e=Os(Jt.minDuration,Jt.maxDuration,Rn(e)),c<1?(i=h=>{const m=h*c,g=m*e,b=m-s,j=pm(h,c),y=Math.exp(-g);return Up-b/j*y},a=h=>{const g=h*c*e,b=g*s+s,j=Math.pow(c,2)*Math.pow(h,2)*e,y=Math.exp(-g),w=pm(Math.pow(h,2),c);return(-i(h)+Up>0?-1:1)*((b-j)*y)/w}):(i=h=>{const m=Math.exp(-h*e),g=(h-s)*e+1;return-Up+m*g},a=h=>{const m=Math.exp(-h*e),g=(s-h)*(e*e);return m*g});const u=5/e,f=e3(i,a,u);if(e=ts(e),isNaN(f))return{stiffness:Jt.stiffness,damping:Jt.damping,duration:e};{const h=Math.pow(f,2)*o;return{stiffness:h,damping:c*2*Math.sqrt(o*h),duration:e}}}const JO=12;function e3(e,t,s){let o=s;for(let i=1;i<JO;i++)o=o-e(o)/t(o);return o}function pm(e,t){return e*Math.sqrt(1-t*t)}const t3=["duration","bounce"],r3=["stiffness","damping","mass"];function M1(e,t){return t.some(s=>e[s]!==void 0)}function n3(e){let t={velocity:Jt.velocity,stiffness:Jt.stiffness,damping:Jt.damping,mass:Jt.mass,isResolvedFromDuration:!1,...e};if(!M1(e,r3)&&M1(e,t3))if(e.visualDuration){const s=e.visualDuration,o=2*Math.PI/(s*1.2),i=o*o,a=2*Os(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Jt.mass,stiffness:i,damping:a}}else{const s=ZO(e);t={...t,...s,mass:Jt.mass},t.isResolvedFromDuration=!0}return t}function Ad(e=Jt.visualDuration,t=Jt.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:o,restDelta:i}=s;const a=s.keyframes[0],c=s.keyframes[s.keyframes.length-1],u={done:!1,value:a},{stiffness:f,damping:h,mass:m,duration:g,velocity:b,isResolvedFromDuration:j}=n3({...s,velocity:-Rn(s.velocity||0)}),y=b||0,w=h/(2*Math.sqrt(f*m)),v=c-a,N=Rn(Math.sqrt(f/m)),S=Math.abs(v)<5;o||(o=S?Jt.restSpeed.granular:Jt.restSpeed.default),i||(i=S?Jt.restDelta.granular:Jt.restDelta.default);let _;if(w<1){const A=pm(N,w);_=C=>{const R=Math.exp(-w*N*C);return c-R*((y+w*N*v)/A*Math.sin(A*C)+v*Math.cos(A*C))}}else if(w===1)_=A=>c-Math.exp(-N*A)*(v+(y+N*v)*A);else{const A=N*Math.sqrt(w*w-1);_=C=>{const R=Math.exp(-w*N*C),k=Math.min(A*C,300);return c-R*((y+w*N*v)*Math.sinh(k)+A*v*Math.cosh(k))/A}}const M={calculatedDuration:j&&g||null,next:A=>{const C=_(A);if(j)u.done=A>=g;else{let R=A===0?y:0;w<1&&(R=A===0?ts(y):U2(_,A,C));const k=Math.abs(R)<=o,U=Math.abs(c-C)<=i;u.done=k&&U}return u.value=u.done?c:C,u},toString:()=>{const A=Math.min(Nb(M),Ed),C=B2(R=>M.next(A*R).value,A,30);return A+"ms "+C},toTransition:()=>{}};return M}Ad.applyToOptions=e=>{const t=YO(e,100,Ad);return e.ease=t.ease,e.duration=ts(t.duration),e.type="keyframes",e};function mm({keyframes:e,velocity:t=0,power:s=.8,timeConstant:o=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:c,min:u,max:f,restDelta:h=.5,restSpeed:m}){const g=e[0],b={done:!1,value:g},j=k=>u!==void 0&&k<u||f!==void 0&&k>f,y=k=>u===void 0?f:f===void 0||Math.abs(u-k)<Math.abs(f-k)?u:f;let w=s*t;const v=g+w,N=c===void 0?v:c(v);N!==v&&(w=N-g);const S=k=>-w*Math.exp(-k/o),_=k=>N+S(k),M=k=>{const U=S(k),L=_(k);b.done=Math.abs(U)<=h,b.value=b.done?N:L};let A,C;const R=k=>{j(b.value)&&(A=k,C=Ad({keyframes:[b.value,y(b.value)],velocity:U2(_,k,b.value),damping:i,stiffness:a,restDelta:h,restSpeed:m}))};return R(0),{calculatedDuration:null,next:k=>{let U=!1;return!C&&A===void 0&&(U=!0,M(k),R(k)),A!==void 0&&k>=A?C.next(k-A):(!U&&M(k),b)}}}function s3(e,t,s){const o=[],i=s||Ds.mix||I2,a=e.length-1;for(let c=0;c<a;c++){let u=i(e[c],e[c+1]);if(t){const f=Array.isArray(t)?t[c]||Mn:t;u=Zl(f,u)}o.push(u)}return o}function o3(e,t,{clamp:s=!0,ease:o,mixer:i}={}){const a=e.length;if(pb(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const u=s3(t,o,i),f=u.length,h=m=>{if(c&&m<e[0])return t[0];let g=0;if(f>1)for(;g<e.length-2&&!(m<e[g+1]);g++);const b=$l(e[g],e[g+1],m);return u[g](b)};return s?m=>h(Os(e[0],e[a-1],m)):h}function i3(e,t){const s=e[e.length-1];for(let o=1;o<=t;o++){const i=$l(0,t,o);e.push(Qt(s,1,i))}}function a3(e){const t=[0];return i3(t,e.length-1),t}function l3(e,t){return e.map(s=>s*t)}function c3(e,t){return e.map(()=>t||E2).splice(0,e.length-1)}function kl({duration:e=300,keyframes:t,times:s,ease:o="easeInOut"}){const i=vO(o)?o.map(E1):E1(o),a={done:!1,value:t[0]},c=l3(s&&s.length===t.length?s:a3(t),e),u=o3(c,t,{ease:Array.isArray(i)?i:c3(t,i)});return{calculatedDuration:e,next:f=>(a.value=u(f),a.done=f>=e,a)}}const u3=e=>e!==null;function _b(e,{repeat:t,repeatType:s="loop"},o,i=1){const a=e.filter(u3),u=i<0||t&&s!=="loop"&&t%2===1?0:a.length-1;return!u||o===void 0?a[u]:o}const d3={decay:mm,inertia:mm,tween:kl,keyframes:kl,spring:Ad};function L2(e){typeof e.type=="string"&&(e.type=d3[e.type])}class Eb{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const f3=e=>e/100;class Ab extends Eb{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==tn.now()&&this.tick(tn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;L2(t);const{type:s=kl,repeat:o=0,repeatDelay:i=0,repeatType:a,velocity:c=0}=t;let{keyframes:u}=t;const f=s||kl;f!==kl&&typeof u[0]!="number"&&(this.mixKeyframes=Zl(f3,I2(u[0],u[1])),u=[0,100]);const h=f({...t,keyframes:u});a==="mirror"&&(this.mirroredGenerator=f({...t,keyframes:[...u].reverse(),velocity:-c})),h.calculatedDuration===null&&(h.calculatedDuration=Nb(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+i,this.totalDuration=this.resolvedDuration*(o+1)-i,this.generator=h}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:o,totalDuration:i,mixKeyframes:a,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:f}=this;if(this.startTime===null)return o.next(0);const{delay:h=0,keyframes:m,repeat:g,repeatType:b,repeatDelay:j,type:y,onUpdate:w,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const N=this.currentTime-h*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?N<0:N>i;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let _=this.currentTime,M=o;if(g){const k=Math.min(this.currentTime,i)/u;let U=Math.floor(k),L=k%1;!L&&k>=1&&(L=1),L===1&&U--,U=Math.min(U,g+1),!!(U%2)&&(b==="reverse"?(L=1-L,j&&(L-=j/u)):b==="mirror"&&(M=c)),_=Os(0,1,L)*u}const A=S?{done:!1,value:m[0]}:M.next(_);a&&(A.value=a(A.value));let{done:C}=A;!S&&f!==null&&(C=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return R&&y!==mm&&(A.value=_b(m,this.options,v,this.speed)),w&&w(A.value),R&&this.finish(),A}then(t,s){return this.finished.then(t,s)}get duration(){return Rn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Rn(t)}get time(){return Rn(this.currentTime)}set time(t){t=ts(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(tn.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=Rn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=QO,startTime:s}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),this.options.onPlay?.();const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=s??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(tn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function h3(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Xo=e=>e*180/Math.PI,gm=e=>{const t=Xo(Math.atan2(e[1],e[0]));return ym(t)},p3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:gm,rotateZ:gm,skewX:e=>Xo(Math.atan(e[1])),skewY:e=>Xo(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},ym=e=>(e=e%360,e<0&&(e+=360),e),k1=gm,O1=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),D1=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),m3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:O1,scaleY:D1,scale:e=>(O1(e)+D1(e))/2,rotateX:e=>ym(Xo(Math.atan2(e[6],e[5]))),rotateY:e=>ym(Xo(Math.atan2(-e[2],e[0]))),rotateZ:k1,rotate:k1,skewX:e=>Xo(Math.atan(e[4])),skewY:e=>Xo(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function bm(e){return e.includes("scale")?1:0}function xm(e,t){if(!e||e==="none")return bm(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let o,i;if(s)o=m3,i=s;else{const u=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);o=p3,i=u}if(!i)return bm(t);const a=o[t],c=i[1].split(",").map(y3);return typeof a=="function"?a(c):c[a]}const g3=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return xm(s,t)};function y3(e){return parseFloat(e.trim())}const va=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wa=new Set(va),P1=e=>e===xa||e===at,b3=new Set(["x","y","z"]),x3=va.filter(e=>!b3.has(e));function v3(e){const t=[];return x3.forEach(s=>{const o=e.getValue(s);o!==void 0&&(t.push([s,o.get()]),o.set(s.startsWith("scale")?1:0))}),t}const ti={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>xm(t,"x"),y:(e,{transform:t})=>xm(t,"y")};ti.translateX=ti.x;ti.translateY=ti.y;const ri=new Set;let vm=!1,wm=!1,Sm=!1;function $2(){if(wm){const e=Array.from(ri).filter(o=>o.needsMeasurement),t=new Set(e.map(o=>o.element)),s=new Map;t.forEach(o=>{const i=v3(o);i.length&&(s.set(o,i),o.render())}),e.forEach(o=>o.measureInitialState()),t.forEach(o=>{o.render();const i=s.get(o);i&&i.forEach(([a,c])=>{o.getValue(a)?.set(c)})}),e.forEach(o=>o.measureEndState()),e.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}wm=!1,vm=!1,ri.forEach(e=>e.complete(Sm)),ri.clear()}function z2(){ri.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(wm=!0)})}function w3(){Sm=!0,z2(),$2(),Sm=!1}class Tb{constructor(t,s,o,i,a,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=o,this.motionValue=i,this.element=a,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ri.add(this),vm||(vm=!0,Ft.read(z2),Ft.resolveKeyframes($2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:o,motionValue:i}=this;if(t[0]===null){const a=i?.get(),c=t[t.length-1];if(a!==void 0)t[0]=a;else if(o&&s){const u=o.readValue(s,c);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=c),i&&a===void 0&&i.set(t[0])}h3(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ri.delete(this)}cancel(){this.state==="scheduled"&&(ri.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const S3=e=>e.startsWith("--");function j3(e,t,s){S3(t)?e.style.setProperty(t,s):e.style[t]=s}const N3=mb(()=>window.ScrollTimeline!==void 0),_3={};function E3(e,t){const s=mb(e);return()=>_3[t]??s()}const F2=E3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),_l=([e,t,s,o])=>`cubic-bezier(${e}, ${t}, ${s}, ${o})`,I1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_l([0,.65,.55,1]),circOut:_l([.55,0,1,.45]),backIn:_l([.31,.01,.66,-.59]),backOut:_l([.33,1.53,.69,.99])};function V2(e,t){if(e)return typeof e=="function"?F2()?B2(e,t):"ease-out":A2(e)?_l(e):Array.isArray(e)?e.map(s=>V2(s,t)||I1.easeOut):I1[e]}function A3(e,t,s,{delay:o=0,duration:i=300,repeat:a=0,repeatType:c="loop",ease:u="easeOut",times:f}={},h=void 0){const m={[t]:s};f&&(m.offset=f);const g=V2(u,i);Array.isArray(g)&&(m.easing=g);const b={delay:o,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:c==="reverse"?"alternate":"normal"};return h&&(b.pseudoElement=h),e.animate(m,b)}function q2(e){return typeof e=="function"&&"applyToOptions"in e}function T3({type:e,...t}){return q2(e)&&F2()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class C3 extends Eb{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:o,keyframes:i,pseudoElement:a,allowFlatten:c=!1,finalKeyframe:u,onComplete:f}=t;this.isPseudoElement=!!a,this.allowFlatten=c,this.options=t,pb(typeof t.type!="string");const h=T3(t);this.animation=A3(s,o,i,h,a),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=_b(i,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):j3(s,o,m),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Rn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Rn(t)}get time(){return Rn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ts(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&N3()?(this.animation.timeline=t,Mn):s(this)}}const H2={anticipate:j2,backInOut:S2,circInOut:_2};function R3(e){return e in H2}function M3(e){typeof e.ease=="string"&&R3(e.ease)&&(e.ease=H2[e.ease])}const B1=10;class k3 extends C3{constructor(t){M3(t),L2(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:o,onComplete:i,element:a,...c}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const u=new Ab({...c,autoplay:!1}),f=ts(this.finishedTime??this.time);s.setWithVelocity(u.sample(f-B1).value,u.sample(f).value,B1),u.stop()}}const U1=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(jo.test(e)||e==="0")&&!e.startsWith("url("));function O3(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function D3(e,t,s,o){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],c=U1(i,t),u=U1(a,t);return!c||!u?!1:O3(e)||(s==="spring"||q2(s))&&o}function jm(e){e.duration=0,e.type="keyframes"}const P3=new Set(["opacity","clipPath","filter","transform"]),I3=mb(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function B3(e){const{motionValue:t,name:s,repeatDelay:o,repeatType:i,damping:a,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:h}=t.owner.getProps();return I3()&&s&&P3.has(s)&&(s!=="transform"||!h)&&!f&&!o&&i!=="mirror"&&a!==0&&c!=="inertia"}const U3=40;class L3 extends Eb{constructor({autoplay:t=!0,delay:s=0,type:o="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:c="loop",keyframes:u,name:f,motionValue:h,element:m,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=tn.now();const b={autoplay:t,delay:s,type:o,repeat:i,repeatDelay:a,repeatType:c,name:f,motionValue:h,element:m,...g},j=m?.KeyframeResolver||Tb;this.keyframeResolver=new j(u,(y,w,v)=>this.onKeyframesResolved(y,w,b,!v),f,h,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,s,o,i){this.keyframeResolver=void 0;const{name:a,type:c,velocity:u,delay:f,isHandoff:h,onUpdate:m}=o;this.resolvedAt=tn.now(),D3(t,a,c,u)||((Ds.instantAnimations||!f)&&m?.(_b(t,o,s)),t[0]=t[t.length-1],jm(o),o.repeat=0);const b={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>U3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...o,keyframes:t},j=!h&&B3(b)?new k3({...b,element:b.motionValue.owner.current}):new Ab(b);j.finished.then(()=>this.notifyFinished()).catch(Mn),this.pendingTimeline&&(this.stopTimeline=j.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=j}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),w3()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const $3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function z3(e){const t=$3.exec(e);if(!t)return[,];const[,s,o,i]=t;return[`--${s??o}`,i]}function G2(e,t,s=1){const[o,i]=z3(e);if(!o)return;const a=window.getComputedStyle(t).getPropertyValue(o);if(a){const c=a.trim();return p2(c)?parseFloat(c):c}return vb(i)?G2(i,t,s+1):i}function Cb(e,t){return e?.[t]??e?.default??e}const W2=new Set(["width","height","top","left","right","bottom",...va]),F3={test:e=>e==="auto",parse:e=>e},K2=e=>t=>t.test(e),Q2=[xa,at,rs,po,OO,kO,F3],L1=e=>Q2.find(K2(e));function V3(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||g2(e):!0}const q3=new Set(["brightness","contrast","saturate","opacity"]);function H3(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[o]=s.match(wb)||[];if(!o)return e;const i=s.replace(o,"");let a=q3.has(t)?1:0;return o!==s&&(a*=100),t+"("+a+i+")"}const G3=/\b([a-z-]*)\(.*?\)/gu,Nm={...jo,getAnimatableNone:e=>{const t=e.match(G3);return t?t.map(H3).join(" "):e}},$1={...xa,transform:Math.round},W3={rotate:po,rotateX:po,rotateY:po,rotateZ:po,scale:Eu,scaleX:Eu,scaleY:Eu,scaleZ:Eu,skew:po,skewX:po,skewY:po,distance:at,translateX:at,translateY:at,translateZ:at,x:at,y:at,z:at,perspective:at,transformPerspective:at,opacity:zl,originX:A1,originY:A1,originZ:at},Rb={borderWidth:at,borderTopWidth:at,borderRightWidth:at,borderBottomWidth:at,borderLeftWidth:at,borderRadius:at,radius:at,borderTopLeftRadius:at,borderTopRightRadius:at,borderBottomRightRadius:at,borderBottomLeftRadius:at,width:at,maxWidth:at,height:at,maxHeight:at,top:at,right:at,bottom:at,left:at,padding:at,paddingTop:at,paddingRight:at,paddingBottom:at,paddingLeft:at,margin:at,marginTop:at,marginRight:at,marginBottom:at,marginLeft:at,backgroundPositionX:at,backgroundPositionY:at,...W3,zIndex:$1,fillOpacity:zl,strokeOpacity:zl,numOctaves:$1},K3={...Rb,color:dr,backgroundColor:dr,outlineColor:dr,fill:dr,stroke:dr,borderColor:dr,borderTopColor:dr,borderRightColor:dr,borderBottomColor:dr,borderLeftColor:dr,filter:Nm,WebkitFilter:Nm},Y2=e=>K3[e];function X2(e,t){let s=Y2(e);return s!==Nm&&(s=jo),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const Q3=new Set(["auto","none","0"]);function Y3(e,t,s){let o=0,i;for(;o<e.length&&!i;){const a=e[o];typeof a=="string"&&!Q3.has(a)&&Fl(a).values.length&&(i=e[o]),o++}if(i&&s)for(const a of t)e[a]=X2(s,i)}class X3 extends Tb{constructor(t,s,o,i,a){super(t,s,o,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:o}=this;if(!s||!s.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let h=t[f];if(typeof h=="string"&&(h=h.trim(),vb(h))){const m=G2(h,s.current);m!==void 0&&(t[f]=m),f===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!W2.has(o)||t.length!==2)return;const[i,a]=t,c=L1(i),u=L1(a);if(c!==u)if(P1(c)&&P1(u))for(let f=0;f<t.length;f++){const h=t[f];typeof h=="string"&&(t[f]=parseFloat(h))}else ti[o]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,o=[];for(let i=0;i<t.length;i++)(t[i]===null||V3(t[i]))&&o.push(i);o.length&&Y3(t,o,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:o}=this;if(!t||!t.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ti[o](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&t.getValue(o,i).jump(i,!1)}measureEndState(){const{element:t,name:s,unresolvedKeyframes:o}=this;if(!t||!t.current)return;const i=t.getValue(s);i&&i.jump(this.measuredOrigin,!1);const a=o.length-1,c=o[a];o[a]=ti[s](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,f])=>{t.getValue(u).set(f)}),this.resolveNoneKeyframes()}}function Z3(e,t,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let o=document;const i=s?.[e]??o.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const Z2=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function J2(e){return m2(e)&&"offsetHeight"in e}const z1=30,J3=e=>!isNaN(parseFloat(e));class e5{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=o=>{const i=tn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=tn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=J3(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new gb);const o=this.events[t].add(s);return t==="change"?()=>{o(),Ft.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,s,o){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-o}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=tn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>z1)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,z1);return y2(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fa(e,t){return new e5(e,t)}const{schedule:Mb}=T2(queueMicrotask,!1),Bn={x:!1,y:!1};function e_(){return Bn.x||Bn.y}function t5(e){return e==="x"||e==="y"?Bn[e]?null:(Bn[e]=!0,()=>{Bn[e]=!1}):Bn.x||Bn.y?null:(Bn.x=Bn.y=!0,()=>{Bn.x=Bn.y=!1})}function t_(e,t){const s=Z3(e),o=new AbortController,i={passive:!0,...t,signal:o.signal};return[s,i,()=>o.abort()]}function F1(e){return!(e.pointerType==="touch"||e_())}function r5(e,t,s={}){const[o,i,a]=t_(e,s),c=u=>{if(!F1(u))return;const{target:f}=u,h=t(f,u);if(typeof h!="function"||!f)return;const m=g=>{F1(g)&&(h(g),f.removeEventListener("pointerleave",m))};f.addEventListener("pointerleave",m,i)};return o.forEach(u=>{u.addEventListener("pointerenter",c,i)}),a}const r_=(e,t)=>t?e===t?!0:r_(e,t.parentElement):!1,kb=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,n5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function s5(e){return n5.has(e.tagName)||e.tabIndex!==-1}const Wu=new WeakSet;function V1(e){return t=>{t.key==="Enter"&&e(t)}}function Lp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const o5=(e,t)=>{const s=e.currentTarget;if(!s)return;const o=V1(()=>{if(Wu.has(s))return;Lp(s,"down");const i=V1(()=>{Lp(s,"up")}),a=()=>Lp(s,"cancel");s.addEventListener("keyup",i,t),s.addEventListener("blur",a,t)});s.addEventListener("keydown",o,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",o),t)};function q1(e){return kb(e)&&!e_()}function i5(e,t,s={}){const[o,i,a]=t_(e,s),c=u=>{const f=u.currentTarget;if(!q1(u))return;Wu.add(f);const h=t(f,u),m=(j,y)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",b),Wu.has(f)&&Wu.delete(f),q1(j)&&typeof h=="function"&&h(j,{success:y})},g=j=>{m(j,f===window||f===document||s.useGlobalTarget||r_(f,j.target))},b=j=>{m(j,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",b,i)};return o.forEach(u=>{(s.useGlobalTarget?window:u).addEventListener("pointerdown",c,i),J2(u)&&(u.addEventListener("focus",h=>o5(h,i)),!s5(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function n_(e){return m2(e)&&"ownerSVGElement"in e}function a5(e){return n_(e)&&e.tagName==="svg"}const Br=e=>!!(e&&e.getVelocity),l5=[...Q2,dr,jo],c5=e=>l5.find(K2(e)),Ob=O.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function H1(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function u5(...e){return t=>{let s=!1;const o=e.map(i=>{const a=H1(i,t);return!s&&typeof a=="function"&&(s=!0),a});if(s)return()=>{for(let i=0;i<o.length;i++){const a=o[i];typeof a=="function"?a():H1(e[i],null)}}}}function d5(...e){return O.useCallback(u5(...e),e)}class f5 extends O.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const o=s.offsetParent,i=J2(o)&&o.offsetWidth||0,a=this.props.sizeRef.current;a.height=s.offsetHeight||0,a.width=s.offsetWidth||0,a.top=s.offsetTop,a.left=s.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function h5({children:e,isPresent:t,anchorX:s,root:o}){const i=O.useId(),a=O.useRef(null),c=O.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=O.useContext(Ob),f=d5(a,e?.ref);return O.useInsertionEffect(()=>{const{width:h,height:m,top:g,left:b,right:j}=c.current;if(t||!a.current||!h||!m)return;const y=s==="left"?`left: ${b}`:`right: ${j}`;a.current.dataset.motionPopId=i;const w=document.createElement("style");u&&(w.nonce=u);const v=o??document.head;return v.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${m}px !important;
            ${y}px !important;
            top: ${g}px !important;
          }
        `),()=>{v.contains(w)&&v.removeChild(w)}},[t]),d.jsx(f5,{isPresent:t,childRef:a,sizeRef:c,children:O.cloneElement(e,{ref:f})})}const p5=({children:e,initial:t,isPresent:s,onExitComplete:o,custom:i,presenceAffectsLayout:a,mode:c,anchorX:u,root:f})=>{const h=ub(m5),m=O.useId();let g=!0,b=O.useMemo(()=>(g=!1,{id:m,initial:t,isPresent:s,custom:i,onExitComplete:j=>{h.set(j,!0);for(const y of h.values())if(!y)return;o&&o()},register:j=>(h.set(j,!1),()=>h.delete(j))}),[s,h,o]);return a&&g&&(b={...b}),O.useMemo(()=>{h.forEach((j,y)=>h.set(y,!1))},[s]),O.useEffect(()=>{!s&&!h.size&&o&&o()},[s]),c==="popLayout"&&(e=d.jsx(h5,{isPresent:s,anchorX:u,root:f,children:e})),d.jsx(qd.Provider,{value:b,children:e})};function m5(){return new Map}function s_(e=!0){const t=O.useContext(qd);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:o,register:i}=t,a=O.useId();O.useEffect(()=>{if(e)return i(a)},[e]);const c=O.useCallback(()=>e&&o&&o(a),[a,o,e]);return!s&&o?[!1,c]:[!0]}const Au=e=>e.key||"";function G1(e){const t=[];return O.Children.forEach(e,s=>{O.isValidElement(s)&&t.push(s)}),t}const vo=({children:e,custom:t,initial:s=!0,onExitComplete:o,presenceAffectsLayout:i=!0,mode:a="sync",propagate:c=!1,anchorX:u="left",root:f})=>{const[h,m]=s_(c),g=O.useMemo(()=>G1(e),[e]),b=c&&!h?[]:g.map(Au),j=O.useRef(!0),y=O.useRef(g),w=ub(()=>new Map),[v,N]=O.useState(g),[S,_]=O.useState(g);h2(()=>{j.current=!1,y.current=g;for(let C=0;C<S.length;C++){const R=Au(S[C]);b.includes(R)?w.delete(R):w.get(R)!==!0&&w.set(R,!1)}},[S,b.length,b.join("-")]);const M=[];if(g!==v){let C=[...g];for(let R=0;R<S.length;R++){const k=S[R],U=Au(k);b.includes(U)||(C.splice(R,0,k),M.push(k))}return a==="wait"&&M.length&&(C=M),_(G1(C)),N(g),null}const{forceRender:A}=O.useContext(cb);return d.jsx(d.Fragment,{children:S.map(C=>{const R=Au(C),k=c&&!h?!1:g===S||b.includes(R),U=()=>{if(w.has(R))w.set(R,!0);else return;let L=!0;w.forEach(te=>{te||(L=!1)}),L&&(A?.(),_(y.current),c&&m?.(),o&&o())};return d.jsx(p5,{isPresent:k,initial:!j.current||s?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,root:f,onExitComplete:k?void 0:U,anchorX:u,children:C},R)})})},o_=O.createContext({strict:!1}),W1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ha={};for(const e in W1)ha[e]={isEnabled:t=>W1[e].some(s=>!!t[s])};function g5(e){for(const t in e)ha[t]={...ha[t],...e[t]}}const y5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Td(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||y5.has(e)}let i_=e=>!Td(e);function b5(e){typeof e=="function"&&(i_=t=>t.startsWith("on")?!Td(t):e(t))}try{b5(require("@emotion/is-prop-valid").default)}catch{}function x5(e,t,s){const o={};for(const i in e)i==="values"&&typeof e.values=="object"||(i_(i)||s===!0&&Td(i)||!t&&!Td(i)||e.draggable&&i.startsWith("onDrag"))&&(o[i]=e[i]);return o}const Hd=O.createContext({});function Gd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Vl(e){return typeof e=="string"||Array.isArray(e)}const Db=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Pb=["initial",...Db];function Wd(e){return Gd(e.animate)||Pb.some(t=>Vl(e[t]))}function a_(e){return!!(Wd(e)||e.variants)}function v5(e,t){if(Wd(e)){const{initial:s,animate:o}=e;return{initial:s===!1||Vl(s)?s:void 0,animate:Vl(o)?o:void 0}}return e.inherit!==!1?t:{}}function w5(e){const{initial:t,animate:s}=v5(e,O.useContext(Hd));return O.useMemo(()=>({initial:t,animate:s}),[K1(t),K1(s)])}function K1(e){return Array.isArray(e)?e.join(" "):e}const ql={};function S5(e){for(const t in e)ql[t]=e[t],xb(t)&&(ql[t].isCSSVariable=!0)}function l_(e,{layout:t,layoutId:s}){return wa.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!ql[e]||e==="opacity")}const j5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},N5=va.length;function _5(e,t,s){let o="",i=!0;for(let a=0;a<N5;a++){const c=va[a],u=e[c];if(u===void 0)continue;let f=!0;if(typeof u=="number"?f=u===(c.startsWith("scale")?1:0):f=parseFloat(u)===0,!f||s){const h=Z2(u,Rb[c]);if(!f){i=!1;const m=j5[c]||c;o+=`${m}(${h}) `}s&&(t[c]=h)}}return o=o.trim(),s?o=s(t,i?"":o):i&&(o="none"),o}function Ib(e,t,s){const{style:o,vars:i,transformOrigin:a}=e;let c=!1,u=!1;for(const f in t){const h=t[f];if(wa.has(f)){c=!0;continue}else if(xb(f)){i[f]=h;continue}else{const m=Z2(h,Rb[f]);f.startsWith("origin")?(u=!0,a[f]=m):o[f]=m}}if(t.transform||(c||s?o.transform=_5(t,e.transform,s):o.transform&&(o.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:m=0}=a;o.transformOrigin=`${f} ${h} ${m}`}}const Bb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function c_(e,t,s){for(const o in t)!Br(t[o])&&!l_(o,s)&&(e[o]=t[o])}function E5({transformTemplate:e},t){return O.useMemo(()=>{const s=Bb();return Ib(s,t,e),Object.assign({},s.vars,s.style)},[t])}function A5(e,t){const s=e.style||{},o={};return c_(o,s,e),Object.assign(o,E5(e,t)),o}function T5(e,t){const s={},o=A5(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=o,s}const C5={offset:"stroke-dashoffset",array:"stroke-dasharray"},R5={offset:"strokeDashoffset",array:"strokeDasharray"};function M5(e,t,s=1,o=0,i=!0){e.pathLength=1;const a=i?C5:R5;e[a.offset]=at.transform(-o);const c=at.transform(t),u=at.transform(s);e[a.array]=`${c} ${u}`}function u_(e,{attrX:t,attrY:s,attrScale:o,pathLength:i,pathSpacing:a=1,pathOffset:c=0,...u},f,h,m){if(Ib(e,u,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:b}=e;g.transform&&(b.transform=g.transform,delete g.transform),(b.transform||g.transformOrigin)&&(b.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),b.transform&&(b.transformBox=m?.transformBox??"fill-box",delete g.transformBox),t!==void 0&&(g.x=t),s!==void 0&&(g.y=s),o!==void 0&&(g.scale=o),i!==void 0&&M5(g,i,a,c,!1)}const d_=()=>({...Bb(),attrs:{}}),f_=e=>typeof e=="string"&&e.toLowerCase()==="svg";function k5(e,t,s,o){const i=O.useMemo(()=>{const a=d_();return u_(a,t,f_(o),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};c_(a,e.style,e),i.style={...a,...i.style}}return i}const O5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ub(e){return typeof e!="string"||e.includes("-")?!1:!!(O5.indexOf(e)>-1||/[A-Z]/u.test(e))}function D5(e,t,s,{latestValues:o},i,a=!1){const u=(Ub(e)?k5:T5)(t,o,i,e),f=x5(t,typeof e=="string",a),h=e!==O.Fragment?{...f,...u,ref:s}:{},{children:m}=t,g=O.useMemo(()=>Br(m)?m.get():m,[m]);return O.createElement(e,{...h,children:g})}function Q1(e){const t=[{},{}];return e?.values.forEach((s,o)=>{t[0][o]=s.get(),t[1][o]=s.getVelocity()}),t}function Lb(e,t,s,o){if(typeof t=="function"){const[i,a]=Q1(o);t=t(s!==void 0?s:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=Q1(o);t=t(s!==void 0?s:e.custom,i,a)}return t}function Ku(e){return Br(e)?e.get():e}function P5({scrapeMotionValuesFromProps:e,createRenderState:t},s,o,i){return{latestValues:I5(s,o,i,e),renderState:t()}}function I5(e,t,s,o){const i={},a=o(e,{});for(const b in a)i[b]=Ku(a[b]);let{initial:c,animate:u}=e;const f=Wd(e),h=a_(e);t&&h&&!f&&e.inherit!==!1&&(c===void 0&&(c=t.initial),u===void 0&&(u=t.animate));let m=s?s.initial===!1:!1;m=m||c===!1;const g=m?u:c;if(g&&typeof g!="boolean"&&!Gd(g)){const b=Array.isArray(g)?g:[g];for(let j=0;j<b.length;j++){const y=Lb(e,b[j]);if(y){const{transitionEnd:w,transition:v,...N}=y;for(const S in N){let _=N[S];if(Array.isArray(_)){const M=m?_.length-1:0;_=_[M]}_!==null&&(i[S]=_)}for(const S in w)i[S]=w[S]}}}return i}const h_=e=>(t,s)=>{const o=O.useContext(Hd),i=O.useContext(qd),a=()=>P5(e,t,o,i);return s?a():ub(a)};function $b(e,t,s){const{style:o}=e,i={};for(const a in o)(Br(o[a])||t.style&&Br(t.style[a])||l_(a,e)||s?.getValue(a)?.liveStyle!==void 0)&&(i[a]=o[a]);return i}const B5=h_({scrapeMotionValuesFromProps:$b,createRenderState:Bb});function p_(e,t,s){const o=$b(e,t,s);for(const i in e)if(Br(e[i])||Br(t[i])){const a=va.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;o[a]=e[i]}return o}const U5=h_({scrapeMotionValuesFromProps:p_,createRenderState:d_}),L5=Symbol.for("motionComponentSymbol");function na(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function $5(e,t,s){return O.useCallback(o=>{o&&e.onMount&&e.onMount(o),t&&(o?t.mount(o):t.unmount()),s&&(typeof s=="function"?s(o):na(s)&&(s.current=o))},[t])}const zb=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),z5="framerAppearId",m_="data-"+zb(z5),g_=O.createContext({});function F5(e,t,s,o,i){const{visualElement:a}=O.useContext(Hd),c=O.useContext(o_),u=O.useContext(qd),f=O.useContext(Ob).reducedMotion,h=O.useRef(null);o=o||c.renderer,!h.current&&o&&(h.current=o(e,{visualState:t,parent:a,props:s,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f}));const m=h.current,g=O.useContext(g_);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&V5(h.current,s,i,g);const b=O.useRef(!1);O.useInsertionEffect(()=>{m&&b.current&&m.update(s,u)});const j=s[m_],y=O.useRef(!!j&&!window.MotionHandoffIsComplete?.(j)&&window.MotionHasOptimisedAnimation?.(j));return h2(()=>{m&&(b.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),y.current&&m.animationState&&m.animationState.animateChanges())}),O.useEffect(()=>{m&&(!y.current&&m.animationState&&m.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(j)}),y.current=!1),m.enteringChildren=void 0)}),m}function V5(e,t,s,o){const{layoutId:i,layout:a,drag:c,dragConstraints:u,layoutScroll:f,layoutRoot:h,layoutCrossfade:m}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:y_(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!c||u&&na(u),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:o,crossfade:m,layoutScroll:f,layoutRoot:h})}function y_(e){if(e)return e.options.allowProjection!==!1?e.projection:y_(e.parent)}function $p(e,{forwardMotionProps:t=!1}={},s,o){s&&g5(s);const i=Ub(e)?U5:B5;function a(u,f){let h;const m={...O.useContext(Ob),...u,layoutId:q5(u)},{isStatic:g}=m,b=w5(u),j=i(u,g);if(!g&&db){H5();const y=G5(m);h=y.MeasureLayout,b.visualElement=F5(e,j,m,o,y.ProjectionNode)}return d.jsxs(Hd.Provider,{value:b,children:[h&&b.visualElement?d.jsx(h,{visualElement:b.visualElement,...m}):null,D5(e,u,$5(j,b.visualElement,f),j,g,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=O.forwardRef(a);return c[L5]=e,c}function q5({layoutId:e}){const t=O.useContext(cb).id;return t&&e!==void 0?t+"-"+e:e}function H5(e,t){O.useContext(o_).strict}function G5(e){const{drag:t,layout:s}=ha;if(!t&&!s)return{};const o={...t,...s};return{MeasureLayout:t?.isEnabled(e)||s?.isEnabled(e)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function W5(e,t){if(typeof Proxy>"u")return $p;const s=new Map,o=(a,c)=>$p(a,c,e,t),i=(a,c)=>o(a,c);return new Proxy(i,{get:(a,c)=>c==="create"?o:(s.has(c)||s.set(c,$p(c,void 0,e,t)),s.get(c))})}function b_({top:e,left:t,right:s,bottom:o}){return{x:{min:t,max:s},y:{min:e,max:o}}}function K5({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Q5(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),o=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:o.y,right:o.x}}function zp(e){return e===void 0||e===1}function _m({scale:e,scaleX:t,scaleY:s}){return!zp(e)||!zp(t)||!zp(s)}function Ko(e){return _m(e)||x_(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function x_(e){return Y1(e.x)||Y1(e.y)}function Y1(e){return e&&e!=="0%"}function Cd(e,t,s){const o=e-s,i=t*o;return s+i}function X1(e,t,s,o,i){return i!==void 0&&(e=Cd(e,i,o)),Cd(e,s,o)+t}function Em(e,t=0,s=1,o,i){e.min=X1(e.min,t,s,o,i),e.max=X1(e.max,t,s,o,i)}function v_(e,{x:t,y:s}){Em(e.x,t.translate,t.scale,t.originPoint),Em(e.y,s.translate,s.scale,s.originPoint)}const Z1=.999999999999,J1=1.0000000000001;function Y5(e,t,s,o=!1){const i=s.length;if(!i)return;t.x=t.y=1;let a,c;for(let u=0;u<i;u++){a=s[u],c=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(o&&a.options.layoutScroll&&a.scroll&&a!==a.root&&oa(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,v_(e,c)),o&&Ko(a.latestValues)&&oa(e,a.latestValues))}t.x<J1&&t.x>Z1&&(t.x=1),t.y<J1&&t.y>Z1&&(t.y=1)}function sa(e,t){e.min=e.min+t,e.max=e.max+t}function eS(e,t,s,o,i=.5){const a=Qt(e.min,e.max,i);Em(e,t,s,a,o)}function oa(e,t){eS(e.x,t.x,t.scaleX,t.scale,t.originX),eS(e.y,t.y,t.scaleY,t.scale,t.originY)}function w_(e,t){return b_(Q5(e.getBoundingClientRect(),t))}function X5(e,t,s){const o=w_(e,s),{scroll:i}=t;return i&&(sa(o.x,i.offset.x),sa(o.y,i.offset.y)),o}const tS=()=>({translate:0,scale:1,origin:0,originPoint:0}),ia=()=>({x:tS(),y:tS()}),rS=()=>({min:0,max:0}),nr=()=>({x:rS(),y:rS()}),Am={current:null},S_={current:!1};function Z5(){if(S_.current=!0,!!db)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Am.current=e.matches;e.addEventListener("change",t),t()}else Am.current=!1}const J5=new WeakMap;function e4(e,t,s){for(const o in t){const i=t[o],a=s[o];if(Br(i))e.addValue(o,i);else if(Br(a))e.addValue(o,fa(i,{owner:e}));else if(a!==i)if(e.hasValue(o)){const c=e.getValue(o);c.liveStyle===!0?c.jump(i):c.hasAnimated||c.set(i)}else{const c=e.getStaticValue(o);e.addValue(o,fa(c!==void 0?c:i,{owner:e}))}}for(const o in s)t[o]===void 0&&e.removeValue(o);return t}const nS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class t4{scrapeMotionValuesFromProps(t,s,o){return{}}constructor({parent:t,props:s,presenceContext:o,reducedMotionConfig:i,blockInitialAnimation:a,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Tb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=tn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Ft.render(this.render,!1,!0))};const{latestValues:f,renderState:h}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=s.initial?{...f}:{},this.renderState=h,this.parent=t,this.props=s,this.presenceContext=o,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=Wd(s),this.isVariantNode=a_(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(s,{},this);for(const b in g){const j=g[b];f[b]!==void 0&&Br(j)&&j.set(f[b])}}mount(t){this.current=t,J5.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,o)=>this.bindToMotionValue(o,s)),S_.current||Z5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Am.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),So(this.notifyUpdate),So(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const o=wa.has(t);o&&this.onBindTransform&&this.onBindTransform();const i=s.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Ft.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{i(),a&&a(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ha){const s=ha[t];if(!s)continue;const{isEnabled:o,Feature:i}=s;if(!this.features[t]&&i&&o(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let o=0;o<nS.length;o++){const i=nS[o];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,c=t[a];c&&(this.propEventSubscriptions[i]=this.on(i,c))}this.prevMotionValues=e4(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const o=this.values.get(t);s!==o&&(o&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let o=this.values.get(t);return o===void 0&&s!==void 0&&(o=fa(s===null?void 0:s,{owner:this}),this.addValue(t,o)),o}readValue(t,s){let o=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return o!=null&&(typeof o=="string"&&(p2(o)||g2(o))?o=parseFloat(o):!c5(o)&&jo.test(s)&&(o=X2(t,s)),this.setBaseTarget(t,Br(o)?o.get():o)),Br(o)?o.get():o}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){const{initial:s}=this.props;let o;if(typeof s=="string"||typeof s=="object"){const a=Lb(this.props,s,this.presenceContext?.custom);a&&(o=a[t])}if(s&&o!==void 0)return o;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Br(i)?i:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new gb),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){Mb.render(this.render)}}class j_ extends t4{constructor(){super(...arguments),this.KeyframeResolver=X3}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:o}){delete s[t],delete o[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Br(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function N_(e,{style:t,vars:s},o,i){const a=e.style;let c;for(c in t)a[c]=t[c];i?.applyProjectionStyles(a,o);for(c in s)a.setProperty(c,s[c])}function r4(e){return window.getComputedStyle(e)}class n4 extends j_{constructor(){super(...arguments),this.type="html",this.renderInstance=N_}readValueFromInstance(t,s){if(wa.has(s))return this.projection?.isProjecting?bm(s):g3(t,s);{const o=r4(t),i=(xb(s)?o.getPropertyValue(s):o[s])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:s}){return w_(t,s)}build(t,s,o){Ib(t,s,o.transformTemplate)}scrapeMotionValuesFromProps(t,s,o){return $b(t,s,o)}}const __=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function s4(e,t,s,o){N_(e,t,void 0,o);for(const i in t.attrs)e.setAttribute(__.has(i)?i:zb(i),t.attrs[i])}class o4 extends j_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nr}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(wa.has(s)){const o=Y2(s);return o&&o.default||0}return s=__.has(s)?s:zb(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,o){return p_(t,s,o)}build(t,s,o){u_(t,s,this.isSVGTag,o.transformTemplate,o.style)}renderInstance(t,s,o,i){s4(t,s,o,i)}mount(t){this.isSVGTag=f_(t.tagName),super.mount(t)}}const i4=(e,t)=>Ub(e)?new o4(t):new n4(t,{allowProjection:e!==O.Fragment});function la(e,t,s){const o=e.getProps();return Lb(o,t,s!==void 0?s:o.custom,e)}const Tm=e=>Array.isArray(e);function a4(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,fa(s))}function l4(e){return Tm(e)?e[e.length-1]||0:e}function c4(e,t){const s=la(e,t);let{transitionEnd:o={},transition:i={},...a}=s||{};a={...a,...o};for(const c in a){const u=l4(a[c]);a4(e,c,u)}}function u4(e){return!!(Br(e)&&e.add)}function Cm(e,t){const s=e.getValue("willChange");if(u4(s))return s.add(t);if(!s&&Ds.WillChange){const o=new Ds.WillChange("auto");e.addValue("willChange",o),o.add(t)}}function E_(e){return e.props[m_]}const d4=e=>e!==null;function f4(e,{repeat:t,repeatType:s="loop"},o){const i=e.filter(d4),a=t&&s!=="loop"&&t%2===1?0:i.length-1;return i[a]}const h4={type:"spring",stiffness:500,damping:25,restSpeed:10},p4=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),m4={type:"keyframes",duration:.8},g4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},y4=(e,{keyframes:t})=>t.length>2?m4:wa.has(e)?e.startsWith("scale")?p4(t[1]):h4:g4;function b4({when:e,delay:t,delayChildren:s,staggerChildren:o,staggerDirection:i,repeat:a,repeatType:c,repeatDelay:u,from:f,elapsed:h,...m}){return!!Object.keys(m).length}const Fb=(e,t,s,o={},i,a)=>c=>{const u=Cb(o,e)||{},f=u.delay||o.delay||0;let{elapsed:h=0}=o;h=h-ts(f);const m={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-h,onUpdate:b=>{t.set(b),u.onUpdate&&u.onUpdate(b)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:e,motionValue:t,element:a?void 0:i};b4(u)||Object.assign(m,y4(e,m)),m.duration&&(m.duration=ts(m.duration)),m.repeatDelay&&(m.repeatDelay=ts(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(jm(m),m.delay===0&&(g=!0)),(Ds.instantAnimations||Ds.skipAnimations)&&(g=!0,jm(m),m.delay=0),m.allowFlatten=!u.type&&!u.ease,g&&!a&&t.get()!==void 0){const b=f4(m.keyframes,u);if(b!==void 0){Ft.update(()=>{m.onUpdate(b),m.onComplete()});return}}return u.isSync?new Ab(m):new L3(m)};function x4({protectedKeys:e,needsAnimating:t},s){const o=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,o}function A_(e,t,{delay:s=0,transitionOverride:o,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:c,...u}=t;o&&(a=o);const f=[],h=i&&e.animationState&&e.animationState.getState()[i];for(const m in u){const g=e.getValue(m,e.latestValues[m]??null),b=u[m];if(b===void 0||h&&x4(h,m))continue;const j={delay:s,...Cb(a||{},m)},y=g.get();if(y!==void 0&&!g.isAnimating&&!Array.isArray(b)&&b===y&&!j.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const N=E_(e);if(N){const S=window.MotionHandoffAnimation(N,m,Ft);S!==null&&(j.startTime=S,w=!0)}}Cm(e,m),g.start(Fb(m,g,b,e.shouldReduceMotion&&W2.has(m)?{type:!1}:j,e,w));const v=g.animation;v&&f.push(v)}return c&&Promise.all(f).then(()=>{Ft.update(()=>{c&&c4(e,c)})}),f}function T_(e,t,s,o=0,i=1){const a=Array.from(e).sort((h,m)=>h.sortNodePosition(m)).indexOf(t),c=e.size,u=(c-1)*o;return typeof s=="function"?s(a,c):i===1?a*o:u-a*o}function Rm(e,t,s={}){const o=la(e,t,s.type==="exit"?e.presenceContext?.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=o||{};s.transitionOverride&&(i=s.transitionOverride);const a=o?()=>Promise.all(A_(e,o,s)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:g}=i;return v4(e,t,f,h,m,g,s)}:()=>Promise.resolve(),{when:u}=i;if(u){const[f,h]=u==="beforeChildren"?[a,c]:[c,a];return f().then(()=>h())}else return Promise.all([a(),c(s.delay)])}function v4(e,t,s=0,o=0,i=0,a=1,c){const u=[];for(const f of e.variantChildren)f.notify("AnimationStart",t),u.push(Rm(f,t,{...c,delay:s+(typeof o=="function"?0:o)+T_(e.variantChildren,f,o,i,a)}).then(()=>f.notify("AnimationComplete",t)));return Promise.all(u)}function w4(e,t,s={}){e.notify("AnimationStart",t);let o;if(Array.isArray(t)){const i=t.map(a=>Rm(e,a,s));o=Promise.all(i)}else if(typeof t=="string")o=Rm(e,t,s);else{const i=typeof t=="function"?la(e,t,s.custom):t;o=Promise.all(A_(e,i,s))}return o.then(()=>{e.notify("AnimationComplete",t)})}function C_(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let o=0;o<s;o++)if(t[o]!==e[o])return!1;return!0}const S4=Pb.length;function R_(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?R_(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<S4;s++){const o=Pb[s],i=e.props[o];(Vl(i)||i===!1)&&(t[o]=i)}return t}const j4=[...Db].reverse(),N4=Db.length;function _4(e){return t=>Promise.all(t.map(({animation:s,options:o})=>w4(e,s,o)))}function E4(e){let t=_4(e),s=sS(),o=!0;const i=f=>(h,m)=>{const g=la(e,m,f==="exit"?e.presenceContext?.custom:void 0);if(g){const{transition:b,transitionEnd:j,...y}=g;h={...h,...y,...j}}return h};function a(f){t=f(e)}function c(f){const{props:h}=e,m=R_(e.parent)||{},g=[],b=new Set;let j={},y=1/0;for(let v=0;v<N4;v++){const N=j4[v],S=s[N],_=h[N]!==void 0?h[N]:m[N],M=Vl(_),A=N===f?S.isActive:null;A===!1&&(y=v);let C=_===m[N]&&_!==h[N]&&M;if(C&&o&&e.manuallyAnimateOnMount&&(C=!1),S.protectedKeys={...j},!S.isActive&&A===null||!_&&!S.prevProp||Gd(_)||typeof _=="boolean")continue;const R=A4(S.prevProp,_);let k=R||N===f&&S.isActive&&!C&&M||v>y&&M,U=!1;const L=Array.isArray(_)?_:[_];let te=L.reduce(i(N),{});A===!1&&(te={});const{prevResolvedValues:V={}}=S,ie={...V,...te},H=K=>{k=!0,b.has(K)&&(U=!0,b.delete(K)),S.needsAnimating[K]=!0;const X=e.getValue(K);X&&(X.liveStyle=!1)};for(const K in ie){const X=te[K],ne=V[K];if(j.hasOwnProperty(K))continue;let G=!1;Tm(X)&&Tm(ne)?G=!C_(X,ne):G=X!==ne,G?X!=null?H(K):b.add(K):X!==void 0&&b.has(K)?H(K):S.protectedKeys[K]=!0}S.prevProp=_,S.prevResolvedValues=te,S.isActive&&(j={...j,...te}),o&&e.blockInitialAnimation&&(k=!1);const re=C&&R;k&&(!re||U)&&g.push(...L.map(K=>{const X={type:N};if(typeof K=="string"&&o&&!re&&e.manuallyAnimateOnMount&&e.parent){const{parent:ne}=e,G=la(ne,K);if(ne.enteringChildren&&G){const{delayChildren:B}=G.transition||{};X.delay=T_(ne.enteringChildren,e,B)}}return{animation:K,options:X}}))}if(b.size){const v={};if(typeof h.initial!="boolean"){const N=la(e,Array.isArray(h.initial)?h.initial[0]:h.initial);N&&N.transition&&(v.transition=N.transition)}b.forEach(N=>{const S=e.getBaseTarget(N),_=e.getValue(N);_&&(_.liveStyle=!0),v[N]=S??null}),g.push({animation:v})}let w=!!g.length;return o&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(w=!1),o=!1,w?t(g):Promise.resolve()}function u(f,h){if(s[f].isActive===h)return Promise.resolve();e.variantChildren?.forEach(g=>g.animationState?.setActive(f,h)),s[f].isActive=h;const m=c(f);for(const g in s)s[g].protectedKeys={};return m}return{animateChanges:c,setActive:u,setAnimateFunction:a,getState:()=>s,reset:()=>{s=sS()}}}function A4(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!C_(t,e):!1}function Go(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sS(){return{animate:Go(!0),whileInView:Go(),whileHover:Go(),whileTap:Go(),whileDrag:Go(),whileFocus:Go(),exit:Go()}}class _o{constructor(t){this.isMounted=!1,this.node=t}update(){}}class T4 extends _o{constructor(t){super(t),t.animationState||(t.animationState=E4(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Gd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let C4=0;class R4 extends _o{constructor(){super(...arguments),this.id=C4++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const i=this.node.animationState.setActive("exit",!t);s&&!t&&i.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const M4={animation:{Feature:T4},exit:{Feature:R4}};function Hl(e,t,s,o={passive:!0}){return e.addEventListener(t,s,o),()=>e.removeEventListener(t,s)}function tc(e){return{point:{x:e.pageX,y:e.pageY}}}const k4=e=>t=>kb(t)&&e(t,tc(t));function Ol(e,t,s,o){return Hl(e,t,k4(s),o)}const M_=1e-4,O4=1-M_,D4=1+M_,k_=.01,P4=0-k_,I4=0+k_;function Fr(e){return e.max-e.min}function B4(e,t,s){return Math.abs(e-t)<=s}function oS(e,t,s,o=.5){e.origin=o,e.originPoint=Qt(t.min,t.max,e.origin),e.scale=Fr(s)/Fr(t),e.translate=Qt(s.min,s.max,e.origin)-e.originPoint,(e.scale>=O4&&e.scale<=D4||isNaN(e.scale))&&(e.scale=1),(e.translate>=P4&&e.translate<=I4||isNaN(e.translate))&&(e.translate=0)}function Dl(e,t,s,o){oS(e.x,t.x,s.x,o?o.originX:void 0),oS(e.y,t.y,s.y,o?o.originY:void 0)}function iS(e,t,s){e.min=s.min+t.min,e.max=e.min+Fr(t)}function U4(e,t,s){iS(e.x,t.x,s.x),iS(e.y,t.y,s.y)}function aS(e,t,s){e.min=t.min-s.min,e.max=e.min+Fr(t)}function Pl(e,t,s){aS(e.x,t.x,s.x),aS(e.y,t.y,s.y)}function Cn(e){return[e("x"),e("y")]}const O_=({current:e})=>e?e.ownerDocument.defaultView:null,lS=(e,t)=>Math.abs(e-t);function L4(e,t){const s=lS(e.x,t.x),o=lS(e.y,t.y);return Math.sqrt(s**2+o**2)}class D_{constructor(t,s,{transformPagePoint:o,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Vp(this.lastMoveEventInfo,this.history),j=this.startEvent!==null,y=L4(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!j&&!y)return;const{point:w}=b,{timestamp:v}=Cr;this.history.push({...w,timestamp:v});const{onStart:N,onMove:S}=this.handlers;j||(N&&N(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,b)},this.handlePointerMove=(b,j)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Fp(j,this.transformPagePoint),Ft.update(this.updatePoint,!0)},this.handlePointerUp=(b,j)=>{this.end();const{onEnd:y,onSessionEnd:w,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Vp(b.type==="pointercancel"?this.lastMoveEventInfo:Fp(j,this.transformPagePoint),this.history);this.startEvent&&y&&y(b,N),w&&w(b,N)},!kb(t))return;this.dragSnapToOrigin=a,this.handlers=s,this.transformPagePoint=o,this.distanceThreshold=c,this.contextWindow=i||window;const u=tc(t),f=Fp(u,this.transformPagePoint),{point:h}=f,{timestamp:m}=Cr;this.history=[{...h,timestamp:m}];const{onSessionStart:g}=s;g&&g(t,Vp(f,this.history)),this.removeListeners=Zl(Ol(this.contextWindow,"pointermove",this.handlePointerMove),Ol(this.contextWindow,"pointerup",this.handlePointerUp),Ol(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),So(this.updatePoint)}}function Fp(e,t){return t?{point:t(e.point)}:e}function cS(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Vp({point:e},t){return{point:e,delta:cS(e,P_(t)),offset:cS(e,$4(t)),velocity:z4(t,.1)}}function $4(e){return e[0]}function P_(e){return e[e.length-1]}function z4(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,o=null;const i=P_(e);for(;s>=0&&(o=e[s],!(i.timestamp-o.timestamp>ts(t)));)s--;if(!o)return{x:0,y:0};const a=Rn(i.timestamp-o.timestamp);if(a===0)return{x:0,y:0};const c={x:(i.x-o.x)/a,y:(i.y-o.y)/a};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function F4(e,{min:t,max:s},o){return t!==void 0&&e<t?e=o?Qt(t,e,o.min):Math.max(e,t):s!==void 0&&e>s&&(e=o?Qt(s,e,o.max):Math.min(e,s)),e}function uS(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function V4(e,{top:t,left:s,bottom:o,right:i}){return{x:uS(e.x,s,i),y:uS(e.y,t,o)}}function dS(e,t){let s=t.min-e.min,o=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,o]=[o,s]),{min:s,max:o}}function q4(e,t){return{x:dS(e.x,t.x),y:dS(e.y,t.y)}}function H4(e,t){let s=.5;const o=Fr(e),i=Fr(t);return i>o?s=$l(t.min,t.max-o,e.min):o>i&&(s=$l(e.min,e.max-i,t.min)),Os(0,1,s)}function G4(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const Mm=.35;function W4(e=Mm){return e===!1?e=0:e===!0&&(e=Mm),{x:fS(e,"left","right"),y:fS(e,"top","bottom")}}function fS(e,t,s){return{min:hS(e,t),max:hS(e,s)}}function hS(e,t){return typeof e=="number"?e:e[t]||0}const K4=new WeakMap;class Q4{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:o}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(tc(g).point)},c=(g,b)=>{const{drag:j,dragPropagation:y,onDragStart:w}=this.getProps();if(j&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=t5(j),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Cn(N=>{let S=this.getAxisMotionValue(N).get()||0;if(rs.test(S)){const{projection:_}=this.visualElement;if(_&&_.layout){const M=_.layout.layoutBox[N];M&&(S=Fr(M)*(parseFloat(S)/100))}}this.originPoint[N]=S}),w&&Ft.postRender(()=>w(g,b)),Cm(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},u=(g,b)=>{this.latestPointerEvent=g,this.latestPanInfo=b;const{dragPropagation:j,dragDirectionLock:y,onDirectionLock:w,onDrag:v}=this.getProps();if(!j&&!this.openDragLock)return;const{offset:N}=b;if(y&&this.currentDirection===null){this.currentDirection=Y4(N),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",b.point,N),this.updateAxis("y",b.point,N),this.visualElement.render(),v&&v(g,b)},f=(g,b)=>{this.latestPointerEvent=g,this.latestPanInfo=b,this.stop(g,b),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Cn(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new D_(t,{onSessionStart:a,onStart:c,onMove:u,onSessionEnd:f,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:o,contextWindow:O_(this.visualElement)})}stop(t,s){const o=t||this.latestPointerEvent,i=s||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!o)return;const{velocity:c}=i;this.startAnimation(c);const{onDragEnd:u}=this.getProps();u&&Ft.postRender(()=>u(o,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,o){const{drag:i}=this.getProps();if(!o||!Tu(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let c=this.originPoint[t]+o[t];this.constraints&&this.constraints[t]&&(c=F4(c,this.constraints[t],this.elastic[t])),a.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:s}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;t&&na(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&o?this.constraints=V4(o.layoutBox,t):this.constraints=!1,this.elastic=W4(s),i!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Cn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=G4(o.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!na(t))return!1;const o=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=X5(o,i.root,this.visualElement.getTransformPagePoint());let c=q4(i.layout.layoutBox,a);if(s){const u=s(K5(c));this.hasMutatedConstraints=!!u,u&&(c=b_(u))}return c}startAnimation(t){const{drag:s,dragMomentum:o,dragElastic:i,dragTransition:a,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},h=Cn(m=>{if(!Tu(m,s,this.currentDirection))return;let g=f&&f[m]||{};c&&(g={min:0,max:0});const b=i?200:1e6,j=i?40:1e7,y={type:"inertia",velocity:o?t[m]:0,bounceStiffness:b,bounceDamping:j,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(m,y)});return Promise.all(h).then(u)}startAxisValueAnimation(t,s){const o=this.getAxisMotionValue(t);return Cm(this.visualElement,t),o.start(Fb(t,o,0,s,this.visualElement,!1))}stopAnimation(){Cn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Cn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,o=this.visualElement.getProps(),i=o[s];return i||this.visualElement.getValue(t,(o.initial?o.initial[t]:void 0)||0)}snapToCursor(t){Cn(s=>{const{drag:o}=this.getProps();if(!Tu(s,o,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(s);if(i&&i.layout){const{min:c,max:u}=i.layout.layoutBox[s];a.set(t[s]-Qt(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:o}=this.visualElement;if(!na(s)||!o||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Cn(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const f=u.get();i[c]=H4({min:f,max:f},this.constraints[c])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),Cn(c=>{if(!Tu(c,t,null))return;const u=this.getAxisMotionValue(c),{min:f,max:h}=this.constraints[c];u.set(Qt(f,h,i[c]))})}addListeners(){if(!this.visualElement.current)return;K4.set(this.visualElement,this);const t=this.visualElement.current,s=Ol(t,"pointerdown",f=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(f)}),o=()=>{const{dragConstraints:f}=this.getProps();na(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",o);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ft.read(o);const c=Hl(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:h})=>{this.isDragging&&h&&(Cn(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=f[m].translate,g.set(g.get()+f[m].translate))}),this.visualElement.render())}));return()=>{c(),s(),a(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:o=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:c=Mm,dragMomentum:u=!0}=t;return{...t,drag:s,dragDirectionLock:o,dragPropagation:i,dragConstraints:a,dragElastic:c,dragMomentum:u}}}function Tu(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function Y4(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class X4 extends _o{constructor(t){super(t),this.removeGroupControls=Mn,this.removeListeners=Mn,this.controls=new Q4(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mn}unmount(){this.removeGroupControls(),this.removeListeners()}}const pS=e=>(t,s)=>{e&&Ft.postRender(()=>e(t,s))};class Z4 extends _o{constructor(){super(...arguments),this.removePointerDownListener=Mn}onPointerDown(t){this.session=new D_(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:O_(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:o,onPanEnd:i}=this.node.getProps();return{onSessionStart:pS(t),onStart:pS(s),onMove:o,onEnd:(a,c)=>{delete this.session,i&&Ft.postRender(()=>i(a,c))}}}mount(){this.removePointerDownListener=Ol(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Qu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function mS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const wl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(at.test(e))e=parseFloat(e);else return e;const s=mS(e,t.target.x),o=mS(e,t.target.y);return`${s}% ${o}%`}},J4={correct:(e,{treeScale:t,projectionDelta:s})=>{const o=e,i=jo.parse(e);if(i.length>5)return o;const a=jo.createTransformer(e),c=typeof i[0]!="number"?1:0,u=s.x.scale*t.x,f=s.y.scale*t.y;i[0+c]/=u,i[1+c]/=f;const h=Qt(u,f,.5);return typeof i[2+c]=="number"&&(i[2+c]/=h),typeof i[3+c]=="number"&&(i[3+c]/=h),a(i)}};let qp=!1;class eD extends O.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:o,layoutId:i}=this.props,{projection:a}=t;S5(tD),a&&(s.group&&s.group.add(a),o&&o.register&&i&&o.register(a),qp&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Qu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:o,drag:i,isPresent:a}=this.props,{projection:c}=o;return c&&(c.isPresent=a,qp=!0,i||t.layoutDependency!==s||s===void 0||t.isPresent!==a?c.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?c.promote():c.relegate()||Ft.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Mb.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:o}=this.props,{projection:i}=t;qp=!0,i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),o&&o.deregister&&o.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function I_(e){const[t,s]=s_(),o=O.useContext(cb);return d.jsx(eD,{...e,layoutGroup:o,switchLayoutGroup:O.useContext(g_),isPresent:t,safeToRemove:s})}const tD={borderRadius:{...wl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wl,borderTopRightRadius:wl,borderBottomLeftRadius:wl,borderBottomRightRadius:wl,boxShadow:J4};function rD(e,t,s){const o=Br(e)?e:fa(e);return o.start(Fb("",o,t,s)),o.animation}const nD=(e,t)=>e.depth-t.depth;class sD{constructor(){this.children=[],this.isDirty=!1}add(t){fb(this.children,t),this.isDirty=!0}remove(t){hb(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(nD),this.isDirty=!1,this.children.forEach(t)}}function oD(e,t){const s=tn.now(),o=({timestamp:i})=>{const a=i-s;a>=t&&(So(o),e(a-t))};return Ft.setup(o,!0),()=>So(o)}const B_=["TopLeft","TopRight","BottomLeft","BottomRight"],iD=B_.length,gS=e=>typeof e=="string"?parseFloat(e):e,yS=e=>typeof e=="number"||at.test(e);function aD(e,t,s,o,i,a){i?(e.opacity=Qt(0,s.opacity??1,lD(o)),e.opacityExit=Qt(t.opacity??1,0,cD(o))):a&&(e.opacity=Qt(t.opacity??1,s.opacity??1,o));for(let c=0;c<iD;c++){const u=`border${B_[c]}Radius`;let f=bS(t,u),h=bS(s,u);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||yS(f)===yS(h)?(e[u]=Math.max(Qt(gS(f),gS(h),o),0),(rs.test(h)||rs.test(f))&&(e[u]+="%")):e[u]=h}(t.rotate||s.rotate)&&(e.rotate=Qt(t.rotate||0,s.rotate||0,o))}function bS(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const lD=U_(0,.5,N2),cD=U_(.5,.95,Mn);function U_(e,t,s){return o=>o<e?0:o>t?1:s($l(e,t,o))}function xS(e,t){e.min=t.min,e.max=t.max}function Tn(e,t){xS(e.x,t.x),xS(e.y,t.y)}function vS(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function wS(e,t,s,o,i){return e-=t,e=Cd(e,1/s,o),i!==void 0&&(e=Cd(e,1/i,o)),e}function uD(e,t=0,s=1,o=.5,i,a=e,c=e){if(rs.test(t)&&(t=parseFloat(t),t=Qt(c.min,c.max,t/100)-c.min),typeof t!="number")return;let u=Qt(a.min,a.max,o);e===a&&(u-=t),e.min=wS(e.min,t,s,u,i),e.max=wS(e.max,t,s,u,i)}function SS(e,t,[s,o,i],a,c){uD(e,t[s],t[o],t[i],t.scale,a,c)}const dD=["x","scaleX","originX"],fD=["y","scaleY","originY"];function jS(e,t,s,o){SS(e.x,t,dD,s?s.x:void 0,o?o.x:void 0),SS(e.y,t,fD,s?s.y:void 0,o?o.y:void 0)}function NS(e){return e.translate===0&&e.scale===1}function L_(e){return NS(e.x)&&NS(e.y)}function _S(e,t){return e.min===t.min&&e.max===t.max}function hD(e,t){return _S(e.x,t.x)&&_S(e.y,t.y)}function ES(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function $_(e,t){return ES(e.x,t.x)&&ES(e.y,t.y)}function AS(e){return Fr(e.x)/Fr(e.y)}function TS(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class pD{constructor(){this.members=[]}add(t){fb(this.members,t),t.scheduleRender()}remove(t){if(hb(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(i=>t===i);if(s===0)return!1;let o;for(let i=s;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){o=a;break}}return o?(this.promote(o),!0):!1}promote(t,s){const o=this.lead;if(t!==o&&(this.prevLead=o,this.lead=t,t.show(),o)){o.instance&&o.scheduleRender(),t.scheduleRender(),t.resumeFrom=o,s&&(t.resumeFrom.preserveOpacity=!0),o.snapshot&&(t.snapshot=o.snapshot,t.snapshot.latestValues=o.animationValues||o.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:o}=t;s.onExitComplete&&s.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function mD(e,t,s){let o="";const i=e.x.translate/t.x,a=e.y.translate/t.y,c=s?.z||0;if((i||a||c)&&(o=`translate3d(${i}px, ${a}px, ${c}px) `),(t.x!==1||t.y!==1)&&(o+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:h,rotate:m,rotateX:g,rotateY:b,skewX:j,skewY:y}=s;h&&(o=`perspective(${h}px) ${o}`),m&&(o+=`rotate(${m}deg) `),g&&(o+=`rotateX(${g}deg) `),b&&(o+=`rotateY(${b}deg) `),j&&(o+=`skewX(${j}deg) `),y&&(o+=`skewY(${y}deg) `)}const u=e.x.scale*t.x,f=e.y.scale*t.y;return(u!==1||f!==1)&&(o+=`scale(${u}, ${f})`),o||"none"}const Hp=["","X","Y","Z"],gD=1e3;let yD=0;function Gp(e,t,s,o){const{latestValues:i}=t;i[e]&&(s[e]=i[e],t.setStaticValue(e,0),o&&(o[e]=0))}function z_(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=E_(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",Ft,!(i||a))}const{parent:o}=e;o&&!o.hasCheckedOptimisedAppear&&z_(o)}function F_({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:o,resetTransform:i}){return class{constructor(c={},u=t?.()){this.id=yD++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(vD),this.nodes.forEach(ND),this.nodes.forEach(_D),this.nodes.forEach(wD)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new sD)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new gb),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const f=this.eventHandlers.get(c);f&&f.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=n_(c)&&!a5(c),this.instance=c;const{layoutId:u,layout:f,visualElement:h}=this.options;if(h&&!h.current&&h.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||u)&&(this.isLayoutDirty=!0),e){let m,g=0;const b=()=>this.root.updateBlockedByResize=!1;Ft.read(()=>{g=window.innerWidth}),e(c,()=>{const j=window.innerWidth;j!==g&&(g=j,this.root.updateBlockedByResize=!0,m&&m(),m=oD(b,250),Qu.hasAnimatedSinceResize&&(Qu.hasAnimatedSinceResize=!1,this.nodes.forEach(MS)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||f)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:b,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||h.getDefaultTransition()||RD,{onLayoutAnimationStart:w,onLayoutAnimationComplete:v}=h.getProps(),N=!this.targetLayout||!$_(this.targetLayout,j),S=!g&&b;if(this.options.layoutRoot||this.resumeFrom||S||g&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...Cb(y,"layout"),onPlay:w,onComplete:v};(h.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(m,S)}else g||MS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),So(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ED),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&z_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(CS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(RS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(jD),this.nodes.forEach(bD),this.nodes.forEach(xD)):this.nodes.forEach(RS),this.clearAllSnapshots();const u=tn.now();Cr.delta=Os(0,1e3/60,u-Cr.timestamp),Cr.timestamp=u,Cr.isProcessing=!0,Dp.update.process(Cr),Dp.preRender.process(Cr),Dp.render.process(Cr),Cr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Mb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(SD),this.sharedNodes.forEach(AD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Fr(this.snapshot.measuredBox.x)&&!Fr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&this.instance){const f=o(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!i)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!L_(this.projectionDelta),f=this.getTransformTemplate(),h=f?f(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;c&&this.instance&&(u||Ko(this.latestValues)||m)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return c&&(f=this.removeTransform(f)),MD(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return nr();const u=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(kD))){const{scroll:h}=this.root;h&&(sa(u.x,h.offset.x),sa(u.y,h.offset.y))}return u}removeElementScroll(c){const u=nr();if(Tn(u,c),this.scroll?.wasRoot)return u;for(let f=0;f<this.path.length;f++){const h=this.path[f],{scroll:m,options:g}=h;h!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&Tn(u,c),sa(u.x,m.offset.x),sa(u.y,m.offset.y))}return u}applyTransform(c,u=!1){const f=nr();Tn(f,c);for(let h=0;h<this.path.length;h++){const m=this.path[h];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&oa(f,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Ko(m.latestValues)&&oa(f,m.latestValues)}return Ko(this.latestValues)&&oa(f,this.latestValues),f}removeTransform(c){const u=nr();Tn(u,c);for(let f=0;f<this.path.length;f++){const h=this.path[f];if(!h.instance||!Ko(h.latestValues))continue;_m(h.latestValues)&&h.updateSnapshot();const m=nr(),g=h.measurePageBox();Tn(m,g),jS(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return Ko(this.latestValues)&&jS(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Cr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==u;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:g}=this.options;if(!(!this.layout||!(m||g))){if(this.resolvedRelativeTargetAt=Cr.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nr(),this.relativeTargetOrigin=nr(),Pl(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=nr(),this.targetWithTransforms=nr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),U4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Tn(this.target,this.layout.layoutBox),v_(this.target,this.targetDelta)):Tn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nr(),this.relativeTargetOrigin=nr(),Pl(this.relativeTargetOrigin,this.target,b.target),Tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||_m(this.parent.latestValues)||x_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),u=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Cr.timestamp&&(f=!1),f)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;Tn(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,b=this.treeScale.y;Y5(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=nr());const{target:j}=c;if(!j){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(vS(this.prevProjectionDelta.x,this.projectionDelta.x),vS(this.prevProjectionDelta.y,this.projectionDelta.y)),Dl(this.projectionDelta,this.layoutCorrected,j,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==b||!TS(this.projectionDelta.x,this.prevProjectionDelta.x)||!TS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",j))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ia(),this.projectionDelta=ia(),this.projectionDeltaWithTransform=ia()}setAnimationOrigin(c,u=!1){const f=this.snapshot,h=f?f.latestValues:{},m={...this.latestValues},g=ia();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const b=nr(),j=f?f.source:void 0,y=this.layout?this.layout.source:void 0,w=j!==y,v=this.getStack(),N=!v||v.members.length<=1,S=!!(w&&!N&&this.options.crossfade===!0&&!this.path.some(CD));this.animationProgress=0;let _;this.mixTargetDelta=M=>{const A=M/1e3;kS(g.x,c.x,A),kS(g.y,c.y,A),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Pl(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),TD(this.relativeTarget,this.relativeTargetOrigin,b,A),_&&hD(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=nr()),Tn(_,this.relativeTarget)),w&&(this.animationValues=m,aD(m,h,this.latestValues,A,S,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(So(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ft.update(()=>{Qu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=fa(0)),this.currentAnimation=rD(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),c.onUpdate&&c.onUpdate(u)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(gD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:f,layout:h,latestValues:m}=c;if(!(!u||!f||!h)){if(this!==c&&this.layout&&h&&V_(this.options.animationType,this.layout.layoutBox,h.layoutBox)){f=this.target||nr();const g=Fr(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+g;const b=Fr(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+b}Tn(u,f),oa(u,m),Dl(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new pD),this.sharedNodes.get(c).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:f}={}){const h=this.getStack();h&&h.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(u=!0),!u)return;const h={};f.z&&Gp("z",c,h,this.animationValues);for(let m=0;m<Hp.length;m++)Gp(`rotate${Hp[m]}`,c,h,this.animationValues),Gp(`skew${Hp[m]}`,c,h,this.animationValues);c.render();for(const m in h)c.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);c.scheduleRender()}applyProjectionStyles(c,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Ku(u?.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Ku(u?.pointerEvents)||""),this.hasProjected&&!Ko(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const m=h.animationValues||h.latestValues;this.applyTransformsToTarget();let g=mD(this.projectionDeltaWithTransform,this.treeScale,m);f&&(g=f(m,g)),c.transform=g;const{x:b,y:j}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${j.origin*100}% 0`,h.animationValues?c.opacity=h===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const y in ql){if(m[y]===void 0)continue;const{correct:w,applyTo:v,isCSSVariable:N}=ql[y],S=g==="none"?m[y]:w(m[y],h);if(v){const _=v.length;for(let M=0;M<_;M++)c[v[M]]=S}else N?this.options.visualElement.renderState.vars[y]=S:c[y]=S}this.options.layoutId&&(c.pointerEvents=h===this?Ku(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(CS),this.root.sharedNodes.clear()}}}function bD(e){e.updateLayout()}function xD(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i==="size"?Cn(m=>{const g=a?t.measuredBox[m]:t.layoutBox[m],b=Fr(g);g.min=s[m].min,g.max=g.min+b}):V_(i,t.layoutBox,s)&&Cn(m=>{const g=a?t.measuredBox[m]:t.layoutBox[m],b=Fr(s[m]);g.max=g.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+b)});const c=ia();Dl(c,s,t.layoutBox);const u=ia();a?Dl(u,e.applyTransform(o,!0),t.measuredBox):Dl(u,s,t.layoutBox);const f=!L_(c);let h=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:b}=m;if(g&&b){const j=nr();Pl(j,t.layoutBox,g.layoutBox);const y=nr();Pl(y,s,b.layoutBox),$_(j,y)||(h=!0),m.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=j,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:u,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function vD(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function wD(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function SD(e){e.clearSnapshot()}function CS(e){e.clearMeasurements()}function RS(e){e.isLayoutDirty=!1}function jD(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function MS(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ND(e){e.resolveTargetDelta()}function _D(e){e.calcProjection()}function ED(e){e.resetSkewAndRotation()}function AD(e){e.removeLeadSnapshot()}function kS(e,t,s){e.translate=Qt(t.translate,0,s),e.scale=Qt(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function OS(e,t,s,o){e.min=Qt(t.min,s.min,o),e.max=Qt(t.max,s.max,o)}function TD(e,t,s,o){OS(e.x,t.x,s.x,o),OS(e.y,t.y,s.y,o)}function CD(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const RD={duration:.45,ease:[.4,0,.1,1]},DS=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),PS=DS("applewebkit/")&&!DS("chrome/")?Math.round:Mn;function IS(e){e.min=PS(e.min),e.max=PS(e.max)}function MD(e){IS(e.x),IS(e.y)}function V_(e,t,s){return e==="position"||e==="preserve-aspect"&&!B4(AS(t),AS(s),.2)}function kD(e){return e!==e.root&&e.scroll?.wasRoot}const OD=F_({attachResizeListener:(e,t)=>Hl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wp={current:void 0},q_=F_({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Wp.current){const e=new OD({});e.mount(window),e.setOptions({layoutScroll:!0}),Wp.current=e}return Wp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),DD={pan:{Feature:Z4},drag:{Feature:X4,ProjectionNode:q_,MeasureLayout:I_}};function BS(e,t,s){const{props:o}=e;e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",s==="Start");const i="onHover"+s,a=o[i];a&&Ft.postRender(()=>a(t,tc(t)))}class PD extends _o{mount(){const{current:t}=this.node;t&&(this.unmount=r5(t,(s,o)=>(BS(this.node,o,"Start"),i=>BS(this.node,i,"End"))))}unmount(){}}class ID extends _o{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Zl(Hl(this.node.current,"focus",()=>this.onFocus()),Hl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function US(e,t,s){const{props:o}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&o.whileTap&&e.animationState.setActive("whileTap",s==="Start");const i="onTap"+(s==="End"?"":s),a=o[i];a&&Ft.postRender(()=>a(t,tc(t)))}class BD extends _o{mount(){const{current:t}=this.node;t&&(this.unmount=i5(t,(s,o)=>(US(this.node,o,"Start"),(i,{success:a})=>US(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const km=new WeakMap,Kp=new WeakMap,UD=e=>{const t=km.get(e.target);t&&t(e)},LD=e=>{e.forEach(UD)};function $D({root:e,...t}){const s=e||document;Kp.has(s)||Kp.set(s,{});const o=Kp.get(s),i=JSON.stringify(t);return o[i]||(o[i]=new IntersectionObserver(LD,{root:e,...t})),o[i]}function zD(e,t,s){const o=$D(t);return km.set(e,s),o.observe(e),()=>{km.delete(e),o.unobserve(e)}}const FD={some:0,all:1};class VD extends _o{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:o,amount:i="some",once:a}=t,c={root:s?s.current:void 0,rootMargin:o,threshold:typeof i=="number"?i:FD[i]},u=f=>{const{isIntersecting:h}=f;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),b=h?m:g;b&&b(f)};return zD(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(qD(t,s))&&this.startObserver()}unmount(){}}function qD({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const HD={inView:{Feature:VD},tap:{Feature:BD},focus:{Feature:ID},hover:{Feature:PD}},GD={layout:{ProjectionNode:q_,MeasureLayout:I_}},WD={...M4,...HD,...DD,...GD},ct=W5(WD,i4);function LS(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Kd(...e){return t=>{let s=!1;const o=e.map(i=>{const a=LS(i,t);return!s&&typeof a=="function"&&(s=!0),a});if(s)return()=>{for(let i=0;i<o.length;i++){const a=o[i];typeof a=="function"?a():LS(e[i],null)}}}}function Rd(...e){return O.useCallback(Kd(...e),e)}var KD=Symbol.for("react.lazy"),Md=eb[" use ".trim().toString()];function QD(e){return typeof e=="object"&&e!==null&&"then"in e}function H_(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===KD&&"_payload"in e&&QD(e._payload)}function YD(e){const t=XD(e),s=O.forwardRef((o,i)=>{let{children:a,...c}=o;H_(a)&&typeof Md=="function"&&(a=Md(a._payload));const u=O.Children.toArray(a),f=u.find(JD);if(f){const h=f.props.children,m=u.map(g=>g===f?O.Children.count(h)>1?O.Children.only(null):O.isValidElement(h)?h.props.children:null:g);return d.jsx(t,{...c,ref:i,children:O.isValidElement(h)?O.cloneElement(h,void 0,m):null})}return d.jsx(t,{...c,ref:i,children:a})});return s.displayName=`${e}.Slot`,s}var G_=YD("Slot");function XD(e){const t=O.forwardRef((s,o)=>{let{children:i,...a}=s;if(H_(i)&&typeof Md=="function"&&(i=Md(i._payload)),O.isValidElement(i)){const c=t6(i),u=e6(a,i.props);return i.type!==O.Fragment&&(u.ref=o?Kd(o,c):c),O.cloneElement(i,u)}return O.Children.count(i)>1?O.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ZD=Symbol("radix.slottable");function JD(e){return O.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ZD}function e6(e,t){const s={...t};for(const o in t){const i=e[o],a=t[o];/^on[A-Z]/.test(o)?i&&a?s[o]=(...u)=>{const f=a(...u);return i(...u),f}:i&&(s[o]=i):o==="style"?s[o]={...i,...a}:o==="className"&&(s[o]=[i,a].filter(Boolean).join(" "))}return{...e,...s}}function t6(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function W_(e){var t,s,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(s=W_(e[t]))&&(o&&(o+=" "),o+=s)}else for(s in e)e[s]&&(o&&(o+=" "),o+=s);return o}function K_(){for(var e,t,s=0,o="",i=arguments.length;s<i;s++)(e=arguments[s])&&(t=W_(e))&&(o&&(o+=" "),o+=t);return o}const $S=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,zS=K_,Q_=(e,t)=>s=>{var o;if(t?.variants==null)return zS(e,s?.class,s?.className);const{variants:i,defaultVariants:a}=t,c=Object.keys(i).map(h=>{const m=s?.[h],g=a?.[h];if(m===null)return null;const b=$S(m)||$S(g);return i[h][b]}),u=s&&Object.entries(s).reduce((h,m)=>{let[g,b]=m;return b===void 0||(h[g]=b),h},{}),f=t==null||(o=t.compoundVariants)===null||o===void 0?void 0:o.reduce((h,m)=>{let{class:g,className:b,...j}=m;return Object.entries(j).every(y=>{let[w,v]=y;return Array.isArray(v)?v.includes({...a,...u}[w]):{...a,...u}[w]===v})?[...h,g,b]:h},[]);return zS(e,c,f,s?.class,s?.className)},Vb="-",r6=e=>{const t=s6(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:o}=e;return{getClassGroupId:c=>{const u=c.split(Vb);return u[0]===""&&u.length!==1&&u.shift(),Y_(u,t)||n6(c)},getConflictingClassGroupIds:(c,u)=>{const f=s[c]||[];return u&&o[c]?[...f,...o[c]]:f}}},Y_=(e,t)=>{if(e.length===0)return t.classGroupId;const s=e[0],o=t.nextPart.get(s),i=o?Y_(e.slice(1),o):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(Vb);return t.validators.find(({validator:c})=>c(a))?.classGroupId},FS=/^\[(.+)\]$/,n6=e=>{if(FS.test(e)){const t=FS.exec(e)[1],s=t?.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},s6=e=>{const{theme:t,classGroups:s}=e,o={nextPart:new Map,validators:[]};for(const i in s)Om(s[i],o,i,t);return o},Om=(e,t,s,o)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:VS(t,i);a.classGroupId=s;return}if(typeof i=="function"){if(o6(i)){Om(i(o),t,s,o);return}t.validators.push({validator:i,classGroupId:s});return}Object.entries(i).forEach(([a,c])=>{Om(c,VS(t,a),s,o)})})},VS=(e,t)=>{let s=e;return t.split(Vb).forEach(o=>{s.nextPart.has(o)||s.nextPart.set(o,{nextPart:new Map,validators:[]}),s=s.nextPart.get(o)}),s},o6=e=>e.isThemeGetter,i6=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,o=new Map;const i=(a,c)=>{s.set(a,c),t++,t>e&&(t=0,o=s,s=new Map)};return{get(a){let c=s.get(a);if(c!==void 0)return c;if((c=o.get(a))!==void 0)return i(a,c),c},set(a,c){s.has(a)?s.set(a,c):i(a,c)}}},Dm="!",Pm=":",a6=Pm.length,l6=e=>{const{prefix:t,experimentalParseClassName:s}=e;let o=i=>{const a=[];let c=0,u=0,f=0,h;for(let y=0;y<i.length;y++){let w=i[y];if(c===0&&u===0){if(w===Pm){a.push(i.slice(f,y)),f=y+a6;continue}if(w==="/"){h=y;continue}}w==="["?c++:w==="]"?c--:w==="("?u++:w===")"&&u--}const m=a.length===0?i:i.substring(f),g=c6(m),b=g!==m,j=h&&h>f?h-f:void 0;return{modifiers:a,hasImportantModifier:b,baseClassName:g,maybePostfixModifierPosition:j}};if(t){const i=t+Pm,a=o;o=c=>c.startsWith(i)?a(c.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(s){const i=o;o=a=>s({className:a,parseClassName:i})}return o},c6=e=>e.endsWith(Dm)?e.substring(0,e.length-1):e.startsWith(Dm)?e.substring(1):e,u6=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(o=>[o,!0]));return o=>{if(o.length<=1)return o;const i=[];let a=[];return o.forEach(c=>{c[0]==="["||t[c]?(i.push(...a.sort(),c),a=[]):a.push(c)}),i.push(...a.sort()),i}},d6=e=>({cache:i6(e.cacheSize),parseClassName:l6(e),sortModifiers:u6(e),...r6(e)}),f6=/\s+/,h6=(e,t)=>{const{parseClassName:s,getClassGroupId:o,getConflictingClassGroupIds:i,sortModifiers:a}=t,c=[],u=e.trim().split(f6);let f="";for(let h=u.length-1;h>=0;h-=1){const m=u[h],{isExternal:g,modifiers:b,hasImportantModifier:j,baseClassName:y,maybePostfixModifierPosition:w}=s(m);if(g){f=m+(f.length>0?" "+f:f);continue}let v=!!w,N=o(v?y.substring(0,w):y);if(!N){if(!v){f=m+(f.length>0?" "+f:f);continue}if(N=o(y),!N){f=m+(f.length>0?" "+f:f);continue}v=!1}const S=a(b).join(":"),_=j?S+Dm:S,M=_+N;if(c.includes(M))continue;c.push(M);const A=i(N,v);for(let C=0;C<A.length;++C){const R=A[C];c.push(_+R)}f=m+(f.length>0?" "+f:f)}return f};function p6(){let e=0,t,s,o="";for(;e<arguments.length;)(t=arguments[e++])&&(s=X_(t))&&(o&&(o+=" "),o+=s);return o}const X_=e=>{if(typeof e=="string")return e;let t,s="";for(let o=0;o<e.length;o++)e[o]&&(t=X_(e[o]))&&(s&&(s+=" "),s+=t);return s};function m6(e,...t){let s,o,i,a=c;function c(f){const h=t.reduce((m,g)=>g(m),e());return s=d6(h),o=s.cache.get,i=s.cache.set,a=u,u(f)}function u(f){const h=o(f);if(h)return h;const m=h6(f,s);return i(f,m),m}return function(){return a(p6.apply(null,arguments))}}const pr=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},Z_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,J_=/^\((?:(\w[\w-]*):)?(.+)\)$/i,g6=/^\d+\/\d+$/,y6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,b6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,x6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,v6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,w6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xi=e=>g6.test(e),mt=e=>!!e&&!Number.isNaN(Number(e)),fo=e=>!!e&&Number.isInteger(Number(e)),Qp=e=>e.endsWith("%")&&mt(e.slice(0,-1)),js=e=>y6.test(e),S6=()=>!0,j6=e=>b6.test(e)&&!x6.test(e),eE=()=>!1,N6=e=>v6.test(e),_6=e=>w6.test(e),E6=e=>!Je(e)&&!et(e),A6=e=>Sa(e,nE,eE),Je=e=>Z_.test(e),Wo=e=>Sa(e,sE,j6),Yp=e=>Sa(e,k6,mt),qS=e=>Sa(e,tE,eE),T6=e=>Sa(e,rE,_6),Cu=e=>Sa(e,oE,N6),et=e=>J_.test(e),Sl=e=>ja(e,sE),C6=e=>ja(e,O6),HS=e=>ja(e,tE),R6=e=>ja(e,nE),M6=e=>ja(e,rE),Ru=e=>ja(e,oE,!0),Sa=(e,t,s)=>{const o=Z_.exec(e);return o?o[1]?t(o[1]):s(o[2]):!1},ja=(e,t,s=!1)=>{const o=J_.exec(e);return o?o[1]?t(o[1]):s:!1},tE=e=>e==="position"||e==="percentage",rE=e=>e==="image"||e==="url",nE=e=>e==="length"||e==="size"||e==="bg-size",sE=e=>e==="length",k6=e=>e==="number",O6=e=>e==="family-name",oE=e=>e==="shadow",D6=()=>{const e=pr("color"),t=pr("font"),s=pr("text"),o=pr("font-weight"),i=pr("tracking"),a=pr("leading"),c=pr("breakpoint"),u=pr("container"),f=pr("spacing"),h=pr("radius"),m=pr("shadow"),g=pr("inset-shadow"),b=pr("text-shadow"),j=pr("drop-shadow"),y=pr("blur"),w=pr("perspective"),v=pr("aspect"),N=pr("ease"),S=pr("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[...M(),et,Je],C=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],k=()=>[et,Je,f],U=()=>[Xi,"full","auto",...k()],L=()=>[fo,"none","subgrid",et,Je],te=()=>["auto",{span:["full",fo,et,Je]},fo,et,Je],V=()=>[fo,"auto",et,Je],ie=()=>["auto","min","max","fr",et,Je],H=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],re=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...k()],K=()=>[Xi,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...k()],X=()=>[e,et,Je],ne=()=>[...M(),HS,qS,{position:[et,Je]}],G=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",R6,A6,{size:[et,Je]}],z=()=>[Qp,Sl,Wo],Z=()=>["","none","full",h,et,Je],pe=()=>["",mt,Sl,Wo],he=()=>["solid","dashed","dotted","double"],Ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],de=()=>[mt,Qp,HS,qS],le=()=>["","none",y,et,Je],Se=()=>["none",mt,et,Je],be=()=>["none",mt,et,Je],ve=()=>[mt,et,Je],we=()=>[Xi,"full",...k()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[js],breakpoint:[js],color:[S6],container:[js],"drop-shadow":[js],ease:["in","out","in-out"],font:[E6],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[js],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[js],shadow:[js],spacing:["px",mt],text:[js],"text-shadow":[js],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Xi,Je,et,v]}],container:["container"],columns:[{columns:[mt,Je,et,u]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:U()}],"inset-x":[{"inset-x":U()}],"inset-y":[{"inset-y":U()}],start:[{start:U()}],end:[{end:U()}],top:[{top:U()}],right:[{right:U()}],bottom:[{bottom:U()}],left:[{left:U()}],visibility:["visible","invisible","collapse"],z:[{z:[fo,"auto",et,Je]}],basis:[{basis:[Xi,"full","auto",u,...k()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[mt,Xi,"auto","initial","none",Je]}],grow:[{grow:["",mt,et,Je]}],shrink:[{shrink:["",mt,et,Je]}],order:[{order:[fo,"first","last","none",et,Je]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:te()}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:te()}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ie()}],"auto-rows":[{"auto-rows":ie()}],gap:[{gap:k()}],"gap-x":[{"gap-x":k()}],"gap-y":[{"gap-y":k()}],"justify-content":[{justify:[...H(),"normal"]}],"justify-items":[{"justify-items":[...re(),"normal"]}],"justify-self":[{"justify-self":["auto",...re()]}],"align-content":[{content:["normal",...H()]}],"align-items":[{items:[...re(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...re(),{baseline:["","last"]}]}],"place-content":[{"place-content":H()}],"place-items":[{"place-items":[...re(),"baseline"]}],"place-self":[{"place-self":["auto",...re()]}],p:[{p:k()}],px:[{px:k()}],py:[{py:k()}],ps:[{ps:k()}],pe:[{pe:k()}],pt:[{pt:k()}],pr:[{pr:k()}],pb:[{pb:k()}],pl:[{pl:k()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":k()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":k()}],"space-y-reverse":["space-y-reverse"],size:[{size:K()}],w:[{w:[u,"screen",...K()]}],"min-w":[{"min-w":[u,"screen","none",...K()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[c]},...K()]}],h:[{h:["screen","lh",...K()]}],"min-h":[{"min-h":["screen","lh","none",...K()]}],"max-h":[{"max-h":["screen","lh",...K()]}],"font-size":[{text:["base",s,Sl,Wo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,et,Yp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Qp,Je]}],"font-family":[{font:[C6,Je,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,et,Je]}],"line-clamp":[{"line-clamp":[mt,"none",et,Yp]}],leading:[{leading:[a,...k()]}],"list-image":[{"list-image":["none",et,Je]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",et,Je]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:X()}],"text-color":[{text:X()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...he(),"wavy"]}],"text-decoration-thickness":[{decoration:[mt,"from-font","auto",et,Wo]}],"text-decoration-color":[{decoration:X()}],"underline-offset":[{"underline-offset":[mt,"auto",et,Je]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",et,Je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",et,Je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ne()}],"bg-repeat":[{bg:G()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},fo,et,Je],radial:["",et,Je],conic:[fo,et,Je]},M6,T6]}],"bg-color":[{bg:X()}],"gradient-from-pos":[{from:z()}],"gradient-via-pos":[{via:z()}],"gradient-to-pos":[{to:z()}],"gradient-from":[{from:X()}],"gradient-via":[{via:X()}],"gradient-to":[{to:X()}],rounded:[{rounded:Z()}],"rounded-s":[{"rounded-s":Z()}],"rounded-e":[{"rounded-e":Z()}],"rounded-t":[{"rounded-t":Z()}],"rounded-r":[{"rounded-r":Z()}],"rounded-b":[{"rounded-b":Z()}],"rounded-l":[{"rounded-l":Z()}],"rounded-ss":[{"rounded-ss":Z()}],"rounded-se":[{"rounded-se":Z()}],"rounded-ee":[{"rounded-ee":Z()}],"rounded-es":[{"rounded-es":Z()}],"rounded-tl":[{"rounded-tl":Z()}],"rounded-tr":[{"rounded-tr":Z()}],"rounded-br":[{"rounded-br":Z()}],"rounded-bl":[{"rounded-bl":Z()}],"border-w":[{border:pe()}],"border-w-x":[{"border-x":pe()}],"border-w-y":[{"border-y":pe()}],"border-w-s":[{"border-s":pe()}],"border-w-e":[{"border-e":pe()}],"border-w-t":[{"border-t":pe()}],"border-w-r":[{"border-r":pe()}],"border-w-b":[{"border-b":pe()}],"border-w-l":[{"border-l":pe()}],"divide-x":[{"divide-x":pe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":pe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...he(),"hidden","none"]}],"divide-style":[{divide:[...he(),"hidden","none"]}],"border-color":[{border:X()}],"border-color-x":[{"border-x":X()}],"border-color-y":[{"border-y":X()}],"border-color-s":[{"border-s":X()}],"border-color-e":[{"border-e":X()}],"border-color-t":[{"border-t":X()}],"border-color-r":[{"border-r":X()}],"border-color-b":[{"border-b":X()}],"border-color-l":[{"border-l":X()}],"divide-color":[{divide:X()}],"outline-style":[{outline:[...he(),"none","hidden"]}],"outline-offset":[{"outline-offset":[mt,et,Je]}],"outline-w":[{outline:["",mt,Sl,Wo]}],"outline-color":[{outline:X()}],shadow:[{shadow:["","none",m,Ru,Cu]}],"shadow-color":[{shadow:X()}],"inset-shadow":[{"inset-shadow":["none",g,Ru,Cu]}],"inset-shadow-color":[{"inset-shadow":X()}],"ring-w":[{ring:pe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:X()}],"ring-offset-w":[{"ring-offset":[mt,Wo]}],"ring-offset-color":[{"ring-offset":X()}],"inset-ring-w":[{"inset-ring":pe()}],"inset-ring-color":[{"inset-ring":X()}],"text-shadow":[{"text-shadow":["none",b,Ru,Cu]}],"text-shadow-color":[{"text-shadow":X()}],opacity:[{opacity:[mt,et,Je]}],"mix-blend":[{"mix-blend":[...Ee(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ee()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[mt]}],"mask-image-linear-from-pos":[{"mask-linear-from":de()}],"mask-image-linear-to-pos":[{"mask-linear-to":de()}],"mask-image-linear-from-color":[{"mask-linear-from":X()}],"mask-image-linear-to-color":[{"mask-linear-to":X()}],"mask-image-t-from-pos":[{"mask-t-from":de()}],"mask-image-t-to-pos":[{"mask-t-to":de()}],"mask-image-t-from-color":[{"mask-t-from":X()}],"mask-image-t-to-color":[{"mask-t-to":X()}],"mask-image-r-from-pos":[{"mask-r-from":de()}],"mask-image-r-to-pos":[{"mask-r-to":de()}],"mask-image-r-from-color":[{"mask-r-from":X()}],"mask-image-r-to-color":[{"mask-r-to":X()}],"mask-image-b-from-pos":[{"mask-b-from":de()}],"mask-image-b-to-pos":[{"mask-b-to":de()}],"mask-image-b-from-color":[{"mask-b-from":X()}],"mask-image-b-to-color":[{"mask-b-to":X()}],"mask-image-l-from-pos":[{"mask-l-from":de()}],"mask-image-l-to-pos":[{"mask-l-to":de()}],"mask-image-l-from-color":[{"mask-l-from":X()}],"mask-image-l-to-color":[{"mask-l-to":X()}],"mask-image-x-from-pos":[{"mask-x-from":de()}],"mask-image-x-to-pos":[{"mask-x-to":de()}],"mask-image-x-from-color":[{"mask-x-from":X()}],"mask-image-x-to-color":[{"mask-x-to":X()}],"mask-image-y-from-pos":[{"mask-y-from":de()}],"mask-image-y-to-pos":[{"mask-y-to":de()}],"mask-image-y-from-color":[{"mask-y-from":X()}],"mask-image-y-to-color":[{"mask-y-to":X()}],"mask-image-radial":[{"mask-radial":[et,Je]}],"mask-image-radial-from-pos":[{"mask-radial-from":de()}],"mask-image-radial-to-pos":[{"mask-radial-to":de()}],"mask-image-radial-from-color":[{"mask-radial-from":X()}],"mask-image-radial-to-color":[{"mask-radial-to":X()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":M()}],"mask-image-conic-pos":[{"mask-conic":[mt]}],"mask-image-conic-from-pos":[{"mask-conic-from":de()}],"mask-image-conic-to-pos":[{"mask-conic-to":de()}],"mask-image-conic-from-color":[{"mask-conic-from":X()}],"mask-image-conic-to-color":[{"mask-conic-to":X()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ne()}],"mask-repeat":[{mask:G()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",et,Je]}],filter:[{filter:["","none",et,Je]}],blur:[{blur:le()}],brightness:[{brightness:[mt,et,Je]}],contrast:[{contrast:[mt,et,Je]}],"drop-shadow":[{"drop-shadow":["","none",j,Ru,Cu]}],"drop-shadow-color":[{"drop-shadow":X()}],grayscale:[{grayscale:["",mt,et,Je]}],"hue-rotate":[{"hue-rotate":[mt,et,Je]}],invert:[{invert:["",mt,et,Je]}],saturate:[{saturate:[mt,et,Je]}],sepia:[{sepia:["",mt,et,Je]}],"backdrop-filter":[{"backdrop-filter":["","none",et,Je]}],"backdrop-blur":[{"backdrop-blur":le()}],"backdrop-brightness":[{"backdrop-brightness":[mt,et,Je]}],"backdrop-contrast":[{"backdrop-contrast":[mt,et,Je]}],"backdrop-grayscale":[{"backdrop-grayscale":["",mt,et,Je]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[mt,et,Je]}],"backdrop-invert":[{"backdrop-invert":["",mt,et,Je]}],"backdrop-opacity":[{"backdrop-opacity":[mt,et,Je]}],"backdrop-saturate":[{"backdrop-saturate":[mt,et,Je]}],"backdrop-sepia":[{"backdrop-sepia":["",mt,et,Je]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":k()}],"border-spacing-x":[{"border-spacing-x":k()}],"border-spacing-y":[{"border-spacing-y":k()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",et,Je]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[mt,"initial",et,Je]}],ease:[{ease:["linear","initial",N,et,Je]}],delay:[{delay:[mt,et,Je]}],animate:[{animate:["none",S,et,Je]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,et,Je]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:Se()}],"rotate-x":[{"rotate-x":Se()}],"rotate-y":[{"rotate-y":Se()}],"rotate-z":[{"rotate-z":Se()}],scale:[{scale:be()}],"scale-x":[{"scale-x":be()}],"scale-y":[{"scale-y":be()}],"scale-z":[{"scale-z":be()}],"scale-3d":["scale-3d"],skew:[{skew:ve()}],"skew-x":[{"skew-x":ve()}],"skew-y":[{"skew-y":ve()}],transform:[{transform:[et,Je,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:we()}],"translate-x":[{"translate-x":we()}],"translate-y":[{"translate-y":we()}],"translate-z":[{"translate-z":we()}],"translate-none":["translate-none"],accent:[{accent:X()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:X()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",et,Je]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",et,Je]}],fill:[{fill:["none",...X()]}],"stroke-w":[{stroke:[mt,Sl,Wo,Yp]}],stroke:[{stroke:["none",...X()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},P6=m6(D6);function gn(...e){return P6(K_(e))}const I6=Q_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function He({className:e,variant:t,size:s,asChild:o=!1,...i}){const a=o?G_:"button";return d.jsx(a,{"data-slot":"button",className:gn(I6({variant:t,size:s,className:e})),...i})}function GS(){const e=qt();return d.jsx("div",{className:"h-full flex items-center justify-center",children:d.jsxs("section",{className:"w-full min-h-[80vh] flex items-center justify-center relative overflow-hidden px-6 bg-linear-to-r from-main-color/10 via-white to-second-color/10",children:[d.jsx(ct.div,{className:"absolute inset-0 bg-[url('/images/robots-bg.webp')] bg-cover bg-center opacity-10",animate:{scale:[1,1.03,1]},transition:{duration:10,repeat:1/0}}),d.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto text-center",children:[d.jsx(ct.h1,{className:"text-5xl md:text-6xl font-bold text-gray-900 mb-5 leading-tight",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:"Intelligent Robots for Solar Panel Cleaning"}),d.jsxs(ct.p,{className:"text-gray-700 text-lg md:text-xl max-w-2xl mx-auto mb-8 leading-relaxed",initial:{opacity:0,y:25},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},children:[d.jsx("span",{className:"text-second-color",children:"OMEGA "}),"develops advanced solar cleaning robots  combining innovation, precision, and sustainability to keep your panels efficient year-round."]}),d.jsx(ct.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.4,duration:.5},children:d.jsx(He,{onClick:()=>e("/robots"),className:`px-8 py-3 text-lg font-medium rounded-full border-2 \r
                         border-main-color text-main-color bg-white \r
                         hover:bg-main-color hover:text-white \r
                         transition-all duration-300 shadow-sm`,children:"Explore Your Robots"})})]})]})})}function ir({className:e,type:t,...s}){return d.jsx("input",{type:t,"data-slot":"input",className:gn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}function B6(e){const t=U6(e),s=O.forwardRef((o,i)=>{const{children:a,...c}=o,u=O.Children.toArray(a),f=u.find($6);if(f){const h=f.props.children,m=u.map(g=>g===f?O.Children.count(h)>1?O.Children.only(null):O.isValidElement(h)?h.props.children:null:g);return d.jsx(t,{...c,ref:i,children:O.isValidElement(h)?O.cloneElement(h,void 0,m):null})}return d.jsx(t,{...c,ref:i,children:a})});return s.displayName=`${e}.Slot`,s}function U6(e){const t=O.forwardRef((s,o)=>{const{children:i,...a}=s;if(O.isValidElement(i)){const c=F6(i),u=z6(a,i.props);return i.type!==O.Fragment&&(u.ref=o?Kd(o,c):c),O.cloneElement(i,u)}return O.Children.count(i)>1?O.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var L6=Symbol("radix.slottable");function $6(e){return O.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===L6}function z6(e,t){const s={...t};for(const o in t){const i=e[o],a=t[o];/^on[A-Z]/.test(o)?i&&a?s[o]=(...u)=>{const f=a(...u);return i(...u),f}:i&&(s[o]=i):o==="style"?s[o]={...i,...a}:o==="className"&&(s[o]=[i,a].filter(Boolean).join(" "))}return{...e,...s}}function F6(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var V6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ui=V6.reduce((e,t)=>{const s=B6(`Primitive.${t}`),o=O.forwardRef((i,a)=>{const{asChild:c,...u}=i,f=c?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(f,{...u,ref:a})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{}),q6="Label",iE=O.forwardRef((e,t)=>d.jsx(ui.label,{...e,ref:t,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));iE.displayName=q6;var H6=iE;function Qo({className:e,...t}){return d.jsx(H6,{"data-slot":"label",className:gn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function mr({className:e,...t}){return d.jsx("div",{"data-slot":"card",className:gn("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function kn({className:e,...t}){return d.jsx("div",{"data-slot":"card-header",className:gn("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function On({className:e,...t}){return d.jsx("div",{"data-slot":"card-title",className:gn("leading-none font-semibold",e),...t})}function qb({className:e,...t}){return d.jsx("div",{"data-slot":"card-description",className:gn("text-muted-foreground text-sm",e),...t})}function gr({className:e,...t}){return d.jsx("div",{"data-slot":"card-content",className:gn("px-6",e),...t})}/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),W6=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,o)=>o?o.toUpperCase():s.toLowerCase()),WS=e=>{const t=W6(e);return t.charAt(0).toUpperCase()+t.slice(1)},aE=(...e)=>e.filter((t,s,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===s).join(" ").trim(),K6=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Q6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=O.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:i="",children:a,iconNode:c,...u},f)=>O.createElement("svg",{ref:f,...Q6,width:t,height:t,stroke:e,strokeWidth:o?Number(s)*24/Number(t):s,className:aE("lucide",i),...!a&&!K6(u)&&{"aria-hidden":"true"},...u},[...c.map(([h,m])=>O.createElement(h,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=(e,t)=>{const s=O.forwardRef(({className:o,...i},a)=>O.createElement(Y6,{ref:a,iconNode:t,className:aE(`lucide-${G6(WS(e))}`,`lucide-${e}`,o),...i}));return s.displayName=WS(e),s};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],mn=lt("arrow-left",X6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],lE=lt("arrow-right",Z6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],sr=lt("bell",J6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Hb=lt("circle-alert",eP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],rP=lt("circle-check-big",tP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],cE=lt("circle-check",nP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Qd=lt("circle-plus",sP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],wo=lt("circle-x",oP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],aP=lt("clock",iP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],KS=lt("copy",lP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],uE=lt("download",cP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dP=lt("earth",uP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ns=lt("eye-off",fP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zn=lt("eye",hP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=[["path",{d:"M12 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 12 18z",key:"b19h5q"}],["path",{d:"M2 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 2 18z",key:"h7h5ge"}]],mP=lt("fast-forward",pP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],kd=lt("file-text",gP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]],bP=lt("folder-kanban",yP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],dE=lt("funnel",xP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],El=lt("info",vP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],SP=lt("layout-dashboard",wP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Im=lt("loader-circle",jP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],pa=lt("loader",NP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],EP=lt("lock",_P);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Od=lt("log-out",AP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],CP=lt("mail",TP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],MP=lt("map-pin",RP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],OP=lt("menu",kP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Gb=lt("pen-line",DP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],IP=lt("phone",PP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],UP=lt("play",BP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],QS=lt("refresh-ccw",LP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Zn=lt("refresh-cw",$P);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=[["path",{d:"M12 6a2 2 0 0 0-3.414-1.414l-6 6a2 2 0 0 0 0 2.828l6 6A2 2 0 0 0 12 18z",key:"2a1g8i"}],["path",{d:"M22 6a2 2 0 0 0-3.414-1.414l-6 6a2 2 0 0 0 0 2.828l6 6A2 2 0 0 0 22 18z",key:"rg3s36"}]],FP=lt("rewind",zP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Bm=lt("rotate-ccw",VP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Wb=lt("save",qP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Dd=lt("search",HP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],YS=lt("shield-check",GP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],KP=lt("square",WP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],No=lt("trash-2",QP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],or=lt("triangle-alert",YP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Yd=lt("upload",XP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],XS=lt("user-check",ZP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],fE=lt("user-plus",JP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],tI=lt("user",eI);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],nI=lt("users",rI);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ZS=lt("wifi-off",sI);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Ns=lt("wifi",oI);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bo=lt("x",iI),ca="/RobotsWeb/assets/logo%20omega-2022-CzDlAsLJ.png";function hE(e,t){return function(){return e.apply(t,arguments)}}const{toString:aI}=Object.prototype,{getPrototypeOf:Kb}=Object,{iterator:Xd,toStringTag:pE}=Symbol,Zd=(e=>t=>{const s=aI.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),qn=e=>(e=e.toLowerCase(),t=>Zd(t)===e),Jd=e=>t=>typeof t===e,{isArray:Na}=Array,ma=Jd("undefined");function rc(e){return e!==null&&!ma(e)&&e.constructor!==null&&!ma(e.constructor)&&rn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const mE=qn("ArrayBuffer");function lI(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&mE(e.buffer),t}const cI=Jd("string"),rn=Jd("function"),gE=Jd("number"),nc=e=>e!==null&&typeof e=="object",uI=e=>e===!0||e===!1,Yu=e=>{if(Zd(e)!=="object")return!1;const t=Kb(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(pE in e)&&!(Xd in e)},dI=e=>{if(!nc(e)||rc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},fI=qn("Date"),hI=qn("File"),pI=qn("Blob"),mI=qn("FileList"),gI=e=>nc(e)&&rn(e.pipe),yI=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||rn(e.append)&&((t=Zd(e))==="formdata"||t==="object"&&rn(e.toString)&&e.toString()==="[object FormData]"))},bI=qn("URLSearchParams"),[xI,vI,wI,SI]=["ReadableStream","Request","Response","Headers"].map(qn),jI=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function sc(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let o,i;if(typeof e!="object"&&(e=[e]),Na(e))for(o=0,i=e.length;o<i;o++)t.call(null,e[o],o,e);else{if(rc(e))return;const a=s?Object.getOwnPropertyNames(e):Object.keys(e),c=a.length;let u;for(o=0;o<c;o++)u=a[o],t.call(null,e[u],u,e)}}function yE(e,t){if(rc(e))return null;t=t.toLowerCase();const s=Object.keys(e);let o=s.length,i;for(;o-- >0;)if(i=s[o],t===i.toLowerCase())return i;return null}const Zo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,bE=e=>!ma(e)&&e!==Zo;function Um(){const{caseless:e,skipUndefined:t}=bE(this)&&this||{},s={},o=(i,a)=>{const c=e&&yE(s,a)||a;Yu(s[c])&&Yu(i)?s[c]=Um(s[c],i):Yu(i)?s[c]=Um({},i):Na(i)?s[c]=i.slice():(!t||!ma(i))&&(s[c]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&sc(arguments[i],o);return s}const NI=(e,t,s,{allOwnKeys:o}={})=>(sc(t,(i,a)=>{s&&rn(i)?e[a]=hE(i,s):e[a]=i},{allOwnKeys:o}),e),_I=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),EI=(e,t,s,o)=>{e.prototype=Object.create(t.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},AI=(e,t,s,o)=>{let i,a,c;const u={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)c=i[a],(!o||o(c,e,t))&&!u[c]&&(t[c]=e[c],u[c]=!0);e=s!==!1&&Kb(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},TI=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const o=e.indexOf(t,s);return o!==-1&&o===s},CI=e=>{if(!e)return null;if(Na(e))return e;let t=e.length;if(!gE(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},RI=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Kb(Uint8Array)),MI=(e,t)=>{const o=(e&&e[Xd]).call(e);let i;for(;(i=o.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},kI=(e,t)=>{let s;const o=[];for(;(s=e.exec(t))!==null;)o.push(s);return o},OI=qn("HTMLFormElement"),DI=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,o,i){return o.toUpperCase()+i}),JS=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),PI=qn("RegExp"),xE=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),o={};sc(s,(i,a)=>{let c;(c=t(i,a,e))!==!1&&(o[a]=c||i)}),Object.defineProperties(e,o)},II=e=>{xE(e,(t,s)=>{if(rn(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const o=e[s];if(rn(o)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},BI=(e,t)=>{const s={},o=i=>{i.forEach(a=>{s[a]=!0})};return Na(e)?o(e):o(String(e).split(t)),s},UI=()=>{},LI=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function $I(e){return!!(e&&rn(e.append)&&e[pE]==="FormData"&&e[Xd])}const zI=e=>{const t=new Array(10),s=(o,i)=>{if(nc(o)){if(t.indexOf(o)>=0)return;if(rc(o))return o;if(!("toJSON"in o)){t[i]=o;const a=Na(o)?[]:{};return sc(o,(c,u)=>{const f=s(c,i+1);!ma(f)&&(a[u]=f)}),t[i]=void 0,a}}return o};return s(e,0)},FI=qn("AsyncFunction"),VI=e=>e&&(nc(e)||rn(e))&&rn(e.then)&&rn(e.catch),vE=((e,t)=>e?setImmediate:t?((s,o)=>(Zo.addEventListener("message",({source:i,data:a})=>{i===Zo&&a===s&&o.length&&o.shift()()},!1),i=>{o.push(i),Zo.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",rn(Zo.postMessage)),qI=typeof queueMicrotask<"u"?queueMicrotask.bind(Zo):typeof process<"u"&&process.nextTick||vE,HI=e=>e!=null&&rn(e[Xd]),Oe={isArray:Na,isArrayBuffer:mE,isBuffer:rc,isFormData:yI,isArrayBufferView:lI,isString:cI,isNumber:gE,isBoolean:uI,isObject:nc,isPlainObject:Yu,isEmptyObject:dI,isReadableStream:xI,isRequest:vI,isResponse:wI,isHeaders:SI,isUndefined:ma,isDate:fI,isFile:hI,isBlob:pI,isRegExp:PI,isFunction:rn,isStream:gI,isURLSearchParams:bI,isTypedArray:RI,isFileList:mI,forEach:sc,merge:Um,extend:NI,trim:jI,stripBOM:_I,inherits:EI,toFlatObject:AI,kindOf:Zd,kindOfTest:qn,endsWith:TI,toArray:CI,forEachEntry:MI,matchAll:kI,isHTMLForm:OI,hasOwnProperty:JS,hasOwnProp:JS,reduceDescriptors:xE,freezeMethods:II,toObjectSet:BI,toCamelCase:DI,noop:UI,toFiniteNumber:LI,findKey:yE,global:Zo,isContextDefined:bE,isSpecCompliantForm:$I,toJSONObject:zI,isAsyncFn:FI,isThenable:VI,setImmediate:vE,asap:qI,isIterable:HI};function ht(e,t,s,o,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),o&&(this.request=o),i&&(this.response=i,this.status=i.status?i.status:null)}Oe.inherits(ht,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Oe.toJSONObject(this.config),code:this.code,status:this.status}}});const wE=ht.prototype,SE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{SE[e]={value:e}});Object.defineProperties(ht,SE);Object.defineProperty(wE,"isAxiosError",{value:!0});ht.from=(e,t,s,o,i,a)=>{const c=Object.create(wE);Oe.toFlatObject(e,c,function(m){return m!==Error.prototype},h=>h!=="isAxiosError");const u=e&&e.message?e.message:"Error",f=t==null&&e?e.code:t;return ht.call(c,u,f,s,o,i),e&&c.cause==null&&Object.defineProperty(c,"cause",{value:e,configurable:!0}),c.name=e&&e.name||"Error",a&&Object.assign(c,a),c};const GI=null;function Lm(e){return Oe.isPlainObject(e)||Oe.isArray(e)}function jE(e){return Oe.endsWith(e,"[]")?e.slice(0,-2):e}function ej(e,t,s){return e?e.concat(t).map(function(i,a){return i=jE(i),!s&&a?"["+i+"]":i}).join(s?".":""):t}function WI(e){return Oe.isArray(e)&&!e.some(Lm)}const KI=Oe.toFlatObject(Oe,{},null,function(t){return/^is[A-Z]/.test(t)});function ef(e,t,s){if(!Oe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=Oe.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,v){return!Oe.isUndefined(v[w])});const o=s.metaTokens,i=s.visitor||m,a=s.dots,c=s.indexes,f=(s.Blob||typeof Blob<"u"&&Blob)&&Oe.isSpecCompliantForm(t);if(!Oe.isFunction(i))throw new TypeError("visitor must be a function");function h(y){if(y===null)return"";if(Oe.isDate(y))return y.toISOString();if(Oe.isBoolean(y))return y.toString();if(!f&&Oe.isBlob(y))throw new ht("Blob is not supported. Use a Buffer instead.");return Oe.isArrayBuffer(y)||Oe.isTypedArray(y)?f&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function m(y,w,v){let N=y;if(y&&!v&&typeof y=="object"){if(Oe.endsWith(w,"{}"))w=o?w:w.slice(0,-2),y=JSON.stringify(y);else if(Oe.isArray(y)&&WI(y)||(Oe.isFileList(y)||Oe.endsWith(w,"[]"))&&(N=Oe.toArray(y)))return w=jE(w),N.forEach(function(_,M){!(Oe.isUndefined(_)||_===null)&&t.append(c===!0?ej([w],M,a):c===null?w:w+"[]",h(_))}),!1}return Lm(y)?!0:(t.append(ej(v,w,a),h(y)),!1)}const g=[],b=Object.assign(KI,{defaultVisitor:m,convertValue:h,isVisitable:Lm});function j(y,w){if(!Oe.isUndefined(y)){if(g.indexOf(y)!==-1)throw Error("Circular reference detected in "+w.join("."));g.push(y),Oe.forEach(y,function(N,S){(!(Oe.isUndefined(N)||N===null)&&i.call(t,N,Oe.isString(S)?S.trim():S,w,b))===!0&&j(N,w?w.concat(S):[S])}),g.pop()}}if(!Oe.isObject(e))throw new TypeError("data must be an object");return j(e),t}function tj(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(o){return t[o]})}function Qb(e,t){this._pairs=[],e&&ef(e,this,t)}const NE=Qb.prototype;NE.append=function(t,s){this._pairs.push([t,s])};NE.toString=function(t){const s=t?function(o){return t.call(this,o,tj)}:tj;return this._pairs.map(function(i){return s(i[0])+"="+s(i[1])},"").join("&")};function QI(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function _E(e,t,s){if(!t)return e;const o=s&&s.encode||QI;Oe.isFunction(s)&&(s={serialize:s});const i=s&&s.serialize;let a;if(i?a=i(t,s):a=Oe.isURLSearchParams(t)?t.toString():new Qb(t,s).toString(o),a){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class rj{constructor(){this.handlers=[]}use(t,s,o){return this.handlers.push({fulfilled:t,rejected:s,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Oe.forEach(this.handlers,function(o){o!==null&&t(o)})}}const EE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},YI=typeof URLSearchParams<"u"?URLSearchParams:Qb,XI=typeof FormData<"u"?FormData:null,ZI=typeof Blob<"u"?Blob:null,JI={isBrowser:!0,classes:{URLSearchParams:YI,FormData:XI,Blob:ZI},protocols:["http","https","file","blob","url","data"]},Yb=typeof window<"u"&&typeof document<"u",$m=typeof navigator=="object"&&navigator||void 0,eB=Yb&&(!$m||["ReactNative","NativeScript","NS"].indexOf($m.product)<0),tB=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",rB=Yb&&window.location.href||"http://localhost",nB=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Yb,hasStandardBrowserEnv:eB,hasStandardBrowserWebWorkerEnv:tB,navigator:$m,origin:rB},Symbol.toStringTag,{value:"Module"})),Ir={...nB,...JI};function sB(e,t){return ef(e,new Ir.classes.URLSearchParams,{visitor:function(s,o,i,a){return Ir.isNode&&Oe.isBuffer(s)?(this.append(o,s.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function oB(e){return Oe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function iB(e){const t={},s=Object.keys(e);let o;const i=s.length;let a;for(o=0;o<i;o++)a=s[o],t[a]=e[a];return t}function AE(e){function t(s,o,i,a){let c=s[a++];if(c==="__proto__")return!0;const u=Number.isFinite(+c),f=a>=s.length;return c=!c&&Oe.isArray(i)?i.length:c,f?(Oe.hasOwnProp(i,c)?i[c]=[i[c],o]:i[c]=o,!u):((!i[c]||!Oe.isObject(i[c]))&&(i[c]=[]),t(s,o,i[c],a)&&Oe.isArray(i[c])&&(i[c]=iB(i[c])),!u)}if(Oe.isFormData(e)&&Oe.isFunction(e.entries)){const s={};return Oe.forEachEntry(e,(o,i)=>{t(oB(o),i,s,0)}),s}return null}function aB(e,t,s){if(Oe.isString(e))try{return(t||JSON.parse)(e),Oe.trim(e)}catch(o){if(o.name!=="SyntaxError")throw o}return(s||JSON.stringify)(e)}const oc={transitional:EE,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const o=s.getContentType()||"",i=o.indexOf("application/json")>-1,a=Oe.isObject(t);if(a&&Oe.isHTMLForm(t)&&(t=new FormData(t)),Oe.isFormData(t))return i?JSON.stringify(AE(t)):t;if(Oe.isArrayBuffer(t)||Oe.isBuffer(t)||Oe.isStream(t)||Oe.isFile(t)||Oe.isBlob(t)||Oe.isReadableStream(t))return t;if(Oe.isArrayBufferView(t))return t.buffer;if(Oe.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(a){if(o.indexOf("application/x-www-form-urlencoded")>-1)return sB(t,this.formSerializer).toString();if((u=Oe.isFileList(t))||o.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return ef(u?{"files[]":t}:t,f&&new f,this.formSerializer)}}return a||i?(s.setContentType("application/json",!1),aB(t)):t}],transformResponse:[function(t){const s=this.transitional||oc.transitional,o=s&&s.forcedJSONParsing,i=this.responseType==="json";if(Oe.isResponse(t)||Oe.isReadableStream(t))return t;if(t&&Oe.isString(t)&&(o&&!this.responseType||i)){const c=!(s&&s.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(u){if(c)throw u.name==="SyntaxError"?ht.from(u,ht.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ir.classes.FormData,Blob:Ir.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Oe.forEach(["delete","get","head","post","put","patch"],e=>{oc.headers[e]={}});const lB=Oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),cB=e=>{const t={};let s,o,i;return e&&e.split(`
`).forEach(function(c){i=c.indexOf(":"),s=c.substring(0,i).trim().toLowerCase(),o=c.substring(i+1).trim(),!(!s||t[s]&&lB[s])&&(s==="set-cookie"?t[s]?t[s].push(o):t[s]=[o]:t[s]=t[s]?t[s]+", "+o:o)}),t},nj=Symbol("internals");function jl(e){return e&&String(e).trim().toLowerCase()}function Xu(e){return e===!1||e==null?e:Oe.isArray(e)?e.map(Xu):String(e)}function uB(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=s.exec(e);)t[o[1]]=o[2];return t}const dB=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Xp(e,t,s,o,i){if(Oe.isFunction(o))return o.call(this,t,s);if(i&&(t=s),!!Oe.isString(t)){if(Oe.isString(o))return t.indexOf(o)!==-1;if(Oe.isRegExp(o))return o.test(t)}}function fB(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,o)=>s.toUpperCase()+o)}function hB(e,t){const s=Oe.toCamelCase(" "+t);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+s,{value:function(i,a,c){return this[o].call(this,t,i,a,c)},configurable:!0})})}let nn=class{constructor(t){t&&this.set(t)}set(t,s,o){const i=this;function a(u,f,h){const m=jl(f);if(!m)throw new Error("header name must be a non-empty string");const g=Oe.findKey(i,m);(!g||i[g]===void 0||h===!0||h===void 0&&i[g]!==!1)&&(i[g||f]=Xu(u))}const c=(u,f)=>Oe.forEach(u,(h,m)=>a(h,m,f));if(Oe.isPlainObject(t)||t instanceof this.constructor)c(t,s);else if(Oe.isString(t)&&(t=t.trim())&&!dB(t))c(cB(t),s);else if(Oe.isObject(t)&&Oe.isIterable(t)){let u={},f,h;for(const m of t){if(!Oe.isArray(m))throw TypeError("Object iterator must return a key-value pair");u[h=m[0]]=(f=u[h])?Oe.isArray(f)?[...f,m[1]]:[f,m[1]]:m[1]}c(u,s)}else t!=null&&a(s,t,o);return this}get(t,s){if(t=jl(t),t){const o=Oe.findKey(this,t);if(o){const i=this[o];if(!s)return i;if(s===!0)return uB(i);if(Oe.isFunction(s))return s.call(this,i,o);if(Oe.isRegExp(s))return s.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=jl(t),t){const o=Oe.findKey(this,t);return!!(o&&this[o]!==void 0&&(!s||Xp(this,this[o],o,s)))}return!1}delete(t,s){const o=this;let i=!1;function a(c){if(c=jl(c),c){const u=Oe.findKey(o,c);u&&(!s||Xp(o,o[u],u,s))&&(delete o[u],i=!0)}}return Oe.isArray(t)?t.forEach(a):a(t),i}clear(t){const s=Object.keys(this);let o=s.length,i=!1;for(;o--;){const a=s[o];(!t||Xp(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const s=this,o={};return Oe.forEach(this,(i,a)=>{const c=Oe.findKey(o,a);if(c){s[c]=Xu(i),delete s[a];return}const u=t?fB(a):String(a).trim();u!==a&&delete s[a],s[u]=Xu(i),o[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return Oe.forEach(this,(o,i)=>{o!=null&&o!==!1&&(s[i]=t&&Oe.isArray(o)?o.join(", "):o)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const o=new this(t);return s.forEach(i=>o.set(i)),o}static accessor(t){const o=(this[nj]=this[nj]={accessors:{}}).accessors,i=this.prototype;function a(c){const u=jl(c);o[u]||(hB(i,c),o[u]=!0)}return Oe.isArray(t)?t.forEach(a):a(t),this}};nn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Oe.reduceDescriptors(nn.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(o){this[s]=o}}});Oe.freezeMethods(nn);function Zp(e,t){const s=this||oc,o=t||s,i=nn.from(o.headers);let a=o.data;return Oe.forEach(e,function(u){a=u.call(s,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function TE(e){return!!(e&&e.__CANCEL__)}function _a(e,t,s){ht.call(this,e??"canceled",ht.ERR_CANCELED,t,s),this.name="CanceledError"}Oe.inherits(_a,ht,{__CANCEL__:!0});function CE(e,t,s){const o=s.config.validateStatus;!s.status||!o||o(s.status)?e(s):t(new ht("Request failed with status code "+s.status,[ht.ERR_BAD_REQUEST,ht.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function pB(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function mB(e,t){e=e||10;const s=new Array(e),o=new Array(e);let i=0,a=0,c;return t=t!==void 0?t:1e3,function(f){const h=Date.now(),m=o[a];c||(c=h),s[i]=f,o[i]=h;let g=a,b=0;for(;g!==i;)b+=s[g++],g=g%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),h-c<t)return;const j=m&&h-m;return j?Math.round(b*1e3/j):void 0}}function gB(e,t){let s=0,o=1e3/t,i,a;const c=(h,m=Date.now())=>{s=m,i=null,a&&(clearTimeout(a),a=null),e(...h)};return[(...h)=>{const m=Date.now(),g=m-s;g>=o?c(h,m):(i=h,a||(a=setTimeout(()=>{a=null,c(i)},o-g)))},()=>i&&c(i)]}const Pd=(e,t,s=3)=>{let o=0;const i=mB(50,250);return gB(a=>{const c=a.loaded,u=a.lengthComputable?a.total:void 0,f=c-o,h=i(f),m=c<=u;o=c;const g={loaded:c,total:u,progress:u?c/u:void 0,bytes:f,rate:h||void 0,estimated:h&&u&&m?(u-c)/h:void 0,event:a,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(g)},s)},sj=(e,t)=>{const s=e!=null;return[o=>t[0]({lengthComputable:s,total:e,loaded:o}),t[1]]},oj=e=>(...t)=>Oe.asap(()=>e(...t)),yB=Ir.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,Ir.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(Ir.origin),Ir.navigator&&/(msie|trident)/i.test(Ir.navigator.userAgent)):()=>!0,bB=Ir.hasStandardBrowserEnv?{write(e,t,s,o,i,a,c){if(typeof document>"u")return;const u=[`${e}=${encodeURIComponent(t)}`];Oe.isNumber(s)&&u.push(`expires=${new Date(s).toUTCString()}`),Oe.isString(o)&&u.push(`path=${o}`),Oe.isString(i)&&u.push(`domain=${i}`),a===!0&&u.push("secure"),Oe.isString(c)&&u.push(`SameSite=${c}`),document.cookie=u.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function xB(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function vB(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function RE(e,t,s){let o=!xB(t);return e&&(o||s==!1)?vB(e,t):t}const ij=e=>e instanceof nn?{...e}:e;function ii(e,t){t=t||{};const s={};function o(h,m,g,b){return Oe.isPlainObject(h)&&Oe.isPlainObject(m)?Oe.merge.call({caseless:b},h,m):Oe.isPlainObject(m)?Oe.merge({},m):Oe.isArray(m)?m.slice():m}function i(h,m,g,b){if(Oe.isUndefined(m)){if(!Oe.isUndefined(h))return o(void 0,h,g,b)}else return o(h,m,g,b)}function a(h,m){if(!Oe.isUndefined(m))return o(void 0,m)}function c(h,m){if(Oe.isUndefined(m)){if(!Oe.isUndefined(h))return o(void 0,h)}else return o(void 0,m)}function u(h,m,g){if(g in t)return o(h,m);if(g in e)return o(void 0,h)}const f={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u,headers:(h,m,g)=>i(ij(h),ij(m),g,!0)};return Oe.forEach(Object.keys({...e,...t}),function(m){const g=f[m]||i,b=g(e[m],t[m],m);Oe.isUndefined(b)&&g!==u||(s[m]=b)}),s}const ME=e=>{const t=ii({},e);let{data:s,withXSRFToken:o,xsrfHeaderName:i,xsrfCookieName:a,headers:c,auth:u}=t;if(t.headers=c=nn.from(c),t.url=_E(RE(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&c.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),Oe.isFormData(s)){if(Ir.hasStandardBrowserEnv||Ir.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(Oe.isFunction(s.getHeaders)){const f=s.getHeaders(),h=["content-type","content-length"];Object.entries(f).forEach(([m,g])=>{h.includes(m.toLowerCase())&&c.set(m,g)})}}if(Ir.hasStandardBrowserEnv&&(o&&Oe.isFunction(o)&&(o=o(t)),o||o!==!1&&yB(t.url))){const f=i&&a&&bB.read(a);f&&c.set(i,f)}return t},wB=typeof XMLHttpRequest<"u",SB=wB&&function(e){return new Promise(function(s,o){const i=ME(e);let a=i.data;const c=nn.from(i.headers).normalize();let{responseType:u,onUploadProgress:f,onDownloadProgress:h}=i,m,g,b,j,y;function w(){j&&j(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function N(){if(!v)return;const _=nn.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),A={data:!u||u==="text"||u==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:_,config:e,request:v};CE(function(R){s(R),w()},function(R){o(R),w()},A),v=null}"onloadend"in v?v.onloadend=N:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(N)},v.onabort=function(){v&&(o(new ht("Request aborted",ht.ECONNABORTED,e,v)),v=null)},v.onerror=function(M){const A=M&&M.message?M.message:"Network Error",C=new ht(A,ht.ERR_NETWORK,e,v);C.event=M||null,o(C),v=null},v.ontimeout=function(){let M=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const A=i.transitional||EE;i.timeoutErrorMessage&&(M=i.timeoutErrorMessage),o(new ht(M,A.clarifyTimeoutError?ht.ETIMEDOUT:ht.ECONNABORTED,e,v)),v=null},a===void 0&&c.setContentType(null),"setRequestHeader"in v&&Oe.forEach(c.toJSON(),function(M,A){v.setRequestHeader(A,M)}),Oe.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),u&&u!=="json"&&(v.responseType=i.responseType),h&&([b,y]=Pd(h,!0),v.addEventListener("progress",b)),f&&v.upload&&([g,j]=Pd(f),v.upload.addEventListener("progress",g),v.upload.addEventListener("loadend",j)),(i.cancelToken||i.signal)&&(m=_=>{v&&(o(!_||_.type?new _a(null,e,v):_),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const S=pB(i.url);if(S&&Ir.protocols.indexOf(S)===-1){o(new ht("Unsupported protocol "+S+":",ht.ERR_BAD_REQUEST,e));return}v.send(a||null)})},jB=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let o=new AbortController,i;const a=function(h){if(!i){i=!0,u();const m=h instanceof Error?h:this.reason;o.abort(m instanceof ht?m:new _a(m instanceof Error?m.message:m))}};let c=t&&setTimeout(()=>{c=null,a(new ht(`timeout ${t} of ms exceeded`,ht.ETIMEDOUT))},t);const u=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(a):h.removeEventListener("abort",a)}),e=null)};e.forEach(h=>h.addEventListener("abort",a));const{signal:f}=o;return f.unsubscribe=()=>Oe.asap(u),f}},NB=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let o=0,i;for(;o<s;)i=o+t,yield e.slice(o,i),o=i},_B=async function*(e,t){for await(const s of EB(e))yield*NB(s,t)},EB=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:o}=await t.read();if(s)break;yield o}}finally{await t.cancel()}},aj=(e,t,s,o)=>{const i=_B(e,t);let a=0,c,u=f=>{c||(c=!0,o&&o(f))};return new ReadableStream({async pull(f){try{const{done:h,value:m}=await i.next();if(h){u(),f.close();return}let g=m.byteLength;if(s){let b=a+=g;s(b)}f.enqueue(new Uint8Array(m))}catch(h){throw u(h),h}},cancel(f){return u(f),i.return()}},{highWaterMark:2})},lj=64*1024,{isFunction:Mu}=Oe,AB=(({Request:e,Response:t})=>({Request:e,Response:t}))(Oe.global),{ReadableStream:cj,TextEncoder:uj}=Oe.global,dj=(e,...t)=>{try{return!!e(...t)}catch{return!1}},TB=e=>{e=Oe.merge.call({skipUndefined:!0},AB,e);const{fetch:t,Request:s,Response:o}=e,i=t?Mu(t):typeof fetch=="function",a=Mu(s),c=Mu(o);if(!i)return!1;const u=i&&Mu(cj),f=i&&(typeof uj=="function"?(y=>w=>y.encode(w))(new uj):async y=>new Uint8Array(await new s(y).arrayBuffer())),h=a&&u&&dj(()=>{let y=!1;const w=new s(Ir.origin,{body:new cj,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!w}),m=c&&u&&dj(()=>Oe.isReadableStream(new o("").body)),g={stream:m&&(y=>y.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!g[y]&&(g[y]=(w,v)=>{let N=w&&w[y];if(N)return N.call(w);throw new ht(`Response type '${y}' is not supported`,ht.ERR_NOT_SUPPORT,v)})});const b=async y=>{if(y==null)return 0;if(Oe.isBlob(y))return y.size;if(Oe.isSpecCompliantForm(y))return(await new s(Ir.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(Oe.isArrayBufferView(y)||Oe.isArrayBuffer(y))return y.byteLength;if(Oe.isURLSearchParams(y)&&(y=y+""),Oe.isString(y))return(await f(y)).byteLength},j=async(y,w)=>{const v=Oe.toFiniteNumber(y.getContentLength());return v??b(w)};return async y=>{let{url:w,method:v,data:N,signal:S,cancelToken:_,timeout:M,onDownloadProgress:A,onUploadProgress:C,responseType:R,headers:k,withCredentials:U="same-origin",fetchOptions:L}=ME(y),te=t||fetch;R=R?(R+"").toLowerCase():"text";let V=jB([S,_&&_.toAbortSignal()],M),ie=null;const H=V&&V.unsubscribe&&(()=>{V.unsubscribe()});let re;try{if(C&&h&&v!=="get"&&v!=="head"&&(re=await j(k,N))!==0){let B=new s(w,{method:"POST",body:N,duplex:"half"}),z;if(Oe.isFormData(N)&&(z=B.headers.get("content-type"))&&k.setContentType(z),B.body){const[Z,pe]=sj(re,Pd(oj(C)));N=aj(B.body,lj,Z,pe)}}Oe.isString(U)||(U=U?"include":"omit");const $=a&&"credentials"in s.prototype,K={...L,signal:V,method:v.toUpperCase(),headers:k.normalize().toJSON(),body:N,duplex:"half",credentials:$?U:void 0};ie=a&&new s(w,K);let X=await(a?te(ie,L):te(w,K));const ne=m&&(R==="stream"||R==="response");if(m&&(A||ne&&H)){const B={};["status","statusText","headers"].forEach(he=>{B[he]=X[he]});const z=Oe.toFiniteNumber(X.headers.get("content-length")),[Z,pe]=A&&sj(z,Pd(oj(A),!0))||[];X=new o(aj(X.body,lj,Z,()=>{pe&&pe(),H&&H()}),B)}R=R||"text";let G=await g[Oe.findKey(g,R)||"text"](X,y);return!ne&&H&&H(),await new Promise((B,z)=>{CE(B,z,{data:G,headers:nn.from(X.headers),status:X.status,statusText:X.statusText,config:y,request:ie})})}catch($){throw H&&H(),$&&$.name==="TypeError"&&/Load failed|fetch/i.test($.message)?Object.assign(new ht("Network Error",ht.ERR_NETWORK,y,ie),{cause:$.cause||$}):ht.from($,$&&$.code,y,ie)}}},CB=new Map,kE=e=>{let t=e&&e.env||{};const{fetch:s,Request:o,Response:i}=t,a=[o,i,s];let c=a.length,u=c,f,h,m=CB;for(;u--;)f=a[u],h=m.get(f),h===void 0&&m.set(f,h=u?new Map:TB(t)),m=h;return h};kE();const Xb={http:GI,xhr:SB,fetch:{get:kE}};Oe.forEach(Xb,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const fj=e=>`- ${e}`,RB=e=>Oe.isFunction(e)||e===null||e===!1;function MB(e,t){e=Oe.isArray(e)?e:[e];const{length:s}=e;let o,i;const a={};for(let c=0;c<s;c++){o=e[c];let u;if(i=o,!RB(o)&&(i=Xb[(u=String(o)).toLowerCase()],i===void 0))throw new ht(`Unknown adapter '${u}'`);if(i&&(Oe.isFunction(i)||(i=i.get(t))))break;a[u||"#"+c]=i}if(!i){const c=Object.entries(a).map(([f,h])=>`adapter ${f} `+(h===!1?"is not supported by the environment":"is not available in the build"));let u=s?c.length>1?`since :
`+c.map(fj).join(`
`):" "+fj(c[0]):"as no adapter specified";throw new ht("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i}const OE={getAdapter:MB,adapters:Xb};function Jp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new _a(null,e)}function hj(e){return Jp(e),e.headers=nn.from(e.headers),e.data=Zp.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),OE.getAdapter(e.adapter||oc.adapter,e)(e).then(function(o){return Jp(e),o.data=Zp.call(e,e.transformResponse,o),o.headers=nn.from(o.headers),o},function(o){return TE(o)||(Jp(e),o&&o.response&&(o.response.data=Zp.call(e,e.transformResponse,o.response),o.response.headers=nn.from(o.response.headers))),Promise.reject(o)})}const DE="1.13.0",tf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{tf[e]=function(o){return typeof o===e||"a"+(t<1?"n ":" ")+e}});const pj={};tf.transitional=function(t,s,o){function i(a,c){return"[Axios v"+DE+"] Transitional option '"+a+"'"+c+(o?". "+o:"")}return(a,c,u)=>{if(t===!1)throw new ht(i(c," has been removed"+(s?" in "+s:"")),ht.ERR_DEPRECATED);return s&&!pj[c]&&(pj[c]=!0,console.warn(i(c," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(a,c,u):!0}};tf.spelling=function(t){return(s,o)=>(console.warn(`${o} is likely a misspelling of ${t}`),!0)};function kB(e,t,s){if(typeof e!="object")throw new ht("options must be an object",ht.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let i=o.length;for(;i-- >0;){const a=o[i],c=t[a];if(c){const u=e[a],f=u===void 0||c(u,a,e);if(f!==!0)throw new ht("option "+a+" must be "+f,ht.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new ht("Unknown option "+a,ht.ERR_BAD_OPTION)}}const Zu={assertOptions:kB,validators:tf},Xn=Zu.validators;let ni=class{constructor(t){this.defaults=t||{},this.interceptors={request:new rj,response:new rj}}async request(t,s){try{return await this._request(t,s)}catch(o){if(o instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{o.stack?a&&!String(o.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+a):o.stack=a}catch{}}throw o}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=ii(this.defaults,s);const{transitional:o,paramsSerializer:i,headers:a}=s;o!==void 0&&Zu.assertOptions(o,{silentJSONParsing:Xn.transitional(Xn.boolean),forcedJSONParsing:Xn.transitional(Xn.boolean),clarifyTimeoutError:Xn.transitional(Xn.boolean)},!1),i!=null&&(Oe.isFunction(i)?s.paramsSerializer={serialize:i}:Zu.assertOptions(i,{encode:Xn.function,serialize:Xn.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Zu.assertOptions(s,{baseUrl:Xn.spelling("baseURL"),withXsrfToken:Xn.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let c=a&&Oe.merge(a.common,a[s.method]);a&&Oe.forEach(["delete","get","head","post","put","patch","common"],y=>{delete a[y]}),s.headers=nn.concat(c,a);const u=[];let f=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(s)===!1||(f=f&&w.synchronous,u.unshift(w.fulfilled,w.rejected))});const h=[];this.interceptors.response.forEach(function(w){h.push(w.fulfilled,w.rejected)});let m,g=0,b;if(!f){const y=[hj.bind(this),void 0];for(y.unshift(...u),y.push(...h),b=y.length,m=Promise.resolve(s);g<b;)m=m.then(y[g++],y[g++]);return m}b=u.length;let j=s;for(;g<b;){const y=u[g++],w=u[g++];try{j=y(j)}catch(v){w.call(this,v);break}}try{m=hj.call(this,j)}catch(y){return Promise.reject(y)}for(g=0,b=h.length;g<b;)m=m.then(h[g++],h[g++]);return m}getUri(t){t=ii(this.defaults,t);const s=RE(t.baseURL,t.url,t.allowAbsoluteUrls);return _E(s,t.params,t.paramsSerializer)}};Oe.forEach(["delete","get","head","options"],function(t){ni.prototype[t]=function(s,o){return this.request(ii(o||{},{method:t,url:s,data:(o||{}).data}))}});Oe.forEach(["post","put","patch"],function(t){function s(o){return function(a,c,u){return this.request(ii(u||{},{method:t,headers:o?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}ni.prototype[t]=s(),ni.prototype[t+"Form"]=s(!0)});let OB=class PE{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(a){s=a});const o=this;this.promise.then(i=>{if(!o._listeners)return;let a=o._listeners.length;for(;a-- >0;)o._listeners[a](i);o._listeners=null}),this.promise.then=i=>{let a;const c=new Promise(u=>{o.subscribe(u),a=u}).then(i);return c.cancel=function(){o.unsubscribe(a)},c},t(function(a,c,u){o.reason||(o.reason=new _a(a,c,u),s(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=o=>{t.abort(o)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new PE(function(i){t=i}),cancel:t}}};function DB(e){return function(s){return e.apply(null,s)}}function PB(e){return Oe.isObject(e)&&e.isAxiosError===!0}const zm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(zm).forEach(([e,t])=>{zm[t]=e});function IE(e){const t=new ni(e),s=hE(ni.prototype.request,t);return Oe.extend(s,ni.prototype,t,{allOwnKeys:!0}),Oe.extend(s,t,null,{allOwnKeys:!0}),s.create=function(i){return IE(ii(e,i))},s}const rt=IE(oc);rt.Axios=ni;rt.CanceledError=_a;rt.CancelToken=OB;rt.isCancel=TE;rt.VERSION=DE;rt.toFormData=ef;rt.AxiosError=ht;rt.Cancel=rt.CanceledError;rt.all=function(t){return Promise.all(t)};rt.spread=DB;rt.isAxiosError=PB;rt.mergeConfig=ii;rt.AxiosHeaders=nn;rt.formToJSON=e=>AE(Oe.isHTMLForm(e)?new FormData(e):e);rt.getAdapter=OE.getAdapter;rt.HttpStatusCode=zm;rt.default=rt;const{Axios:Wz,AxiosError:Kz,CanceledError:Qz,isCancel:Yz,CancelToken:Xz,VERSION:Zz,all:Jz,Cancel:eF,isAxiosError:tF,spread:rF,toFormData:nF,AxiosHeaders:sF,HttpStatusCode:oF,formToJSON:iF,getAdapter:aF,mergeConfig:lF}=rt,ai=rt.create({baseURL:"/api",headers:{"Content-Type":"application/json"}}),rf=async(e,t,s={})=>{try{return(await ai.post(e,t,s)).data}catch(o){throw console.error("POST Error: ",o),o}};function IB(){const{login:e}=ci(),t=qt(),[s,o]=O.useState(""),[i,a]=O.useState(""),[c,u]=O.useState(!1),[f,h]=O.useState(!1),m="http://localhost/robots_api/api",g=async j=>{j.preventDefault(),u(!0);try{const y=await rf(`${m}/login`,{username:s,password:i});if(y?.message==="Login successful"&&y?.user){const w=y.user.Username||y.user.username||s,v=y.user.ProjectName||"My Project",N=w&&typeof w=="string"&&w.toLowerCase().includes("admin");e(N?"admin":"user",v,w),N?(qe.success(`Welcome back, Admin ${w}!`),t("/homeDashboard",{replace:!0})):(qe.success(`Welcome back, ${w}!`),t("/robots",{replace:!0}))}else qe.error("Invalid username or password")}catch(y){qe.error(y.response?.data?.message||"Login failed. Please try again.")}finally{u(!1)}},b=()=>{h(j=>!j)};return d.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-linear-to-br from-main-color/20 via-white to-second-color/20 relative overflow-hidden",children:[d.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[d.jsx(ct.div,{className:"absolute top-[-10%] left-[-10%] w-[300px] h-[300px] bg-main-color/20 rounded-full blur-3xl",animate:{x:[0,100,0],y:[0,50,0]},transition:{duration:8,repeat:1/0,repeatType:"mirror"}}),d.jsx(ct.div,{className:"absolute bottom-[-10%] right-[-10%] w-[300px] h-[300px] bg-second-color/20 rounded-full blur-3xl",animate:{x:[0,-100,0],y:[0,-50,0]},transition:{duration:9,repeat:1/0,repeatType:"mirror"}})]}),d.jsx(ct.div,{className:"relative w-full max-w-md p-8",initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.9,ease:"easeOut"},children:d.jsxs(mr,{className:"shadow-2xl border border-gray-100 bg-white rounded-3xl overflow-hidden",children:[d.jsxs(kn,{className:"text-center space-y-3",children:[d.jsx(ct.img,{src:ca,alt:"Omega Logo",className:"h-16 mx-auto object-contain",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.7}}),d.jsx(On,{className:"text-3xl font-extrabold text-main-color tracking-tight",children:"Welcome Back"}),d.jsx(qb,{className:"text-gray-500 text-sm",children:"Sign in to access your Omega Robotics"})]}),d.jsx(gr,{children:d.jsxs("form",{onSubmit:g,className:"space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Qo,{htmlFor:"username",className:"text-gray-700 font-medium",children:"Username"}),d.jsxs("div",{className:"relative",children:[d.jsx(tI,{className:"absolute left-3 top-3 text-gray-400",size:18}),d.jsx(ir,{id:"username",type:"text",placeholder:"Enter your username",value:s,onChange:j=>o(j.target.value),required:!0,className:"pl-9 bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-main-color focus:border-main-color rounded-xl"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Qo,{htmlFor:"password",className:"text-gray-700 font-medium",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(EP,{className:"absolute left-3 top-3 text-gray-400",size:18}),d.jsx(ir,{id:"password",type:f?"text":"password",placeholder:"",value:i,onChange:j=>a(j.target.value),required:!0,className:"pl-9 pr-10 bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-main-color focus:border-main-color rounded-xl"}),d.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600 transition-colors",onClick:b,"aria-label":f?"Hide password":"Show password",children:f?d.jsx(ns,{size:20,"aria-hidden":"true"}):d.jsx(zn,{size:20,"aria-hidden":"true"})})]})]}),d.jsx(ct.div,{whileHover:{scale:1.02},children:d.jsx(He,{type:"submit",disabled:c,className:`relative w-full py-3 mt-4 text-lg font-semibold \r
                             border-2 border-main-color text-white\r
                             bg-linear-to-r bg-main-color\r
                             rounded-xl shadow-md hover:shadow-xl transition-all duration-300`,children:d.jsx("span",{className:"relative z-10",children:c?"Logging in...":"Sign In"})})})]})})]})})]})}const BB=Q_("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Ln({className:e,variant:t,asChild:s=!1,...o}){const i=s?G_:"span";return d.jsx(i,{"data-slot":"badge",className:gn(BB({variant:t}),e),...o})}const mj=`
@keyframes blink-red {
  0%, 50% { color: #ef4444; }
  51%, 100% { color: currentColor; }
}

@keyframes blink-blue {
  0%, 50% { color: #3b82f6; }
  51%, 100% { color: currentColor; }
}

.bell-blink-red {
  animation: blink-red 2s infinite;
}

.bell-blink-blue {
  animation: blink-blue 2s infinite;
}
`;function gj({onClose:e,mode:t="dropdown",position:s="header"}){const[o,i]=O.useState([]),[a,c]=O.useState([]),[u,f]=O.useState(!0),[h,m]=O.useState(null),[g,b]=O.useState([]),[j,y]=O.useState([]),[w,v]=O.useState(""),[N,S]=O.useState("all"),[_,M]=O.useState(null),[A,C]=O.useState(!1),[R,k]=O.useState(null),U="http://localhost/robots_api/api",L=qt(),te=O.useRef(null),V=async()=>{try{const q=await rt.get(`${U}/users`);return console.log("Users fetched:",q.data),Array.isArray(q.data)?q.data:[]}catch(q){return console.error("Failed to fetch users:",q),[]}},ie=async(q,I)=>{try{console.log("Starting to send alert emails for project:",I);const Q=(await V()).filter(T=>{const D=T.ProjectName||T.projectName||"",F=D.trim().toLowerCase()===I.trim().toLowerCase(),me=T.Email||T.email;return console.log(`User: ${T.Username}, Project: ${D}, Email: ${me}, Match: ${F}`),F&&me});if(console.log(`Found ${Q.length} users for project ${I}`,Q),Q.length===0){console.log("No users found for this project with valid emails");return}const{robotName:W,sectionName:ue}=le(q),ae={subject:` Alert Notification - ${I}`,message:`
          <!DOCTYPE html>
          <html>
          <head>
            <style>
              body { font-family: Arial, sans-serif; background-color: #f4f4f4; padding: 20px; }
              .container { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto; }
              .header { background: #ef4444; color: white; padding: 15px; border-radius: 8px; text-align: center; }
              .content { padding: 20px; }
              .alert-details { background: #fef2f2; border-left: 4px solid #ef4444; padding: 15px; margin: 15px 0; }
              .detail-item { margin: 8px 0; }
              .footer { text-align: center; padding: 20px; color: #666; font-size: 12px; }
              .priority { color: #ef4444; font-weight: bold; }
            </style>
          </head>
          <body>
            <div class="container">
              <div class="header">
                <h2> Alert Notification</h2>
              </div>
              <div class="content">
                <h3>Project: ${I}</h3>
                <div class="alert-details">
                  <div class="detail-item"><strong>Alert Message:</strong> ${q.message}</div>
                  <div class="detail-item"><strong>Robot:</strong> ${W}</div>
                  <div class="detail-item"><strong>Section:</strong> ${ue}</div>
                  <div class="detail-item"><strong>Date:</strong> ${q.date}</div>
                  <div class="detail-item"><strong>Time:</strong> ${q.time}</div>
                  ${q.topic_main?`<div class="detail-item"><strong>Topic:</strong> ${q.topic_main}</div>`:""}
                  <div class="detail-item priority">Priority: High - Immediate Attention Required</div>
                </div>
                <p>Please check the system immediately for further details and take appropriate action.</p>
              </div>
              <div class="footer">
                <p>This is an automated alert from your Robot Monitoring System.</p>
                <p>Do not reply to this email.</p>
              </div>
            </div>
          </body>
          </html>
        `,users:Q.map(T=>({email:T.Email||T.email,username:T.Username||T.username,project:T.ProjectName||T.projectName}))};console.log("Sending email data:",ae);const Me=await rt.post(`${U}/send-alert-emails`,ae);return console.log(`Alert emails sent to ${Q.length} users successfully`),Me.data}catch(ee){console.error("Failed to send alert emails:",ee)}};O.useEffect(()=>{Se()},[]),O.useEffect(()=>{A&&be()},[w,N,o,A,_]),O.useEffect(()=>{A&&o.length>0&&_&&re()},[o,A,_]),O.useEffect(()=>{const q=I=>{te.current&&!te.current.contains(I.target)&&e()};return document.addEventListener("mousedown",q),()=>{document.removeEventListener("mousedown",q)}},[e]);const H=q=>{if(!_)return!1;if(q.RobotId){const I=g.find(ee=>ee.id&&ee.id.toString()===q.RobotId.toString());if(I&&I.projectId&&_.projectId)return parseInt(I.projectId)===parseInt(_.projectId)}if(q.topic_main){const I=pe(q.topic_main);if(I&&I.projectId&&_.projectId)return parseInt(I.projectId)===parseInt(_.projectId)}return!1},re=async()=>{try{const q=_?.ProjectName;if(!q){console.log("No current project found, skipping email alerts");return}const I=o.filter(ee=>z(ee)&&K(ee)&&ee.notificationId!==R&&H(ee));if(I.length>0){console.log(`Found ${I.length} new alerts, sending emails...`,I);const ee=I[0];await ie(ee,q),k(ee.notificationId)}}catch(q){console.error("Error in alert email processing:",q)}},$=()=>{if(!A||o.length===0)return"";const q=o.some(ee=>z(ee)&&K(ee)&&H(ee)),I=o.some(ee=>!z(ee)&&K(ee)&&H(ee));return q?"bell-blink-red":I?"bell-blink-blue":""},K=q=>{try{const I=new Date(`${q.date}T${q.time}`);return(new Date-I)/(1e3*60)<5}catch{return!1}},X=()=>{try{const q=document.cookie.split(";");for(let I of q){const[ee,Q]=I.trim().split("=");if(ee==="projectName")return decodeURIComponent(Q)}return null}catch{return null}},ne=async()=>{try{const q=await rt.get(`${U}/projects.php`),I=Array.isArray(q.data)?q.data:[];return y(I),I}catch(q){return console.error("Failed to fetch projects:",q),[]}},G=async q=>{try{return q&&(await ne()).find(Q=>Q.ProjectName&&Q.ProjectName.trim().toLowerCase()===q.trim().toLowerCase())||null}catch{return null}},B=async()=>{try{console.log("Fetching robots from API...");const q=await rt.get(`${U}/robots.php`);console.log("Raw robots API response:",q.data);let I=[];return Array.isArray(q.data)?I=q.data:q.data&&typeof q.data=="object"&&(I=Object.values(q.data)),I}catch(q){return console.error("Failed to fetch robots:",q),[]}},z=q=>q.type==="alert",Z=(q,I)=>{if(!q||!I.Sections)return null;const ee=Object.entries(I.Sections).find(([Q,W])=>W.Topic_main===q);return ee?ee[0]:null},pe=q=>{if(!q||!g.length)return null;for(const I of g)if(I.Sections){for(const[ee,Q]of Object.entries(I.Sections))if(Q.Topic_main===q)return console.log(`Found robot by topic ${q}:`,I),I}return console.log(`No robot found for topic: ${q}`),null},he=q=>{if(!q||!g.length)return"Loading...";const I=q.toString().trim(),ee=g.find(Q=>[Q.id,Q.robotId,Q.RobotId,Q.robot_id].map(ue=>ue?.toString().trim()).filter(Boolean).some(ue=>ue===I));if(ee){const Q=ee.RobotName||ee.robotName||ee.name||ee.robot_name||"Unknown Robot";return console.log(`Found robot: ${Q} for ID: ${q}`,ee),Q}return console.log(`Robot not found for ID: ${q}, available robots:`,g),"Robot Not Found"},Ee=q=>{if(!q)return"Unknown Section";const I=q.split("/");if(console.log("Section topic parts:",I),I.length>=2){const ee=I[1];let Q=ee;return ee==="car"?Q="Trolley":ee==="main"?Q="Robot":Q=ee.charAt(0).toUpperCase()+ee.slice(1),console.log(`Section name: ${Q}`),Q}return"Unknown Section"},de=q=>{if(!q)return"Unknown Robot";const I=q.split("/");if(console.log("Topic parts:",I),I.length>0){let ee=I[0];if(ee)return ee=ee.replace(/^robot_/i,"").replace(/^bot_/i,"").replace(/_/g," ").trim(),ee=ee.split(" ").map(Q=>Q.charAt(0).toUpperCase()+Q.slice(1).toLowerCase()).join(" "),console.log(`Extracted robot name from topic: ${ee}`),ee||"Unknown Robot"}return"Unknown Robot"},le=q=>{if(!q)return{robotName:"Loading...",sectionName:"Loading..."};let I="Unknown Robot",ee="Unknown Section";if(console.log("Getting robot info for notification:",q),q.RobotId&&(I=he(q.RobotId),console.log(`Robot name from RobotId (${q.RobotId}): ${I}`)),(!I||I==="Robot Not Found"||I==="Unknown Robot")&&q.topic_main){const Q=pe(q.topic_main);Q&&(I=Q.RobotName||Q.robotName||Q.name||"Unknown Robot",console.log(`Robot name from topic (${q.topic_main}): ${I}`))}return(!I||I==="Robot Not Found"||I==="Unknown Robot")&&q.topic_main&&(I=de(q.topic_main),console.log(`Robot name extracted from topic: ${I}`)),q.topic_main&&(ee=Ee(q.topic_main)),console.log(`Final result - Robot: ${I}, Section: ${ee}`),{robotName:I,sectionName:ee}},Se=async()=>{try{f(!0),m(null),C(!1);const q=X();console.log("Current project from cookie:",q);const I=await G(q);M(I);const ee=await B();b(ee),C(!0);const Q=await rt.get(`${U}/notifications.php`,{headers:{"Content-Type":"application/json"}}),W=Array.isArray(Q.data)?Q.data:[];console.log("Fetched notifications:",W);const ue=W.sort((ae,Me)=>{try{const T=new Date(`${ae.date}T${ae.time}`);return new Date(`${Me.date}T${Me.time}`)-T}catch{return 0}});i(ue)}catch(q){console.error("Error fetching data:",q),m("Failed to load notifications: "+(q.message||"Unknown error")),C(!0)}finally{f(!1)}},be=()=>{console.log("Applying filters:",{searchTerm:w,filterType:N,notificationsCount:o.length,currentProject:_?.ProjectName});let q=[...o];_&&(q=q.filter(I=>H(I)),console.log(`Filtered to ${q.length} notifications for project ${_.ProjectName}`)),w&&(q=q.filter(I=>{const ee=I.message?.toLowerCase().includes(w.toLowerCase()),Q=I.topic_main?.toLowerCase().includes(w.toLowerCase()),W=I.RobotId&&I.RobotId.toString().includes(w);return ee||Q||W})),N==="alerts"?q=q.filter(I=>z(I)):N==="notifications"&&(q=q.filter(I=>!z(I))),console.log("Final filtered results:",q.length),c(q)},ve=async q=>{try{let I=q.RobotId,ee=null,Q=null;if(!I&&q.topic_main){const W=pe(q.topic_main);W&&(I=W.id,Q=W.RobotName,ee=Z(q.topic_main,W))}if(!I&&_){const W=g.filter(ue=>ue.projectId&&parseInt(ue.projectId)===parseInt(_.projectId));W.length>0&&(I=W[0].id,Q=W[0].RobotName)}if(!I){alert("Cannot open this robot. Missing RobotId or cannot find associated robot.");return}L(`/robots/${I}`,{state:{section:ee,fromNotification:!0,notificationData:q,robotName:Q}}),e&&e()}catch{alert("Error opening robot details. Please try again.")}},we=q=>{const I=z(q),ee="mb-2 p-3 hover:shadow-md cursor-pointer transition-all duration-200 border rounded-lg";return I?`${ee} bg-red-50 border-red-200 hover:border-red-300`:`${ee} bg-blue-50 border-blue-200 hover:border-blue-300`},Pe=q=>z(q)?"text-red-800":"text-blue-800",Te=q=>z(q)?d.jsx(or,{className:"w-4 h-4 text-red-500 mr-2"}):d.jsx(sr,{className:"w-4 h-4 text-blue-500 mr-2"}),ce=q=>z(q)?"Alert":"Notification",Y=()=>{L("/homeDashboard")},se=()=>_?_.ProjectName||"Unknown Project":"All Projects";return t==="page"?d.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[d.jsx("style",{children:mj}),d.jsxs("div",{className:"max-w-6xl mx-auto",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs(He,{variant:"outline",size:"sm",onClick:Y,className:"flex items-center gap-2",children:[d.jsx(mn,{className:"w-4 h-4"}),"Back to Dashboard"]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(sr,{className:`w-8 h-8 text-main-color ${$()}`}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Notifications Dashboard"}),d.jsxs("p",{className:"text-gray-600",children:["Project: ",se()]})]})]})]}),d.jsxs(He,{onClick:Se,className:"flex items-center gap-2 bg-main-color hover:bg-second-color",children:[d.jsx(Zn,{className:"w-4 h-4"}),"Refresh"]})]}),d.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4 mb-6",children:d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsxs("div",{className:"flex-1 relative",children:[d.jsx(Dd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),d.jsx(ir,{placeholder:"Search notifications...",value:w,onChange:q=>v(q.target.value),className:"pl-10"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(He,{variant:N==="all"?"default":"outline",onClick:()=>{console.log("Setting filter to: all"),S("all")},className:"flex items-center gap-2",children:[d.jsx(dE,{className:"w-4 h-4"}),"All"]}),d.jsxs(He,{variant:N==="alerts"?"default":"outline",onClick:()=>{console.log("Setting filter to: alerts"),S("alerts")},className:"flex items-center gap-2 bg-red-100 text-red-700 hover:bg-red-200 border-red-200",children:[d.jsx(or,{className:"w-4 h-4"}),"Alerts"]}),d.jsxs(He,{variant:N==="notifications"?"default":"outline",onClick:()=>{console.log("Setting filter to: notifications"),S("notifications")},className:"flex items-center gap-2 bg-blue-100 text-blue-700 hover:bg-blue-200 border-blue-200",children:[d.jsx(sr,{className:"w-4 h-4"}),"Notifications"]})]})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[d.jsx(mr,{className:"bg-white border-l-4 border-l-blue-500",children:d.jsx(gr,{className:"p-4",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Notifications"}),d.jsx("p",{className:"text-2xl font-bold text-gray-800",children:o.filter(q=>!_||H(q)).length})]}),d.jsx(sr,{className:"w-8 h-8 text-blue-500"})]})})}),d.jsx(mr,{className:"bg-white border-l-4 border-l-red-500",children:d.jsx(gr,{className:"p-4",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Alert Notifications"}),d.jsx("p",{className:"text-2xl font-bold text-gray-800",children:o.filter(q=>z(q)&&(!_||H(q))).length})]}),d.jsx(or,{className:"w-8 h-8 text-red-500"})]})})}),d.jsx(mr,{className:"bg-white border-l-4 border-l-green-500",children:d.jsx(gr,{className:"p-4",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Normal Notifications"}),d.jsx("p",{className:"text-2xl font-bold text-gray-800",children:o.filter(q=>!z(q)&&(!_||H(q))).length})]}),d.jsx(sr,{className:"w-8 h-8 text-green-500"})]})})})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[u&&d.jsxs("div",{className:"flex justify-center items-center py-12",children:[d.jsx(pa,{className:"w-8 h-8 animate-spin text-main-color mr-3"}),d.jsx("span",{className:"text-gray-500 text-lg",children:"Loading notifications..."})]}),h&&d.jsxs("div",{className:"p-8 text-center",children:[d.jsx(or,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),d.jsx("p",{className:"text-red-500 text-lg mb-4",children:h}),d.jsx(He,{onClick:Se,className:"bg-main-color hover:bg-second-color",children:"Try Again"})]}),!u&&!h&&a.length===0&&d.jsxs("div",{className:"p-12 text-center",children:[d.jsx(sr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500 text-lg mb-2",children:_?`No notifications found for project ${_.ProjectName}`:"No notifications found"}),(w||N!=="all")&&d.jsx(He,{variant:"outline",onClick:()=>{v(""),S("all")},className:"mt-2",children:"Clear Filters"})]}),!u&&!h&&a.length>0&&d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[d.jsxs("p",{className:"text-gray-600",children:["Showing ",a.length," of ",o.filter(q=>!_||H(q)).length," notifications",_&&` for ${_.ProjectName}`]}),d.jsx(Ln,{variant:"secondary",className:"text-sm",children:"Sorted by: Newest First"})]}),d.jsx("div",{className:"space-y-4",children:a.slice(0,10).map((q,I)=>{const ee=z(q),{robotName:Q,sectionName:W}=le(q);return d.jsxs(mr,{className:we(q),onClick:()=>ve(q),children:[d.jsx(kn,{className:"p-0 pb-3",children:d.jsxs("div",{className:"",children:[d.jsxs(On,{className:`text-base font-semibold line-clamp-2 flex items-start ${Pe(q)}`,children:[Te(q),d.jsx("span",{className:"",children:q.message})]}),d.jsx(Ln,{variant:ee?"destructive":"secondary",className:"ml-2",children:ce(q)})]})}),d.jsxs(gr,{className:"p-0",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("p",{className:`text-sm ${ee?"text-red-600":"text-blue-600"}`,children:[q.date,"  ",q.time]}),q.topic_main&&d.jsx("span",{className:`text-xs px-2 py-1 rounded ${ee?"bg-red-200 text-red-800":"bg-blue-200 text-blue-800"}`,children:q.topic_main})]}),d.jsxs("div",{className:"mt-2 space-y-1",children:[d.jsxs("div",{children:[W&&d.jsxs("p",{className:"text-sm text-gray-500",children:[d.jsx("strong",{children:"Section:"})," ",W]}),q.topic_main&&d.jsxs("p",{className:"text-sm text-gray-500",children:[d.jsx("strong",{children:"Topic:"})," ",q.topic_main]})]}),q.RobotId&&d.jsxs("p",{className:"text-sm text-gray-500",children:[d.jsx("strong",{children:"Robot ID:"})," ",q.RobotId]})]}),d.jsxs("div",{className:"flex items-center justify-between mt-3",children:[d.jsx("div",{className:"flex items-center gap-2",children:ee&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(or,{className:"w-4 h-4 text-red-500"}),d.jsx("span",{className:"text-sm text-red-600 font-medium",children:"Priority Alert"})]})}),d.jsx(He,{variant:"outline",size:"sm",className:"text-xs",children:"View Robot Details"})]})]})]},q.notificationId||I)})})]})]})]})]}):d.jsxs("div",{ref:te,className:`
        fixed md:absolute 
        top-16 md:top-full 
        right-4 md:right-0
        left-4 md:left-auto
        h-[75vh] md:h-auto 
        w-[calc(100%-2rem)] md:w-80 lg:w-96 
        md:max-h-[80vh] 
        bg-white 
        shadow-2xl rounded-lg 
        border border-gray-200 
        overflow-hidden 
        z-50
        transform transition-all duration-300 ease-in-out
        ${s==="sidebar"?"md:left-0 md:right-auto":"md:right-0"}
      `,onClick:q=>q.stopPropagation(),children:[d.jsx("style",{children:mj}),d.jsx("div",{className:"bg-main-color text-white p-4",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(sr,{className:`w-5 h-5 ${$()}`}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold",children:"Notifications"}),d.jsxs("p",{className:"text-sm text-white/80",children:["Project: ",se()]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:Se,className:"text-white hover:text-gray-200 transition-colors p-1",title:"Refresh notifications",children:d.jsx(Zn,{className:"w-4 h-4"})}),d.jsx("button",{onClick:e,className:"text-white hover:text-gray-200 transition-colors p-1",title:"Close notifications",children:d.jsx(bo,{className:"w-4 h-4"})})]})]})}),d.jsx("div",{className:"p-3 border-b bg-gray-50",children:d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("div",{className:"relative",children:[d.jsx(Dd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),d.jsx(ir,{placeholder:"Search notifications...",value:w,onChange:q=>v(q.target.value),className:"pl-10 text-sm h-9"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(He,{variant:N==="all"?"default":"outline",onClick:()=>{console.log("Setting filter to: all"),S("all")},className:"flex-1 text-xs h-8",children:"All"}),d.jsxs(He,{variant:N==="alerts"?"default":"outline",onClick:()=>{console.log("Setting filter to: alerts"),S("alerts")},className:"flex-1 text-xs h-8 bg-red-100 text-red-700 hover:bg-red-200 border-red-200",children:[d.jsx(or,{className:"w-3 h-3 mr-1"}),"Alerts"]}),d.jsxs(He,{variant:N==="notifications"?"default":"outline",onClick:()=>{console.log("Setting filter to: notifications"),S("notifications")},className:"flex-1 text-xs h-8 bg-blue-100 text-blue-700 hover:bg-blue-200 border-blue-200",children:[d.jsx(sr,{className:"w-3 h-3 mr-1"}),"Notifications"]})]})]})}),d.jsxs("div",{className:"h-[calc(75vh-220px)] md:max-h-[60vh] overflow-y-auto",children:[u&&d.jsxs("div",{className:"flex justify-center items-center py-8",children:[d.jsx(pa,{className:"w-6 h-6 animate-spin text-main-color mr-2"}),d.jsx("span",{className:"text-gray-500 text-sm",children:"Loading notifications..."})]}),h&&d.jsxs("div",{className:"p-4 text-center",children:[d.jsx(or,{className:"w-8 h-8 text-red-500 mx-auto mb-2"}),d.jsx("p",{className:"text-red-500 text-sm mb-2",children:h}),d.jsx("button",{onClick:Se,className:"text-main-color text-sm hover:underline font-medium",children:"Try Again"})]}),!u&&!h&&a.length===0&&d.jsxs("div",{className:"p-6 text-center",children:[d.jsx(sr,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),d.jsx("p",{className:"text-gray-500 text-sm mb-1",children:_?`No notifications for ${_.ProjectName}`:"No notifications found"}),(w||N!=="all")&&d.jsx("button",{onClick:()=>{v(""),S("all")},className:"text-main-color text-sm hover:underline font-medium mt-2",children:"Clear Filters"})]}),!u&&!h&&a.length>0&&d.jsxs("div",{className:"p-3",children:[d.jsx("div",{className:"mb-3 flex justify-between items-center",children:d.jsx(Ln,{variant:"secondary",className:"text-xs",children:"Newest First"})}),d.jsx("div",{className:"space-y-2",children:a.slice(0,10).map((q,I)=>{const ee=z(q),{robotName:Q,sectionName:W}=le(q);return d.jsxs(mr,{className:we(q),onClick:()=>ve(q),children:[d.jsx(kn,{className:"p-0 pb-2",children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs(On,{className:`text-sm font-semibold line-clamp-2 flex items-start ${ee?"text-red-800":"text-blue-800"}`,children:[Te(q),d.jsx("span",{className:"flex-1",children:q.message})]}),d.jsx(Ln,{variant:ee?"destructive":"secondary",className:"ml-2 text-xs",children:ce(q)})]})}),d.jsxs(gr,{className:"p-0",children:[d.jsx("div",{className:"flex justify-between items-center mb-2",children:d.jsxs("p",{className:`text-xs ${ee?"text-red-600":"text-blue-600"}`,children:[q.date,"  ",q.time]})}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{children:d.jsxs("p",{className:"text-xs text-gray-500",children:[d.jsx("strong",{children:"Robot name:"})," ",Q]})}),d.jsx("div",{children:W&&W!=="Unknown Section"&&d.jsxs("p",{className:"text-xs text-gray-500",children:[d.jsx("strong",{children:"Section:"})," ",W]})}),q.RobotId&&d.jsxs("p",{className:"text-xs text-gray-500",children:[d.jsx("strong",{children:"Robot ID:"})," ",q.RobotId]})]}),d.jsxs("div",{className:"flex items-center justify-between mt-2",children:[d.jsx("div",{className:"flex items-center gap-2",children:ee&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(or,{className:"w-3 h-3 text-red-500"}),d.jsx("span",{className:"text-xs text-red-600 font-medium",children:"Priority"})]})}),d.jsx(He,{variant:"outline",size:"sm",className:"text-xs h-7",children:"View Details"})]})]})]},q.notificationId||I)})})]})]}),!u&&a.length>0&&d.jsx("div",{className:"border-t p-3 bg-gray-50",children:d.jsxs("button",{onClick:Se,className:"w-full text-center text-sm text-main-color hover:text-second-color font-medium py-1 flex items-center justify-center gap-2",children:[d.jsx(Zn,{className:"w-4 h-4"}),"Refresh Notifications"]})})]})}function Fm(){const{logout:e,projectName:t,userName:s}=ci(),o=qt(),[i,a]=O.useState(!1),[c,u]=O.useState(!1),[f,h]=O.useState(!1),[m,g]=O.useState([]),[b,j]=O.useState(!1),[y,w]=O.useState(null),[v,N]=O.useState(!1),[S,_]=O.useState("currentColor"),[M,A]=O.useState(!1),C=O.useRef(null),R=O.useRef(null),k=O.useRef(null),U=O.useRef(null),L="http://localhost/robots_api/api",te=ne=>{try{const G=new Date(`${ne.date}T${ne.time}`);if(!y)return!0;const B=new Date(y);return G>B}catch{return!1}},V=()=>{if(M)return;A(!0);let ne=!0;const G=setInterval(()=>{if(!M){clearInterval(G);return}v?(_(ne?"#ef4444":"#3b82f6"),ne=!ne):(_("currentColor"),clearInterval(G),A(!1))},1e3);return()=>clearInterval(G)},ie=()=>{A(!1),_("currentColor")},H=async()=>{try{j(!0);const ne=await rt.get(`${L}/notifications.php`,{headers:{"Content-Type":"application/json"}}),B=(Array.isArray(ne.data)?ne.data:[]).filter(Z=>!0);g(B);const z=B.some(Z=>te(Z));N(z),console.log("Notifications loaded:",B.length),console.log("Has new notifications:",z),z&&!y&&V()}catch(ne){console.error("Failed to load notifications:",ne)}finally{j(!1)}};O.useEffect(()=>{const ne=localStorage.getItem("notificationsLastOpened");ne&&w(ne)},[]),O.useEffect(()=>{v&&!y?V():ie()},[v,y]),O.useEffect(()=>{H();const ne=setInterval(H,3e4);return()=>clearInterval(ne)},[t]);const re=ne=>ne&&ne.split(" ")[0]||"User",$=()=>{e(),qe.success("Logged out successfully"),o("/login")},K=()=>{const ne=new Date().toISOString();w(ne),localStorage.setItem("notificationsLastOpened",ne),N(!1),ie(),u(G=>!G),h(!1),a(!1)},X=()=>{const ne=new Date().toISOString();w(ne),localStorage.setItem("notificationsLastOpened",ne),N(!1),ie(),h(G=>!G),u(!1),a(!1)};return O.useEffect(()=>{const ne=G=>{C.current&&!C.current.contains(G.target)&&k.current&&!k.current.contains(G.target)&&u(!1),R.current&&!R.current.contains(G.target)&&U.current&&!U.current.contains(G.target)&&h(!1)};return document.addEventListener("mousedown",ne),document.addEventListener("touchstart",ne),()=>{document.removeEventListener("mousedown",ne),document.removeEventListener("touchstart",ne)}},[]),d.jsxs("header",{className:"fixed top-0 left-0 w-full z-50 bg-white shadow-sm border-b border-gray-100",children:[d.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between px-5 md:px-10 py-3 relative",children:[d.jsx("div",{className:"flex items-center gap-3 cursor-pointer select-none",onClick:()=>o("/home"),children:d.jsx(ct.img,{src:ca,alt:"Logo",className:"h-9 w-auto object-contain",whileHover:{scale:1.05}})}),d.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 flex items-center gap-2 cursor-pointer",onClick:()=>o("/robots"),children:d.jsx("h1",{className:"text-lg md:text-xl font-semibold tracking-tight whitespace-nowrap",children:d.jsx("span",{className:"text-main-color",children:t||"My Project"})})}),d.jsxs("div",{className:"hidden md:flex items-center gap-3 relative",children:[d.jsxs("div",{className:"flex items-center gap-2 px-4 py-2",children:[d.jsx(XS,{className:"w-5 h-5 text-second-color"}),d.jsx("span",{className:"text-main-color text-lg md:text-xl font-semibold tracking-tight",children:re(s)})]}),d.jsxs("div",{className:"relative",children:[d.jsxs("button",{ref:k,onClick:K,className:`relative p-2 rounded-full transition ${c?"bg-main-color/20 text-main-color":"text-main-color hover:bg-main-color/10"}`,children:[d.jsx(sr,{className:"w-5 h-5",style:{color:S}}),v&&d.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-ping"})]}),d.jsx(vo,{children:c&&d.jsx(ct.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute top-full right-0 mt-2 z-[100]",children:d.jsx("div",{ref:C,children:d.jsx(gj,{onClose:()=>u(!1),position:"header"})})})})]}),d.jsxs(He,{onClick:$,className:"flex items-center gap-1 border border-main-color text-main-color hover:bg-main-color hover:text-white transition-all duration-300 rounded-full px-5 py-2 text-sm font-medium",children:[d.jsx(Od,{className:"w-4 h-4"}),"Logout"]})]}),d.jsxs("div",{className:"flex items-center gap-2 md:hidden",children:[d.jsxs("div",{className:"relative",children:[d.jsxs("button",{ref:U,onClick:X,className:`relative p-2 rounded-full transition ${f?"bg-main-color/20 text-main-color":"text-main-color hover:bg-main-color/10"}`,children:[d.jsx(sr,{className:"w-5 h-5",style:{color:S}}),v&&d.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-ping"})]}),d.jsx(vo,{children:f&&d.jsx(ct.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute top-full right-0 mt-2 z-[100]",children:d.jsx("div",{ref:R,children:d.jsx(gj,{onClose:()=>h(!1),position:"header"})})})})]}),d.jsx("button",{onClick:()=>a(!i),className:`p-2 rounded-lg transition ${i?"bg-main-color/20 text-main-color":"text-main-color hover:bg-main-color/10"}`,children:i?d.jsx(bo,{className:"w-6 h-6"}):d.jsx(OP,{className:"w-6 h-6"})})]})]}),d.jsx(vo,{children:i&&d.jsx(ct.nav,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"md:hidden bg-white border-t border-gray-100 shadow-md",children:d.jsxs("div",{className:"flex flex-col items-center py-4 space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-2 w-[90%] px-4 py-2 justify-center",children:[d.jsx(XS,{className:"w-5 h-5 text-second-color"}),d.jsx("span",{className:"text-main-color text-lg md:text-xl font-semibold tracking-tight",children:re(s)})]}),d.jsx("div",{className:"w-[90%] text-center py-2",children:d.jsxs("span",{className:"text-second-color font-medium",children:["Project: ",t||"My Project"]})}),d.jsxs(He,{onClick:$,className:"w-[90%] flex items-center gap-1 border border-main-color text-main-color hover:bg-main-color hover:text-white transition-all duration-300 rounded-full py-2 text-sm font-medium",children:[d.jsx(Od,{className:"w-4 h-4 mr-1"}),"Logout"]})]})})})]})}function UB({robot:e,onView:t}){const[s,o]=O.useState(""),[i,a]=O.useState(!1),[c,u]=O.useState({}),f="http://localhost/robots_api/api",h="http://localhost/robots_api/uploads";if(O.useEffect(()=>{(async()=>{try{const S=await rt.get(`${f}/buttons.php`),_={};S.data.forEach(M=>{_[M.BtnID]=M.Color||null}),u(_)}catch{}})()},[]),!e)return d.jsx("div",{className:"bg-white border border-gray-100 shadow-md rounded-2xl p-6 text-center",children:d.jsx("p",{className:"text-gray-500",children:"No robot data from API"})});const{Image:m,RobotName:g,Sections:b={},isTrolley:j}=e,y=b?.main||{};let w=[];try{Array.isArray(y.ActiveBtns)?w=y.ActiveBtns:typeof y.ActiveBtns=="string"&&(w=JSON.parse(y.ActiveBtns))}catch{w=[]}O.useEffect(()=>{!m||m===""||m==="Array"||m==="null"?o("/default-robot.jpg"):m.startsWith("http")?o(m):o(`${h}/${m}`)},[m]);const v=()=>{a(!0),o("/default-robot.jpg")};return d.jsxs("div",{onClick:t,className:`group bg-white border border-gray-100 shadow-md rounded-2xl \r
      overflow-hidden hover:shadow-xl hover:-translate-y-1 \r
      transition-all duration-500 flex flex-col cursor-pointer`,children:[d.jsxs("div",{className:"relative overflow-hidden",children:[d.jsx("img",{src:s||"/default-robot.jpg",alt:g||"Robot",className:"h-56 w-full object-cover transform group-hover:scale-105 transition-transform duration-500",onError:v,loading:"lazy"}),d.jsx("div",{className:`absolute inset-0 bg-linear-to-t from-black/30 via-transparent to-transparent \r
          opacity-0 group-hover:opacity-100 transition-opacity duration-500`})]}),d.jsxs("div",{className:"p-6 flex flex-col justify-between grow",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3 group-hover:text-main-color transition-colors duration-300",children:g||"Unnamed Robot"}),d.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[d.jsxs("p",{className:"leading-relaxed",children:["Voltage: ",d.jsxs("span",{className:"font-semibold",children:[y.Voltage||"0","V"]}),"  Cycles: ",d.jsx("span",{className:"font-semibold",children:y.Cycles||"0"})]}),d.jsxs("div",{className:"leading-relaxed",children:["Status:"," ",d.jsx("span",{className:`font-semibold ${y.Status==="Running"?"text-green-600":y.Status==="Idle"?"text-yellow-600":"text-gray-600"}`,children:y.Status||"Unknown"})]}),d.jsxs("div",{className:"leading-relaxed flex items-center gap-1",children:[d.jsx("span",{children:"Trolley:"}),d.jsx("span",{className:"font-semibold",children:j?d.jsx("span",{className:"text-green-600 flex items-center gap-1",children:" Yes"}):d.jsx("span",{className:"text-red-500 flex items-center gap-1",children:" No"})})]})]})]}),d.jsx(He,{onClick:N=>{N.stopPropagation(),t()},className:`mt-6 bg-main-color text-white border border-main-color \r
          hover:bg-white hover:text-main-color \r
          hover:shadow-md transition-all duration-300 rounded-full`,children:"View Details"})]})]})}const Dt=async e=>{try{return(await ai.get(e,{headers:{"Cache-Control":"no-cache"}})).data}catch(t){throw console.error("GET Error:",t),t}},LB=async(e,t)=>{try{return(await ai.post(e,t,{headers:{"Content-Type":"application/json"}})).data}catch(s){throw console.error("POST Error:",s),s}};function $B(){const e=qt(),{projectName:t,userName:s}=ci(),[o,i]=O.useState([]),[a,c]=O.useState(!0),u="http://localhost/robots_api/api",f=async()=>{try{c(!0);const m=await Dt(`${u}/robots`);if(!m){qe.error("No data received from API"),i([]);return}const g=Array.isArray(m)?m:[m];let b=g;if(t){const j=await Dt(`${u}/projects`),w=(Array.isArray(j)?j:[j]).find(v=>v.ProjectName?.trim()===t.trim());if(w){const v=w.id||w.projectId;b=g.filter(N=>(N.projectId||N.project_id)==v)}}i(b),b.length===0?qe.info("No robots found in API"):qe.success(`Loaded ${b.length} robots`)}catch{qe.error("Failed to load robots from API"),i([])}finally{c(!1)}};O.useEffect(()=>{f()},[t]);const h=m=>{e(`/robots/${m.id}`,{state:{robot:m}})};return a?d.jsxs("div",{className:"min-h-screen bg-white",children:[d.jsx(Fm,{}),d.jsx("div",{className:"container mx-auto px-6 pt-36 pb-24",children:d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-main-color mx-auto"}),d.jsx("p",{className:"mt-4 text-gray-600",children:"Loading robots from API..."})]})})})]}):d.jsxs("div",{className:"min-h-screen bg-white",children:[d.jsx(Fm,{}),d.jsxs("section",{className:"container mx-auto px-6 py-24 relative",children:[d.jsxs(He,{onClick:()=>e(-1),className:" left-0 flex mt-5 items-center gap-2 bg-transparent text-main-color border border-main-color hover:bg-main-color/10 cursor-pointer",children:[d.jsx(mn,{size:18}),"Back"]}),d.jsx(ct.h2,{className:"text-4xl font-bold text-gray-900 mb-4 text-center",initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.6},children:"Omega Cleaning Robots"}),d.jsx(ct.div,{className:"text-center mb-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:d.jsx("p",{className:"text-lg text-gray-600",children:t?d.jsxs(d.Fragment,{children:["Project: ",d.jsx("span",{className:"font-semibold text-main-color",children:t})]}):d.jsx("span",{className:"font-semibold text-main-color",children:"All Projects"})})}),o.length===0?d.jsxs(ct.div,{className:"text-center py-12",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},children:[d.jsx("p",{className:"text-gray-500 text-lg mb-4",children:"No robots found in API."}),d.jsx("button",{onClick:f,className:"px-4 py-2 bg-main-color text-white rounded-lg hover:bg-second-color transition",children:"Reload from API"})]}):d.jsx("div",{className:"grid gap-8 sm:grid-cols-2 lg:grid-cols-3",children:o.map((m,g)=>d.jsx(ct.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{delay:g*.15},children:d.jsx(UB,{robot:m,onView:()=>h(m)})},m.id||g))})]})]})}function aa({tabs:e=[],active:t,onChange:s,accent:o="main"}){const i=o==="main"?"var(--color-main-color)":"var(--color-second-color)";return d.jsx("div",{className:"w-full border-b border-gray-200 flex flex-wrap",children:e.map(a=>{const c=t===a.id;return d.jsx("button",{onClick:()=>s(a.id),className:`relative px-5 py-2 text-sm font-medium transition-colors duration-200 
              ${c?"text-main-color":"text-gray-500 hover:text-gray-700"}`,style:{borderBottom:c?`3px solid ${i}`:"3px solid transparent"},children:a.label},a.id)})})}function ku({robotId:e,sectionName:t}){const[s,o]=O.useState([]),[i,a]=O.useState([]),[c,u]=O.useState(!0),[f,h]=O.useState(null),[m,g]=O.useState(null),b="http://localhost/robots_api/api",y=(S=>S==="main"?"Robot":S==="car"?"Trolley":S)(t);O.useEffect(()=>{if(!e){h("Cannot determine robot ID"),u(!1);return}N()},[e,t]);const w=S=>{if(S.type==="alert")return!0;if(S.type==="info")return!1;const _=S.message?.toLowerCase()||"";return _.includes("alert")||_.includes("error")||_.includes("warning")||_.includes("critical")||_.includes("fail")||_.includes("stopped")||_.includes("emergency")},v=(S,_,M)=>{if(!_?.Sections?.[M]||!Array.isArray(S))return[];const A=_.Sections[M].Topic_main;return S.filter(U=>U.topic_main===A).sort((U,L)=>{const te=new Date(`${U.date}T${U.time}`),V=new Date(`${L.date}T${L.time}`);return te-V}).slice(-10).reverse()},N=async()=>{try{u(!0),h(null);const S=await rt.get(`${b}/notifications.php`,{headers:{"Content-Type":"application/json"}}),_=Array.isArray(S.data)?S.data:[];o(_);const A=(await rt.get(`${b}/robots/${e}`)).data;g(A);const C=v(_,A,t);a(C)}catch(S){h(`Failed to load notifications: ${S.message}`)}finally{u(!1)}};return c?d.jsxs("div",{className:"text-center py-10",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-main-color mx-auto"}),d.jsx("p",{className:"mt-2 text-gray-500",children:"Loading notifications..."})]}):f?d.jsxs("div",{className:"text-center py-10",children:[d.jsx("p",{className:"text-red-500 mb-4",children:f}),d.jsx("button",{onClick:N,className:"bg-main-color text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]}):d.jsxs("div",{className:"p-4",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("h2",{className:"text-xl font-semibold text-main-color",children:["Notifications - ",y]}),d.jsxs("button",{onClick:N,className:"flex items-center gap-2 bg-main-color text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(Zn,{className:"w-4 h-4"}),"Refresh"]})]}),d.jsx("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{children:d.jsxs("p",{className:"text-sm text-blue-700 font-medium",children:["Total Notifications: ",d.jsx("span",{className:"font-bold",children:i.length})]})}),d.jsx(sr,{className:"w-6 h-6 text-blue-500"})]})}),d.jsx("div",{className:"space-y-4",children:i.length>0?i.map((S,_)=>{const M=w(S),A=M?"bg-red-50":"bg-blue-50",C=M?"border-red-200":"border-blue-200",k=M?or:El,U=M?"text-red-500":"text-blue-500";return d.jsxs(mr,{className:`shadow-sm border ${C} ${A} hover:shadow-md transition-shadow duration-200 gap-1`,children:[d.jsx(kn,{className:"pb-3",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(k,{className:`w-5 h-5 ${U}`}),d.jsx(On,{className:`text-base font-semibold ${M?"text-red-800":"text-gray-800"}`,children:S.message||"No message"})]})}),d.jsxs(gr,{className:"pt-0",children:[d.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[d.jsxs("span",{children:["Date: ",S.date||"Unknown"]}),d.jsxs("span",{children:["Time: ",S.time||"Unknown"]})]}),M&&d.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[d.jsx(or,{className:"w-3 h-3 text-red-500"}),d.jsx("span",{className:"text-xs text-red-600 font-medium",children:"Alert"})]})]})]},_)}):d.jsxs("div",{className:"text-center py-8",children:[d.jsx(sr,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),d.jsx("p",{className:"text-gray-500 text-lg",children:"No notifications found"}),d.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:['No notifications available for section "',y,'"']}),d.jsx("button",{onClick:N,className:"bg-main-color text-white mt-4 px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Refresh Notifications"})]})})]})}function Ou({sectionName:e}){const[t,s]=O.useState([]),[o,i]=O.useState([]),[a,c]=O.useState(!0),[u,f]=O.useState(null),[h,m]=O.useState(null),[g,b]=O.useState({show:!1,message:""}),j=Mr(),w=vr().pathname.split("/").filter(Boolean);let v=null,N=null;w.includes("robotDetails")?(v="robot",N=w[w.indexOf("robotDetails")+1]):w.includes("trolleyDetails")?(v="trolley",N=w[w.indexOf("trolleyDetails")+1]):j.id&&(N=j.id,v="robot");const S="http://localhost/robots_api/api";O.useEffect(()=>{if(!N){f("Cannot determine device ID from URL"),c(!1);return}M()},[N,v,e]),O.useEffect(()=>{if(g.show){const C=setTimeout(()=>{b({show:!1,message:""})},3e3);return()=>clearTimeout(C)}},[g]);const _=(C,R,k)=>{if(!R?.Sections?.[k]||!Array.isArray(C))return[];const U=R.Sections[k].Topic_main;return C.filter(ie=>ie.topic_main===U).sort((ie,H)=>{const re=new Date(`${ie.date}T${ie.time}`),$=new Date(`${H.date}T${H.time}`);return re-$}).slice(-10).reverse()},M=async()=>{try{c(!0),f(null);const C=await rt.get(`${S}/logs.php`,{headers:{"Content-Type":"application/json"}}),R=Array.isArray(C.data)?C.data:C.data?.logs||[];s(R);const U=(await rt.get(`${S}/${v}s/${N}`)).data;m(U);const L=_(R,U,e);i(L)}catch(C){f(`Failed to load logs: ${C.message}`)}finally{c(!1)}},A=()=>{if(o.length===0){b({show:!0,message:"No logs available to download"});return}const R=[["Date","Time","Message","Topic"].join(","),...o.map(te=>[`"'${te.date||""}'"`,`"'${te.time||""}'"`,`"${(te.message||"").replace(/"/g,'""')}"`,`"${te.topic_main||""}"`].join(","))].join(`
`),k=new Blob([R],{type:"text/csv;charset=utf-8;"}),U=document.createElement("a"),L=URL.createObjectURL(k);U.href=L,U.download=`logs_${v}_${N}_${Date.now()}.csv`,U.click(),b({show:!0,message:"Logs downloaded successfully!"})};return a?d.jsxs("div",{className:"text-center py-10",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-main-color mx-auto"}),d.jsx("p",{className:"mt-2 text-gray-500",children:"Loading logs..."})]}):u?d.jsxs("div",{className:"text-center py-10",children:[d.jsx("p",{className:"text-red-500 mb-4",children:u}),d.jsx("button",{onClick:M,className:"bg-main-color text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]}):d.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:[g.show&&d.jsx("div",{className:"fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 animate-fade-in",children:g.message}),d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-xl font-semibold text-main-color",children:[v==="robot"?"Robot":"Trolley"," Logs - ",e]}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Activity logs and system events"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:A,disabled:o.length===0,className:"flex items-center gap-2 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:[d.jsx(uE,{className:"w-4 h-4"}),"Export CSV"]}),d.jsxs("button",{onClick:M,className:"flex items-center gap-2 bg-main-color text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(Zn,{className:"w-4 h-4"}),"Refresh"]})]})]}),d.jsx("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("p",{className:"text-sm text-blue-700 font-medium",children:["Total Logs: ",d.jsx("span",{className:"font-bold",children:o.length})]}),d.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Showing last 10 logs only  Read-only access"})]}),d.jsx(kd,{className:"w-6 h-6 text-blue-500"})]})}),d.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:o.length>0?o.map((C,R)=>d.jsx("div",{className:"border border-gray-200 rounded-lg p-4 bg-white hover:bg-gray-50 transition-colors duration-200",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"w-2 h-2 bg-main-color rounded-full mt-2 flex-shrink-0"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm text-gray-800 font-medium",children:C.message||"No message"}),d.jsxs("div",{className:"flex flex-wrap gap-4 mt-2 text-xs text-gray-500",children:[d.jsxs("span",{children:["Date: ",C.date||"Unknown"]}),d.jsxs("span",{children:["Time: ",C.time||"Unknown"]}),C.topic_main&&d.jsxs("span",{children:["Topic: ",C.topic_main]})]})]})]})},R)):d.jsxs("div",{className:"text-center py-8",children:[d.jsx(kd,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),d.jsx("p",{className:"text-gray-500 text-lg",children:"No logs found"}),d.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:['No logs available for section "',e,'"']})]})}),o.length>0&&d.jsx("div",{className:"mt-6 p-3 bg-gray-50 rounded-lg",children:d.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[d.jsxs("span",{children:["Displaying ",o.length," of ",t.length," total logs"]}),d.jsx("span",{className:"text-xs bg-main-color text-white px-2 py-1 rounded",children:"Read Only"})]})})]})}var Zb=Object.defineProperty,zB=Object.getOwnPropertyDescriptor,FB=Object.getOwnPropertyNames,VB=Object.prototype.hasOwnProperty,on=(e,t)=>()=>(e&&(t=e(e=0)),t),ze=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ea=(e,t)=>{for(var s in t)Zb(e,s,{get:t[s],enumerable:!0})},qB=(e,t,s,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of FB(t))!VB.call(e,i)&&i!==s&&Zb(e,i,{get:()=>t[i],enumerable:!(o=zB(t,i))||o.enumerable});return e},Mt=e=>qB(Zb({},"__esModule",{value:!0}),e),Ie=on(()=>{}),It={};Ea(It,{_debugEnd:()=>Sg,_debugProcess:()=>wg,_events:()=>Bg,_eventsCount:()=>Ug,_exiting:()=>ag,_fatalExceptions:()=>bg,_getActiveHandles:()=>VE,_getActiveRequests:()=>FE,_kill:()=>ug,_linkedBinding:()=>$E,_maxListeners:()=>Ig,_preload_modules:()=>Dg,_rawDebug:()=>sg,_startProfilerIdleNotifier:()=>jg,_stopProfilerIdleNotifier:()=>Ng,_tickCallback:()=>vg,abort:()=>Tg,addListener:()=>Lg,allowedNodeEnvironmentFlags:()=>gg,arch:()=>qm,argv:()=>Wm,argv0:()=>Og,assert:()=>qE,binding:()=>Zm,browser:()=>ng,chdir:()=>tg,config:()=>lg,cpuUsage:()=>Al,cwd:()=>eg,debugPort:()=>kg,default:()=>e0,dlopen:()=>zE,domain:()=>ig,emit:()=>qg,emitWarning:()=>Xm,env:()=>Gm,execArgv:()=>Km,execPath:()=>Mg,exit:()=>pg,features:()=>yg,hasUncaughtExceptionCaptureCallback:()=>HE,hrtime:()=>Ju,kill:()=>hg,listeners:()=>WE,memoryUsage:()=>fg,moduleLoadList:()=>og,nextTick:()=>UE,off:()=>zg,on:()=>Es,once:()=>$g,openStdin:()=>mg,pid:()=>Cg,platform:()=>Hm,ppid:()=>Rg,prependListener:()=>Hg,prependOnceListener:()=>Gg,reallyExit:()=>cg,release:()=>rg,removeAllListeners:()=>Vg,removeListener:()=>Fg,resourceUsage:()=>dg,setSourceMapsEnabled:()=>Pg,setUncaughtExceptionCaptureCallback:()=>xg,stderr:()=>Eg,stdin:()=>Ag,stdout:()=>_g,title:()=>Vm,umask:()=>Jm,uptime:()=>GE,version:()=>Qm,versions:()=>Ym});function Jb(e){throw new Error("Node.js process "+e+" is not supported by JSPM core outside of Node.js")}function HB(){!si||!Jo||(si=!1,Jo.length?Jn=Jo.concat(Jn):Il=-1,Jn.length&&BE())}function BE(){if(!si){var e=setTimeout(HB,0);si=!0;for(var t=Jn.length;t;){for(Jo=Jn,Jn=[];++Il<t;)Jo&&Jo[Il].run();Il=-1,t=Jn.length}Jo=null,si=!1,clearTimeout(e)}}function UE(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)t[s-1]=arguments[s];Jn.push(new LE(e,t)),Jn.length===1&&!si&&setTimeout(BE,0)}function LE(e,t){this.fun=e,this.array=t}function Or(){}function $E(e){Jb("_linkedBinding")}function zE(e){Jb("dlopen")}function FE(){return[]}function VE(){return[]}function qE(e,t){if(!e)throw new Error(t||"assertion error")}function HE(){return!1}function GE(){return Ts.now()/1e3}function Ju(e){var t=Math.floor((Date.now()-Ts.now())*.001),s=Ts.now()*.001,o=Math.floor(s)+t,i=Math.floor(s%1*1e9);return e&&(o=o-e[0],i=i-e[1],i<0&&(o--,i+=ed)),[o,i]}function Es(){return e0}function WE(e){return[]}var Jn,si,Jo,Il,Vm,qm,Hm,Gm,Wm,Km,Qm,Ym,Xm,Zm,Jm,eg,tg,rg,ng,sg,og,ig,ag,lg,cg,ug,Al,dg,fg,hg,pg,mg,gg,yg,bg,xg,vg,wg,Sg,jg,Ng,_g,Eg,Ag,Tg,Cg,Rg,Mg,kg,Og,Dg,Pg,Ts,em,ed,Ig,Bg,Ug,Lg,$g,zg,Fg,Vg,qg,Hg,Gg,e0,GB=on(()=>{Ie(),Ue(),Be(),Jn=[],si=!1,Il=-1,LE.prototype.run=function(){this.fun.apply(null,this.array)},Vm="browser",qm="x64",Hm="browser",Gm={PATH:"/usr/bin",LANG:typeof navigator<"u"?navigator.language+".UTF-8":void 0,PWD:"/",HOME:"/home",TMP:"/tmp"},Wm=["/usr/bin/node"],Km=[],Qm="v16.8.0",Ym={},Xm=function(e,t){console.warn((t?t+": ":"")+e)},Zm=function(e){Jb("binding")},Jm=function(e){return 0},eg=function(){return"/"},tg=function(e){},rg={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},ng=!0,sg=Or,og=[],ig={},ag=!1,lg={},cg=Or,ug=Or,Al=function(){return{}},dg=Al,fg=Al,hg=Or,pg=Or,mg=Or,gg={},yg={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},bg=Or,xg=Or,vg=Or,wg=Or,Sg=Or,jg=Or,Ng=Or,_g=void 0,Eg=void 0,Ag=void 0,Tg=Or,Cg=2,Rg=1,Mg="/bin/usr/node",kg=9229,Og="node",Dg=[],Pg=Or,Ts={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},Ts.now===void 0&&(em=Date.now(),Ts.timing&&Ts.timing.navigationStart&&(em=Ts.timing.navigationStart),Ts.now=()=>Date.now()-em),ed=1e9,Ju.bigint=function(e){var t=Ju(e);return typeof BigInt>"u"?t[0]*ed+t[1]:BigInt(t[0]*ed)+BigInt(t[1])},Ig=10,Bg={},Ug=0,Lg=Es,$g=Es,zg=Es,Fg=Es,Vg=Es,qg=Or,Hg=Es,Gg=Es,e0={version:Qm,versions:Ym,arch:qm,platform:Hm,browser:ng,release:rg,_rawDebug:sg,moduleLoadList:og,binding:Zm,_linkedBinding:$E,_events:Bg,_eventsCount:Ug,_maxListeners:Ig,on:Es,addListener:Lg,once:$g,off:zg,removeListener:Fg,removeAllListeners:Vg,emit:qg,prependListener:Hg,prependOnceListener:Gg,listeners:WE,domain:ig,_exiting:ag,config:lg,dlopen:zE,uptime:GE,_getActiveRequests:FE,_getActiveHandles:VE,reallyExit:cg,_kill:ug,cpuUsage:Al,resourceUsage:dg,memoryUsage:fg,kill:hg,exit:pg,openStdin:mg,allowedNodeEnvironmentFlags:gg,assert:qE,features:yg,_fatalExceptions:bg,setUncaughtExceptionCaptureCallback:xg,hasUncaughtExceptionCaptureCallback:HE,emitWarning:Xm,nextTick:UE,_tickCallback:vg,_debugProcess:wg,_debugEnd:Sg,_startProfilerIdleNotifier:jg,_stopProfilerIdleNotifier:Ng,stdout:_g,stdin:Ag,stderr:Eg,abort:Tg,umask:Jm,chdir:tg,cwd:eg,env:Gm,title:Vm,argv:Wm,execArgv:Km,pid:Cg,ppid:Rg,execPath:Mg,debugPort:kg,hrtime:Ju,argv0:Og,_preload_modules:Dg,setSourceMapsEnabled:Pg}}),Be=on(()=>{GB()});function WB(){if(Wg)return Ji;Wg=!0,Ji.byteLength=u,Ji.toByteArray=h,Ji.fromByteArray=b;for(var e=[],t=[],s=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,a=o.length;i<a;++i)e[i]=o[i],t[o.charCodeAt(i)]=i;t[45]=62,t[95]=63;function c(j){var y=j.length;if(y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=j.indexOf("=");w===-1&&(w=y);var v=w===y?0:4-w%4;return[w,v]}function u(j){var y=c(j),w=y[0],v=y[1];return(w+v)*3/4-v}function f(j,y,w){return(y+w)*3/4-w}function h(j){var y,w=c(j),v=w[0],N=w[1],S=new s(f(j,v,N)),_=0,M=N>0?v-4:v,A;for(A=0;A<M;A+=4)y=t[j.charCodeAt(A)]<<18|t[j.charCodeAt(A+1)]<<12|t[j.charCodeAt(A+2)]<<6|t[j.charCodeAt(A+3)],S[_++]=y>>16&255,S[_++]=y>>8&255,S[_++]=y&255;return N===2&&(y=t[j.charCodeAt(A)]<<2|t[j.charCodeAt(A+1)]>>4,S[_++]=y&255),N===1&&(y=t[j.charCodeAt(A)]<<10|t[j.charCodeAt(A+1)]<<4|t[j.charCodeAt(A+2)]>>2,S[_++]=y>>8&255,S[_++]=y&255),S}function m(j){return e[j>>18&63]+e[j>>12&63]+e[j>>6&63]+e[j&63]}function g(j,y,w){for(var v,N=[],S=y;S<w;S+=3)v=(j[S]<<16&16711680)+(j[S+1]<<8&65280)+(j[S+2]&255),N.push(m(v));return N.join("")}function b(j){for(var y,w=j.length,v=w%3,N=[],S=16383,_=0,M=w-v;_<M;_+=S)N.push(g(j,_,_+S>M?M:_+S));return v===1?(y=j[w-1],N.push(e[y>>2]+e[y<<4&63]+"==")):v===2&&(y=(j[w-2]<<8)+j[w-1],N.push(e[y>>10]+e[y>>4&63]+e[y<<2&63]+"=")),N.join("")}return Ji}function KB(){return Kg?Tl:(Kg=!0,Tl.read=function(e,t,s,o,i){var a,c,u=i*8-o-1,f=(1<<u)-1,h=f>>1,m=-7,g=s?i-1:0,b=s?-1:1,j=e[t+g];for(g+=b,a=j&(1<<-m)-1,j>>=-m,m+=u;m>0;a=a*256+e[t+g],g+=b,m-=8);for(c=a&(1<<-m)-1,a>>=-m,m+=o;m>0;c=c*256+e[t+g],g+=b,m-=8);if(a===0)a=1-h;else{if(a===f)return c?NaN:(j?-1:1)*(1/0);c=c+Math.pow(2,o),a=a-h}return(j?-1:1)*c*Math.pow(2,a-o)},Tl.write=function(e,t,s,o,i,a){var c,u,f,h=a*8-i-1,m=(1<<h)-1,g=m>>1,b=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,j=o?0:a-1,y=o?1:-1,w=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,c=m):(c=Math.floor(Math.log(t)/Math.LN2),t*(f=Math.pow(2,-c))<1&&(c--,f*=2),c+g>=1?t+=b/f:t+=b*Math.pow(2,1-g),t*f>=2&&(c++,f/=2),c+g>=m?(u=0,c=m):c+g>=1?(u=(t*f-1)*Math.pow(2,i),c=c+g):(u=t*Math.pow(2,g-1)*Math.pow(2,i),c=0));i>=8;e[s+j]=u&255,j+=y,u/=256,i-=8);for(c=c<<i|u,h+=i;h>0;e[s+j]=c&255,j+=y,c/=256,h-=8);e[s+j-y]|=w*128},Tl)}function QB(){if(Qg)return mo;Qg=!0;let e=WB(),t=KB(),s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;mo.Buffer=c,mo.SlowBuffer=N,mo.INSPECT_MAX_BYTES=50;let o=2147483647;mo.kMaxLength=o,c.TYPED_ARRAY_SUPPORT=i(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{let T=new Uint8Array(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,Uint8Array.prototype),Object.setPrototypeOf(T,D),T.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function a(T){if(T>o)throw new RangeError('The value "'+T+'" is invalid for option "size"');let D=new Uint8Array(T);return Object.setPrototypeOf(D,c.prototype),D}function c(T,D,F){if(typeof T=="number"){if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(T)}return u(T,D,F)}c.poolSize=8192;function u(T,D,F){if(typeof T=="string")return g(T,D);if(ArrayBuffer.isView(T))return j(T);if(T==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T);if(Q(T,ArrayBuffer)||T&&Q(T.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Q(T,SharedArrayBuffer)||T&&Q(T.buffer,SharedArrayBuffer)))return y(T,D,F);if(typeof T=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let me=T.valueOf&&T.valueOf();if(me!=null&&me!==T)return c.from(me,D,F);let ge=w(T);if(ge)return ge;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof T[Symbol.toPrimitive]=="function")return c.from(T[Symbol.toPrimitive]("string"),D,F);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T)}c.from=function(T,D,F){return u(T,D,F)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function f(T){if(typeof T!="number")throw new TypeError('"size" argument must be of type number');if(T<0)throw new RangeError('The value "'+T+'" is invalid for option "size"')}function h(T,D,F){return f(T),T<=0?a(T):D!==void 0?typeof F=="string"?a(T).fill(D,F):a(T).fill(D):a(T)}c.alloc=function(T,D,F){return h(T,D,F)};function m(T){return f(T),a(T<0?0:v(T)|0)}c.allocUnsafe=function(T){return m(T)},c.allocUnsafeSlow=function(T){return m(T)};function g(T,D){if((typeof D!="string"||D==="")&&(D="utf8"),!c.isEncoding(D))throw new TypeError("Unknown encoding: "+D);let F=S(T,D)|0,me=a(F),ge=me.write(T,D);return ge!==F&&(me=me.slice(0,ge)),me}function b(T){let D=T.length<0?0:v(T.length)|0,F=a(D);for(let me=0;me<D;me+=1)F[me]=T[me]&255;return F}function j(T){if(Q(T,Uint8Array)){let D=new Uint8Array(T);return y(D.buffer,D.byteOffset,D.byteLength)}return b(T)}function y(T,D,F){if(D<0||T.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(T.byteLength<D+(F||0))throw new RangeError('"length" is outside of buffer bounds');let me;return D===void 0&&F===void 0?me=new Uint8Array(T):F===void 0?me=new Uint8Array(T,D):me=new Uint8Array(T,D,F),Object.setPrototypeOf(me,c.prototype),me}function w(T){if(c.isBuffer(T)){let D=v(T.length)|0,F=a(D);return F.length===0||T.copy(F,0,0,D),F}if(T.length!==void 0)return typeof T.length!="number"||W(T.length)?a(0):b(T);if(T.type==="Buffer"&&Array.isArray(T.data))return b(T.data)}function v(T){if(T>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return T|0}function N(T){return+T!=T&&(T=0),c.alloc(+T)}c.isBuffer=function(T){return T!=null&&T._isBuffer===!0&&T!==c.prototype},c.compare=function(T,D){if(Q(T,Uint8Array)&&(T=c.from(T,T.offset,T.byteLength)),Q(D,Uint8Array)&&(D=c.from(D,D.offset,D.byteLength)),!c.isBuffer(T)||!c.isBuffer(D))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===D)return 0;let F=T.length,me=D.length;for(let ge=0,Ae=Math.min(F,me);ge<Ae;++ge)if(T[ge]!==D[ge]){F=T[ge],me=D[ge];break}return F<me?-1:me<F?1:0},c.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(T,D){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(T.length===0)return c.alloc(0);let F;if(D===void 0)for(D=0,F=0;F<T.length;++F)D+=T[F].length;let me=c.allocUnsafe(D),ge=0;for(F=0;F<T.length;++F){let Ae=T[F];if(Q(Ae,Uint8Array))ge+Ae.length>me.length?(c.isBuffer(Ae)||(Ae=c.from(Ae)),Ae.copy(me,ge)):Uint8Array.prototype.set.call(me,Ae,ge);else if(c.isBuffer(Ae))Ae.copy(me,ge);else throw new TypeError('"list" argument must be an Array of Buffers');ge+=Ae.length}return me};function S(T,D){if(c.isBuffer(T))return T.length;if(ArrayBuffer.isView(T)||Q(T,ArrayBuffer))return T.byteLength;if(typeof T!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof T);let F=T.length,me=arguments.length>2&&arguments[2]===!0;if(!me&&F===0)return 0;let ge=!1;for(;;)switch(D){case"ascii":case"latin1":case"binary":return F;case"utf8":case"utf-8":return Y(T).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F*2;case"hex":return F>>>1;case"base64":return I(T).length;default:if(ge)return me?-1:Y(T).length;D=(""+D).toLowerCase(),ge=!0}}c.byteLength=S;function _(T,D,F){let me=!1;if((D===void 0||D<0)&&(D=0),D>this.length||((F===void 0||F>this.length)&&(F=this.length),F<=0)||(F>>>=0,D>>>=0,F<=D))return"";for(T||(T="utf8");;)switch(T){case"hex":return X(this,D,F);case"utf8":case"utf-8":return ie(this,D,F);case"ascii":return $(this,D,F);case"latin1":case"binary":return K(this,D,F);case"base64":return V(this,D,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne(this,D,F);default:if(me)throw new TypeError("Unknown encoding: "+T);T=(T+"").toLowerCase(),me=!0}}c.prototype._isBuffer=!0;function M(T,D,F){let me=T[D];T[D]=T[F],T[F]=me}c.prototype.swap16=function(){let T=this.length;if(T%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let D=0;D<T;D+=2)M(this,D,D+1);return this},c.prototype.swap32=function(){let T=this.length;if(T%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let D=0;D<T;D+=4)M(this,D,D+3),M(this,D+1,D+2);return this},c.prototype.swap64=function(){let T=this.length;if(T%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let D=0;D<T;D+=8)M(this,D,D+7),M(this,D+1,D+6),M(this,D+2,D+5),M(this,D+3,D+4);return this},c.prototype.toString=function(){let T=this.length;return T===0?"":arguments.length===0?ie(this,0,T):_.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(T){if(!c.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T?!0:c.compare(this,T)===0},c.prototype.inspect=function(){let T="",D=mo.INSPECT_MAX_BYTES;return T=this.toString("hex",0,D).replace(/(.{2})/g,"$1 ").trim(),this.length>D&&(T+=" ... "),"<Buffer "+T+">"},s&&(c.prototype[s]=c.prototype.inspect),c.prototype.compare=function(T,D,F,me,ge){if(Q(T,Uint8Array)&&(T=c.from(T,T.offset,T.byteLength)),!c.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(D===void 0&&(D=0),F===void 0&&(F=T?T.length:0),me===void 0&&(me=0),ge===void 0&&(ge=this.length),D<0||F>T.length||me<0||ge>this.length)throw new RangeError("out of range index");if(me>=ge&&D>=F)return 0;if(me>=ge)return-1;if(D>=F)return 1;if(D>>>=0,F>>>=0,me>>>=0,ge>>>=0,this===T)return 0;let Ae=ge-me,$e=F-D,xe=Math.min(Ae,$e),_e=this.slice(me,ge),Xe=T.slice(D,F);for(let Ye=0;Ye<xe;++Ye)if(_e[Ye]!==Xe[Ye]){Ae=_e[Ye],$e=Xe[Ye];break}return Ae<$e?-1:$e<Ae?1:0};function A(T,D,F,me,ge){if(T.length===0)return-1;if(typeof F=="string"?(me=F,F=0):F>2147483647?F=2147483647:F<-2147483648&&(F=-2147483648),F=+F,W(F)&&(F=ge?0:T.length-1),F<0&&(F=T.length+F),F>=T.length){if(ge)return-1;F=T.length-1}else if(F<0)if(ge)F=0;else return-1;if(typeof D=="string"&&(D=c.from(D,me)),c.isBuffer(D))return D.length===0?-1:C(T,D,F,me,ge);if(typeof D=="number")return D=D&255,typeof Uint8Array.prototype.indexOf=="function"?ge?Uint8Array.prototype.indexOf.call(T,D,F):Uint8Array.prototype.lastIndexOf.call(T,D,F):C(T,[D],F,me,ge);throw new TypeError("val must be string, number or Buffer")}function C(T,D,F,me,ge){let Ae=1,$e=T.length,xe=D.length;if(me!==void 0&&(me=String(me).toLowerCase(),me==="ucs2"||me==="ucs-2"||me==="utf16le"||me==="utf-16le")){if(T.length<2||D.length<2)return-1;Ae=2,$e/=2,xe/=2,F/=2}function _e(Ye,ot){return Ae===1?Ye[ot]:Ye.readUInt16BE(ot*Ae)}let Xe;if(ge){let Ye=-1;for(Xe=F;Xe<$e;Xe++)if(_e(T,Xe)===_e(D,Ye===-1?0:Xe-Ye)){if(Ye===-1&&(Ye=Xe),Xe-Ye+1===xe)return Ye*Ae}else Ye!==-1&&(Xe-=Xe-Ye),Ye=-1}else for(F+xe>$e&&(F=$e-xe),Xe=F;Xe>=0;Xe--){let Ye=!0;for(let ot=0;ot<xe;ot++)if(_e(T,Xe+ot)!==_e(D,ot)){Ye=!1;break}if(Ye)return Xe}return-1}c.prototype.includes=function(T,D,F){return this.indexOf(T,D,F)!==-1},c.prototype.indexOf=function(T,D,F){return A(this,T,D,F,!0)},c.prototype.lastIndexOf=function(T,D,F){return A(this,T,D,F,!1)};function R(T,D,F,me){F=Number(F)||0;let ge=T.length-F;me?(me=Number(me),me>ge&&(me=ge)):me=ge;let Ae=D.length;me>Ae/2&&(me=Ae/2);let $e;for($e=0;$e<me;++$e){let xe=parseInt(D.substr($e*2,2),16);if(W(xe))return $e;T[F+$e]=xe}return $e}function k(T,D,F,me){return ee(Y(D,T.length-F),T,F,me)}function U(T,D,F,me){return ee(se(D),T,F,me)}function L(T,D,F,me){return ee(I(D),T,F,me)}function te(T,D,F,me){return ee(q(D,T.length-F),T,F,me)}c.prototype.write=function(T,D,F,me){if(D===void 0)me="utf8",F=this.length,D=0;else if(F===void 0&&typeof D=="string")me=D,F=this.length,D=0;else if(isFinite(D))D=D>>>0,isFinite(F)?(F=F>>>0,me===void 0&&(me="utf8")):(me=F,F=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let ge=this.length-D;if((F===void 0||F>ge)&&(F=ge),T.length>0&&(F<0||D<0)||D>this.length)throw new RangeError("Attempt to write outside buffer bounds");me||(me="utf8");let Ae=!1;for(;;)switch(me){case"hex":return R(this,T,D,F);case"utf8":case"utf-8":return k(this,T,D,F);case"ascii":case"latin1":case"binary":return U(this,T,D,F);case"base64":return L(this,T,D,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return te(this,T,D,F);default:if(Ae)throw new TypeError("Unknown encoding: "+me);me=(""+me).toLowerCase(),Ae=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function V(T,D,F){return D===0&&F===T.length?e.fromByteArray(T):e.fromByteArray(T.slice(D,F))}function ie(T,D,F){F=Math.min(T.length,F);let me=[],ge=D;for(;ge<F;){let Ae=T[ge],$e=null,xe=Ae>239?4:Ae>223?3:Ae>191?2:1;if(ge+xe<=F){let _e,Xe,Ye,ot;switch(xe){case 1:Ae<128&&($e=Ae);break;case 2:_e=T[ge+1],(_e&192)===128&&(ot=(Ae&31)<<6|_e&63,ot>127&&($e=ot));break;case 3:_e=T[ge+1],Xe=T[ge+2],(_e&192)===128&&(Xe&192)===128&&(ot=(Ae&15)<<12|(_e&63)<<6|Xe&63,ot>2047&&(ot<55296||ot>57343)&&($e=ot));break;case 4:_e=T[ge+1],Xe=T[ge+2],Ye=T[ge+3],(_e&192)===128&&(Xe&192)===128&&(Ye&192)===128&&(ot=(Ae&15)<<18|(_e&63)<<12|(Xe&63)<<6|Ye&63,ot>65535&&ot<1114112&&($e=ot))}}$e===null?($e=65533,xe=1):$e>65535&&($e-=65536,me.push($e>>>10&1023|55296),$e=56320|$e&1023),me.push($e),ge+=xe}return re(me)}let H=4096;function re(T){let D=T.length;if(D<=H)return String.fromCharCode.apply(String,T);let F="",me=0;for(;me<D;)F+=String.fromCharCode.apply(String,T.slice(me,me+=H));return F}function $(T,D,F){let me="";F=Math.min(T.length,F);for(let ge=D;ge<F;++ge)me+=String.fromCharCode(T[ge]&127);return me}function K(T,D,F){let me="";F=Math.min(T.length,F);for(let ge=D;ge<F;++ge)me+=String.fromCharCode(T[ge]);return me}function X(T,D,F){let me=T.length;(!D||D<0)&&(D=0),(!F||F<0||F>me)&&(F=me);let ge="";for(let Ae=D;Ae<F;++Ae)ge+=ue[T[Ae]];return ge}function ne(T,D,F){let me=T.slice(D,F),ge="";for(let Ae=0;Ae<me.length-1;Ae+=2)ge+=String.fromCharCode(me[Ae]+me[Ae+1]*256);return ge}c.prototype.slice=function(T,D){let F=this.length;T=~~T,D=D===void 0?F:~~D,T<0?(T+=F,T<0&&(T=0)):T>F&&(T=F),D<0?(D+=F,D<0&&(D=0)):D>F&&(D=F),D<T&&(D=T);let me=this.subarray(T,D);return Object.setPrototypeOf(me,c.prototype),me};function G(T,D,F){if(T%1!==0||T<0)throw new RangeError("offset is not uint");if(T+D>F)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(T,D,F){T=T>>>0,D=D>>>0,F||G(T,D,this.length);let me=this[T],ge=1,Ae=0;for(;++Ae<D&&(ge*=256);)me+=this[T+Ae]*ge;return me},c.prototype.readUintBE=c.prototype.readUIntBE=function(T,D,F){T=T>>>0,D=D>>>0,F||G(T,D,this.length);let me=this[T+--D],ge=1;for(;D>0&&(ge*=256);)me+=this[T+--D]*ge;return me},c.prototype.readUint8=c.prototype.readUInt8=function(T,D){return T=T>>>0,D||G(T,1,this.length),this[T]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(T,D){return T=T>>>0,D||G(T,2,this.length),this[T]|this[T+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(T,D){return T=T>>>0,D||G(T,2,this.length),this[T]<<8|this[T+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(T,D){return T=T>>>0,D||G(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+this[T+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(T,D){return T=T>>>0,D||G(T,4,this.length),this[T]*16777216+(this[T+1]<<16|this[T+2]<<8|this[T+3])},c.prototype.readBigUInt64LE=ae(function(T){T=T>>>0,we(T,"offset");let D=this[T],F=this[T+7];(D===void 0||F===void 0)&&Pe(T,this.length-8);let me=D+this[++T]*2**8+this[++T]*2**16+this[++T]*2**24,ge=this[++T]+this[++T]*2**8+this[++T]*2**16+F*2**24;return BigInt(me)+(BigInt(ge)<<BigInt(32))}),c.prototype.readBigUInt64BE=ae(function(T){T=T>>>0,we(T,"offset");let D=this[T],F=this[T+7];(D===void 0||F===void 0)&&Pe(T,this.length-8);let me=D*2**24+this[++T]*2**16+this[++T]*2**8+this[++T],ge=this[++T]*2**24+this[++T]*2**16+this[++T]*2**8+F;return(BigInt(me)<<BigInt(32))+BigInt(ge)}),c.prototype.readIntLE=function(T,D,F){T=T>>>0,D=D>>>0,F||G(T,D,this.length);let me=this[T],ge=1,Ae=0;for(;++Ae<D&&(ge*=256);)me+=this[T+Ae]*ge;return ge*=128,me>=ge&&(me-=Math.pow(2,8*D)),me},c.prototype.readIntBE=function(T,D,F){T=T>>>0,D=D>>>0,F||G(T,D,this.length);let me=D,ge=1,Ae=this[T+--me];for(;me>0&&(ge*=256);)Ae+=this[T+--me]*ge;return ge*=128,Ae>=ge&&(Ae-=Math.pow(2,8*D)),Ae},c.prototype.readInt8=function(T,D){return T=T>>>0,D||G(T,1,this.length),this[T]&128?(255-this[T]+1)*-1:this[T]},c.prototype.readInt16LE=function(T,D){T=T>>>0,D||G(T,2,this.length);let F=this[T]|this[T+1]<<8;return F&32768?F|4294901760:F},c.prototype.readInt16BE=function(T,D){T=T>>>0,D||G(T,2,this.length);let F=this[T+1]|this[T]<<8;return F&32768?F|4294901760:F},c.prototype.readInt32LE=function(T,D){return T=T>>>0,D||G(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},c.prototype.readInt32BE=function(T,D){return T=T>>>0,D||G(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},c.prototype.readBigInt64LE=ae(function(T){T=T>>>0,we(T,"offset");let D=this[T],F=this[T+7];(D===void 0||F===void 0)&&Pe(T,this.length-8);let me=this[T+4]+this[T+5]*2**8+this[T+6]*2**16+(F<<24);return(BigInt(me)<<BigInt(32))+BigInt(D+this[++T]*2**8+this[++T]*2**16+this[++T]*2**24)}),c.prototype.readBigInt64BE=ae(function(T){T=T>>>0,we(T,"offset");let D=this[T],F=this[T+7];(D===void 0||F===void 0)&&Pe(T,this.length-8);let me=(D<<24)+this[++T]*2**16+this[++T]*2**8+this[++T];return(BigInt(me)<<BigInt(32))+BigInt(this[++T]*2**24+this[++T]*2**16+this[++T]*2**8+F)}),c.prototype.readFloatLE=function(T,D){return T=T>>>0,D||G(T,4,this.length),t.read(this,T,!0,23,4)},c.prototype.readFloatBE=function(T,D){return T=T>>>0,D||G(T,4,this.length),t.read(this,T,!1,23,4)},c.prototype.readDoubleLE=function(T,D){return T=T>>>0,D||G(T,8,this.length),t.read(this,T,!0,52,8)},c.prototype.readDoubleBE=function(T,D){return T=T>>>0,D||G(T,8,this.length),t.read(this,T,!1,52,8)};function B(T,D,F,me,ge,Ae){if(!c.isBuffer(T))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>ge||D<Ae)throw new RangeError('"value" argument is out of bounds');if(F+me>T.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(T,D,F,me){if(T=+T,D=D>>>0,F=F>>>0,!me){let $e=Math.pow(2,8*F)-1;B(this,T,D,F,$e,0)}let ge=1,Ae=0;for(this[D]=T&255;++Ae<F&&(ge*=256);)this[D+Ae]=T/ge&255;return D+F},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(T,D,F,me){if(T=+T,D=D>>>0,F=F>>>0,!me){let $e=Math.pow(2,8*F)-1;B(this,T,D,F,$e,0)}let ge=F-1,Ae=1;for(this[D+ge]=T&255;--ge>=0&&(Ae*=256);)this[D+ge]=T/Ae&255;return D+F},c.prototype.writeUint8=c.prototype.writeUInt8=function(T,D,F){return T=+T,D=D>>>0,F||B(this,T,D,1,255,0),this[D]=T&255,D+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(T,D,F){return T=+T,D=D>>>0,F||B(this,T,D,2,65535,0),this[D]=T&255,this[D+1]=T>>>8,D+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(T,D,F){return T=+T,D=D>>>0,F||B(this,T,D,2,65535,0),this[D]=T>>>8,this[D+1]=T&255,D+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(T,D,F){return T=+T,D=D>>>0,F||B(this,T,D,4,4294967295,0),this[D+3]=T>>>24,this[D+2]=T>>>16,this[D+1]=T>>>8,this[D]=T&255,D+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(T,D,F){return T=+T,D=D>>>0,F||B(this,T,D,4,4294967295,0),this[D]=T>>>24,this[D+1]=T>>>16,this[D+2]=T>>>8,this[D+3]=T&255,D+4};function z(T,D,F,me,ge){ve(D,me,ge,T,F,7);let Ae=Number(D&BigInt(4294967295));T[F++]=Ae,Ae=Ae>>8,T[F++]=Ae,Ae=Ae>>8,T[F++]=Ae,Ae=Ae>>8,T[F++]=Ae;let $e=Number(D>>BigInt(32)&BigInt(4294967295));return T[F++]=$e,$e=$e>>8,T[F++]=$e,$e=$e>>8,T[F++]=$e,$e=$e>>8,T[F++]=$e,F}function Z(T,D,F,me,ge){ve(D,me,ge,T,F,7);let Ae=Number(D&BigInt(4294967295));T[F+7]=Ae,Ae=Ae>>8,T[F+6]=Ae,Ae=Ae>>8,T[F+5]=Ae,Ae=Ae>>8,T[F+4]=Ae;let $e=Number(D>>BigInt(32)&BigInt(4294967295));return T[F+3]=$e,$e=$e>>8,T[F+2]=$e,$e=$e>>8,T[F+1]=$e,$e=$e>>8,T[F]=$e,F+8}c.prototype.writeBigUInt64LE=ae(function(T,D=0){return z(this,T,D,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=ae(function(T,D=0){return Z(this,T,D,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(T,D,F,me){if(T=+T,D=D>>>0,!me){let xe=Math.pow(2,8*F-1);B(this,T,D,F,xe-1,-xe)}let ge=0,Ae=1,$e=0;for(this[D]=T&255;++ge<F&&(Ae*=256);)T<0&&$e===0&&this[D+ge-1]!==0&&($e=1),this[D+ge]=(T/Ae>>0)-$e&255;return D+F},c.prototype.writeIntBE=function(T,D,F,me){if(T=+T,D=D>>>0,!me){let xe=Math.pow(2,8*F-1);B(this,T,D,F,xe-1,-xe)}let ge=F-1,Ae=1,$e=0;for(this[D+ge]=T&255;--ge>=0&&(Ae*=256);)T<0&&$e===0&&this[D+ge+1]!==0&&($e=1),this[D+ge]=(T/Ae>>0)-$e&255;return D+F},c.prototype.writeInt8=function(T,D,F){return T=+T,D=D>>>0,F||B(this,T,D,1,127,-128),T<0&&(T=255+T+1),this[D]=T&255,D+1},c.prototype.writeInt16LE=function(T,D,F){return T=+T,D=D>>>0,F||B(this,T,D,2,32767,-32768),this[D]=T&255,this[D+1]=T>>>8,D+2},c.prototype.writeInt16BE=function(T,D,F){return T=+T,D=D>>>0,F||B(this,T,D,2,32767,-32768),this[D]=T>>>8,this[D+1]=T&255,D+2},c.prototype.writeInt32LE=function(T,D,F){return T=+T,D=D>>>0,F||B(this,T,D,4,2147483647,-2147483648),this[D]=T&255,this[D+1]=T>>>8,this[D+2]=T>>>16,this[D+3]=T>>>24,D+4},c.prototype.writeInt32BE=function(T,D,F){return T=+T,D=D>>>0,F||B(this,T,D,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),this[D]=T>>>24,this[D+1]=T>>>16,this[D+2]=T>>>8,this[D+3]=T&255,D+4},c.prototype.writeBigInt64LE=ae(function(T,D=0){return z(this,T,D,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=ae(function(T,D=0){return Z(this,T,D,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function pe(T,D,F,me,ge,Ae){if(F+me>T.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("Index out of range")}function he(T,D,F,me,ge){return D=+D,F=F>>>0,ge||pe(T,D,F,4),t.write(T,D,F,me,23,4),F+4}c.prototype.writeFloatLE=function(T,D,F){return he(this,T,D,!0,F)},c.prototype.writeFloatBE=function(T,D,F){return he(this,T,D,!1,F)};function Ee(T,D,F,me,ge){return D=+D,F=F>>>0,ge||pe(T,D,F,8),t.write(T,D,F,me,52,8),F+8}c.prototype.writeDoubleLE=function(T,D,F){return Ee(this,T,D,!0,F)},c.prototype.writeDoubleBE=function(T,D,F){return Ee(this,T,D,!1,F)},c.prototype.copy=function(T,D,F,me){if(!c.isBuffer(T))throw new TypeError("argument should be a Buffer");if(F||(F=0),!me&&me!==0&&(me=this.length),D>=T.length&&(D=T.length),D||(D=0),me>0&&me<F&&(me=F),me===F||T.length===0||this.length===0)return 0;if(D<0)throw new RangeError("targetStart out of bounds");if(F<0||F>=this.length)throw new RangeError("Index out of range");if(me<0)throw new RangeError("sourceEnd out of bounds");me>this.length&&(me=this.length),T.length-D<me-F&&(me=T.length-D+F);let ge=me-F;return this===T&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(D,F,me):Uint8Array.prototype.set.call(T,this.subarray(F,me),D),ge},c.prototype.fill=function(T,D,F,me){if(typeof T=="string"){if(typeof D=="string"?(me=D,D=0,F=this.length):typeof F=="string"&&(me=F,F=this.length),me!==void 0&&typeof me!="string")throw new TypeError("encoding must be a string");if(typeof me=="string"&&!c.isEncoding(me))throw new TypeError("Unknown encoding: "+me);if(T.length===1){let Ae=T.charCodeAt(0);(me==="utf8"&&Ae<128||me==="latin1")&&(T=Ae)}}else typeof T=="number"?T=T&255:typeof T=="boolean"&&(T=Number(T));if(D<0||this.length<D||this.length<F)throw new RangeError("Out of range index");if(F<=D)return this;D=D>>>0,F=F===void 0?this.length:F>>>0,T||(T=0);let ge;if(typeof T=="number")for(ge=D;ge<F;++ge)this[ge]=T;else{let Ae=c.isBuffer(T)?T:c.from(T,me),$e=Ae.length;if($e===0)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(ge=0;ge<F-D;++ge)this[ge+D]=Ae[ge%$e]}return this};let de={};function le(T,D,F){de[T]=class extends F{constructor(){super(),Object.defineProperty(this,"message",{value:D.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${T}]`,this.stack,delete this.name}get code(){return T}set code(me){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:me,writable:!0})}toString(){return`${this.name} [${T}]: ${this.message}`}}}le("ERR_BUFFER_OUT_OF_BOUNDS",function(T){return T?`${T} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),le("ERR_INVALID_ARG_TYPE",function(T,D){return`The "${T}" argument must be of type number. Received type ${typeof D}`},TypeError),le("ERR_OUT_OF_RANGE",function(T,D,F){let me=`The value of "${T}" is out of range.`,ge=F;return Number.isInteger(F)&&Math.abs(F)>2**32?ge=Se(String(F)):typeof F=="bigint"&&(ge=String(F),(F>BigInt(2)**BigInt(32)||F<-(BigInt(2)**BigInt(32)))&&(ge=Se(ge)),ge+="n"),me+=` It must be ${D}. Received ${ge}`,me},RangeError);function Se(T){let D="",F=T.length,me=T[0]==="-"?1:0;for(;F>=me+4;F-=3)D=`_${T.slice(F-3,F)}${D}`;return`${T.slice(0,F)}${D}`}function be(T,D,F){we(D,"offset"),(T[D]===void 0||T[D+F]===void 0)&&Pe(D,T.length-(F+1))}function ve(T,D,F,me,ge,Ae){if(T>F||T<D){let $e=typeof D=="bigint"?"n":"",xe;throw D===0||D===BigInt(0)?xe=`>= 0${$e} and < 2${$e} ** ${(Ae+1)*8}${$e}`:xe=`>= -(2${$e} ** ${(Ae+1)*8-1}${$e}) and < 2 ** ${(Ae+1)*8-1}${$e}`,new de.ERR_OUT_OF_RANGE("value",xe,T)}be(me,ge,Ae)}function we(T,D){if(typeof T!="number")throw new de.ERR_INVALID_ARG_TYPE(D,"number",T)}function Pe(T,D,F){throw Math.floor(T)!==T?(we(T,F),new de.ERR_OUT_OF_RANGE("offset","an integer",T)):D<0?new de.ERR_BUFFER_OUT_OF_BOUNDS:new de.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${D}`,T)}let Te=/[^+/0-9A-Za-z-_]/g;function ce(T){if(T=T.split("=")[0],T=T.trim().replace(Te,""),T.length<2)return"";for(;T.length%4!==0;)T=T+"=";return T}function Y(T,D){D=D||1/0;let F,me=T.length,ge=null,Ae=[];for(let $e=0;$e<me;++$e){if(F=T.charCodeAt($e),F>55295&&F<57344){if(!ge){if(F>56319){(D-=3)>-1&&Ae.push(239,191,189);continue}else if($e+1===me){(D-=3)>-1&&Ae.push(239,191,189);continue}ge=F;continue}if(F<56320){(D-=3)>-1&&Ae.push(239,191,189),ge=F;continue}F=(ge-55296<<10|F-56320)+65536}else ge&&(D-=3)>-1&&Ae.push(239,191,189);if(ge=null,F<128){if((D-=1)<0)break;Ae.push(F)}else if(F<2048){if((D-=2)<0)break;Ae.push(F>>6|192,F&63|128)}else if(F<65536){if((D-=3)<0)break;Ae.push(F>>12|224,F>>6&63|128,F&63|128)}else if(F<1114112){if((D-=4)<0)break;Ae.push(F>>18|240,F>>12&63|128,F>>6&63|128,F&63|128)}else throw new Error("Invalid code point")}return Ae}function se(T){let D=[];for(let F=0;F<T.length;++F)D.push(T.charCodeAt(F)&255);return D}function q(T,D){let F,me,ge,Ae=[];for(let $e=0;$e<T.length&&!((D-=2)<0);++$e)F=T.charCodeAt($e),me=F>>8,ge=F%256,Ae.push(ge),Ae.push(me);return Ae}function I(T){return e.toByteArray(ce(T))}function ee(T,D,F,me){let ge;for(ge=0;ge<me&&!(ge+F>=D.length||ge>=T.length);++ge)D[ge+F]=T[ge];return ge}function Q(T,D){return T instanceof D||T!=null&&T.constructor!=null&&T.constructor.name!=null&&T.constructor.name===D.name}function W(T){return T!==T}let ue=(function(){let T="0123456789abcdef",D=new Array(256);for(let F=0;F<16;++F){let me=F*16;for(let ge=0;ge<16;++ge)D[me+ge]=T[F]+T[ge]}return D})();function ae(T){return typeof BigInt>"u"?Me:T}function Me(){throw new Error("BigInt not supported")}return mo}var Ji,Wg,Tl,Kg,mo,Qg,YB=on(()=>{Ie(),Ue(),Be(),Ji={},Wg=!1,Tl={},Kg=!1,mo={},Qg=!1}),wr={};Ea(wr,{Buffer:()=>Id,INSPECT_MAX_BYTES:()=>KE,default:()=>As,kMaxLength:()=>QE});var As,Id,KE,QE,Sr=on(()=>{Ie(),Ue(),Be(),YB(),As=QB(),As.Buffer,As.SlowBuffer,As.INSPECT_MAX_BYTES,As.kMaxLength,Id=As.Buffer,KE=As.INSPECT_MAX_BYTES,QE=As.kMaxLength}),Ue=on(()=>{Sr()}),Yt=ze((e,t)=>{Ie(),Ue(),Be();var s=class extends Error{constructor(o){if(!Array.isArray(o))throw new TypeError(`Expected input to be an Array, got ${typeof o}`);let i="";for(let a=0;a<o.length;a++)i+=`    ${o[a].stack}
`;super(i),this.name="AggregateError",this.errors=o}};t.exports={AggregateError:s,ArrayIsArray(o){return Array.isArray(o)},ArrayPrototypeIncludes(o,i){return o.includes(i)},ArrayPrototypeIndexOf(o,i){return o.indexOf(i)},ArrayPrototypeJoin(o,i){return o.join(i)},ArrayPrototypeMap(o,i){return o.map(i)},ArrayPrototypePop(o,i){return o.pop(i)},ArrayPrototypePush(o,i){return o.push(i)},ArrayPrototypeSlice(o,i,a){return o.slice(i,a)},Error,FunctionPrototypeCall(o,i,...a){return o.call(i,...a)},FunctionPrototypeSymbolHasInstance(o,i){return Function.prototype[Symbol.hasInstance].call(o,i)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(o,i){return Object.defineProperties(o,i)},ObjectDefineProperty(o,i,a){return Object.defineProperty(o,i,a)},ObjectGetOwnPropertyDescriptor(o,i){return Object.getOwnPropertyDescriptor(o,i)},ObjectKeys(o){return Object.keys(o)},ObjectSetPrototypeOf(o,i){return Object.setPrototypeOf(o,i)},Promise,PromisePrototypeCatch(o,i){return o.catch(i)},PromisePrototypeThen(o,i,a){return o.then(i,a)},PromiseReject(o){return Promise.reject(o)},PromiseResolve(o){return Promise.resolve(o)},ReflectApply:Reflect.apply,RegExpPrototypeTest(o,i){return o.test(i)},SafeSet:Set,String,StringPrototypeSlice(o,i,a){return o.slice(i,a)},StringPrototypeToLowerCase(o){return o.toLowerCase()},StringPrototypeToUpperCase(o){return o.toUpperCase()},StringPrototypeTrim(o){return o.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(o,i,a){return o.set(i,a)},Boolean,Uint8Array}}),YE=ze((e,t)=>{Ie(),Ue(),Be(),t.exports={format(s,...o){return s.replace(/%([sdifj])/g,function(...[i,a]){let c=o.shift();return a==="f"?c.toFixed(6):a==="j"?JSON.stringify(c):a==="s"&&typeof c=="object"?`${c.constructor!==Object?c.constructor.name:""} {}`.trim():c.toString()})},inspect(s){switch(typeof s){case"string":if(s.includes("'"))if(s.includes('"')){if(!s.includes("`")&&!s.includes("${"))return`\`${s}\``}else return`"${s}"`;return`'${s}'`;case"number":return isNaN(s)?"NaN":Object.is(s,-0)?String(s):s;case"bigint":return`${String(s)}n`;case"boolean":case"undefined":return String(s);case"object":return"{}"}}}}),Vr=ze((e,t)=>{Ie(),Ue(),Be();var{format:s,inspect:o}=YE(),{AggregateError:i}=Yt(),a=globalThis.AggregateError||i,c=Symbol("kIsNodeError"),u=["string","function","number","object","Function","Object","boolean","bigint","symbol"],f=/^([A-Z][a-z0-9]*)+$/,h="__node_internal_",m={};function g(S,_){if(!S)throw new m.ERR_INTERNAL_ASSERTION(_)}function b(S){let _="",M=S.length,A=S[0]==="-"?1:0;for(;M>=A+4;M-=3)_=`_${S.slice(M-3,M)}${_}`;return`${S.slice(0,M)}${_}`}function j(S,_,M){if(typeof _=="function")return g(_.length<=M.length,`Code: ${S}; The provided arguments length (${M.length}) does not match the required ones (${_.length}).`),_(...M);let A=(_.match(/%[dfijoOs]/g)||[]).length;return g(A===M.length,`Code: ${S}; The provided arguments length (${M.length}) does not match the required ones (${A}).`),M.length===0?_:s(_,...M)}function y(S,_,M){M||(M=Error);class A extends M{constructor(...R){super(j(S,_,R))}toString(){return`${this.name} [${S}]: ${this.message}`}}Object.defineProperties(A.prototype,{name:{value:M.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${S}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),A.prototype.code=S,A.prototype[c]=!0,m[S]=A}function w(S){let _=h+S.name;return Object.defineProperty(S,"name",{value:_}),S}function v(S,_){if(S&&_&&S!==_){if(Array.isArray(_.errors))return _.errors.push(S),_;let M=new a([_,S],_.message);return M.code=_.code,M}return S||_}var N=class extends Error{constructor(S="The operation was aborted",_=void 0){if(_!==void 0&&typeof _!="object")throw new m.ERR_INVALID_ARG_TYPE("options","Object",_);super(S,_),this.code="ABORT_ERR",this.name="AbortError"}};y("ERR_ASSERTION","%s",Error),y("ERR_INVALID_ARG_TYPE",(S,_,M)=>{g(typeof S=="string","'name' must be a string"),Array.isArray(_)||(_=[_]);let A="The ";S.endsWith(" argument")?A+=`${S} `:A+=`"${S}" ${S.includes(".")?"property":"argument"} `,A+="must be ";let C=[],R=[],k=[];for(let L of _)g(typeof L=="string","All expected entries have to be of type string"),u.includes(L)?C.push(L.toLowerCase()):f.test(L)?R.push(L):(g(L!=="object",'The value "object" should be written as "Object"'),k.push(L));if(R.length>0){let L=C.indexOf("object");L!==-1&&(C.splice(C,L,1),R.push("Object"))}if(C.length>0){switch(C.length){case 1:A+=`of type ${C[0]}`;break;case 2:A+=`one of type ${C[0]} or ${C[1]}`;break;default:{let L=C.pop();A+=`one of type ${C.join(", ")}, or ${L}`}}(R.length>0||k.length>0)&&(A+=" or ")}if(R.length>0){switch(R.length){case 1:A+=`an instance of ${R[0]}`;break;case 2:A+=`an instance of ${R[0]} or ${R[1]}`;break;default:{let L=R.pop();A+=`an instance of ${R.join(", ")}, or ${L}`}}k.length>0&&(A+=" or ")}switch(k.length){case 0:break;case 1:k[0].toLowerCase()!==k[0]&&(A+="an "),A+=`${k[0]}`;break;case 2:A+=`one of ${k[0]} or ${k[1]}`;break;default:{let L=k.pop();A+=`one of ${k.join(", ")}, or ${L}`}}if(M==null)A+=`. Received ${M}`;else if(typeof M=="function"&&M.name)A+=`. Received function ${M.name}`;else if(typeof M=="object"){var U;if((U=M.constructor)!==null&&U!==void 0&&U.name)A+=`. Received an instance of ${M.constructor.name}`;else{let L=o(M,{depth:-1});A+=`. Received ${L}`}}else{let L=o(M,{colors:!1});L.length>25&&(L=`${L.slice(0,25)}...`),A+=`. Received type ${typeof M} (${L})`}return A},TypeError),y("ERR_INVALID_ARG_VALUE",(S,_,M="is invalid")=>{let A=o(_);return A.length>128&&(A=A.slice(0,128)+"..."),`The ${S.includes(".")?"property":"argument"} '${S}' ${M}. Received ${A}`},TypeError),y("ERR_INVALID_RETURN_VALUE",(S,_,M)=>{var A;let C=M!=null&&(A=M.constructor)!==null&&A!==void 0&&A.name?`instance of ${M.constructor.name}`:`type ${typeof M}`;return`Expected ${S} to be returned from the "${_}" function but got ${C}.`},TypeError),y("ERR_MISSING_ARGS",(...S)=>{g(S.length>0,"At least one arg needs to be specified");let _,M=S.length;switch(S=(Array.isArray(S)?S:[S]).map(A=>`"${A}"`).join(" or "),M){case 1:_+=`The ${S[0]} argument`;break;case 2:_+=`The ${S[0]} and ${S[1]} arguments`;break;default:{let A=S.pop();_+=`The ${S.join(", ")}, and ${A} arguments`}break}return`${_} must be specified`},TypeError),y("ERR_OUT_OF_RANGE",(S,_,M)=>{g(_,'Missing "range" argument');let A;if(Number.isInteger(M)&&Math.abs(M)>2**32)A=b(String(M));else if(typeof M=="bigint"){A=String(M);let C=BigInt(2)**BigInt(32);(M>C||M<-C)&&(A=b(A)),A+="n"}else A=o(M);return`The value of "${S}" is out of range. It must be ${_}. Received ${A}`},RangeError),y("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),y("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),y("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),y("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),y("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),y("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),y("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),y("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),y("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),y("ERR_STREAM_WRITE_AFTER_END","write after end",Error),y("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),t.exports={AbortError:N,aggregateTwoErrors:w(v),hideStackFrames:w,codes:m}}),Gl=ze((e,t)=>{Ie(),Ue(),Be();var{AbortController:s,AbortSignal:o}=typeof self<"u"?self:typeof window<"u"?window:void 0;t.exports=s,t.exports.AbortSignal=o,t.exports.default=s}),Eo={};Ea(Eo,{EventEmitter:()=>XE,default:()=>ea,defaultMaxListeners:()=>ZE,init:()=>JE,listenerCount:()=>eA,on:()=>tA,once:()=>rA});function XB(){if(Yg)return Cl;Yg=!0;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(M,A,C){return Function.prototype.apply.call(M,A,C)},s;e&&typeof e.ownKeys=="function"?s=e.ownKeys:Object.getOwnPropertySymbols?s=function(M){return Object.getOwnPropertyNames(M).concat(Object.getOwnPropertySymbols(M))}:s=function(M){return Object.getOwnPropertyNames(M)};function o(M){console&&console.warn&&console.warn(M)}var i=Number.isNaN||function(M){return M!==M};function a(){a.init.call(this)}Cl=a,Cl.once=N,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function u(M){if(typeof M!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof M)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(M){if(typeof M!="number"||M<0||i(M))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+M+".");c=M}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(M){if(typeof M!="number"||M<0||i(M))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+M+".");return this._maxListeners=M,this};function f(M){return M._maxListeners===void 0?a.defaultMaxListeners:M._maxListeners}a.prototype.getMaxListeners=function(){return f(this)},a.prototype.emit=function(M){for(var A=[],C=1;C<arguments.length;C++)A.push(arguments[C]);var R=M==="error",k=this._events;if(k!==void 0)R=R&&k.error===void 0;else if(!R)return!1;if(R){var U;if(A.length>0&&(U=A[0]),U instanceof Error)throw U;var L=new Error("Unhandled error."+(U?" ("+U.message+")":""));throw L.context=U,L}var te=k[M];if(te===void 0)return!1;if(typeof te=="function")t(te,this,A);else for(var V=te.length,ie=y(te,V),C=0;C<V;++C)t(ie[C],this,A);return!0};function h(M,A,C,R){var k,U,L;if(u(C),U=M._events,U===void 0?(U=M._events=Object.create(null),M._eventsCount=0):(U.newListener!==void 0&&(M.emit("newListener",A,C.listener?C.listener:C),U=M._events),L=U[A]),L===void 0)L=U[A]=C,++M._eventsCount;else if(typeof L=="function"?L=U[A]=R?[C,L]:[L,C]:R?L.unshift(C):L.push(C),k=f(M),k>0&&L.length>k&&!L.warned){L.warned=!0;var te=new Error("Possible EventEmitter memory leak detected. "+L.length+" "+String(A)+" listeners added. Use emitter.setMaxListeners() to increase limit");te.name="MaxListenersExceededWarning",te.emitter=M,te.type=A,te.count=L.length,o(te)}return M}a.prototype.addListener=function(M,A){return h(this,M,A,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(M,A){return h(this,M,A,!0)};function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(M,A,C){var R={fired:!1,wrapFn:void 0,target:M,type:A,listener:C},k=m.bind(R);return k.listener=C,R.wrapFn=k,k}a.prototype.once=function(M,A){return u(A),this.on(M,g(this,M,A)),this},a.prototype.prependOnceListener=function(M,A){return u(A),this.prependListener(M,g(this,M,A)),this},a.prototype.removeListener=function(M,A){var C,R,k,U,L;if(u(A),R=this._events,R===void 0)return this;if(C=R[M],C===void 0)return this;if(C===A||C.listener===A)--this._eventsCount===0?this._events=Object.create(null):(delete R[M],R.removeListener&&this.emit("removeListener",M,C.listener||A));else if(typeof C!="function"){for(k=-1,U=C.length-1;U>=0;U--)if(C[U]===A||C[U].listener===A){L=C[U].listener,k=U;break}if(k<0)return this;k===0?C.shift():w(C,k),C.length===1&&(R[M]=C[0]),R.removeListener!==void 0&&this.emit("removeListener",M,L||A)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(M){var A,C,R;if(C=this._events,C===void 0)return this;if(C.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):C[M]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete C[M]),this;if(arguments.length===0){var k=Object.keys(C),U;for(R=0;R<k.length;++R)U=k[R],U!=="removeListener"&&this.removeAllListeners(U);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(A=C[M],typeof A=="function")this.removeListener(M,A);else if(A!==void 0)for(R=A.length-1;R>=0;R--)this.removeListener(M,A[R]);return this};function b(M,A,C){var R=M._events;if(R===void 0)return[];var k=R[A];return k===void 0?[]:typeof k=="function"?C?[k.listener||k]:[k]:C?v(k):y(k,k.length)}a.prototype.listeners=function(M){return b(this,M,!0)},a.prototype.rawListeners=function(M){return b(this,M,!1)},a.listenerCount=function(M,A){return typeof M.listenerCount=="function"?M.listenerCount(A):j.call(M,A)},a.prototype.listenerCount=j;function j(M){var A=this._events;if(A!==void 0){var C=A[M];if(typeof C=="function")return 1;if(C!==void 0)return C.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?s(this._events):[]};function y(M,A){for(var C=new Array(A),R=0;R<A;++R)C[R]=M[R];return C}function w(M,A){for(;A+1<M.length;A++)M[A]=M[A+1];M.pop()}function v(M){for(var A=new Array(M.length),C=0;C<A.length;++C)A[C]=M[C].listener||M[C];return A}function N(M,A){return new Promise(function(C,R){function k(L){M.removeListener(A,U),R(L)}function U(){typeof M.removeListener=="function"&&M.removeListener("error",k),C([].slice.call(arguments))}_(M,A,U,{once:!0}),A!=="error"&&S(M,k,{once:!0})})}function S(M,A,C){typeof M.on=="function"&&_(M,"error",A,C)}function _(M,A,C,R){if(typeof M.on=="function")R.once?M.once(A,C):M.on(A,C);else if(typeof M.addEventListener=="function")M.addEventListener(A,function k(U){R.once&&M.removeEventListener(A,k),C(U)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof M)}return Cl}var Cl,Yg,ea,XE,ZE,JE,eA,tA,rA,di=on(()=>{Ie(),Ue(),Be(),Cl={},Yg=!1,ea=XB(),ea.once,ea.once=function(e,t){return new Promise((s,o)=>{function i(...c){a!==void 0&&e.removeListener("error",a),s(c)}let a;t!=="error"&&(a=c=>{e.removeListener(name,i),o(c)},e.once("error",a)),e.once(t,i)})},ea.on=function(e,t){let s=[],o=[],i=null,a=!1,c={async next(){let h=s.shift();if(h)return createIterResult(h,!1);if(i){let m=Promise.reject(i);return i=null,m}return a?createIterResult(void 0,!0):new Promise((m,g)=>o.push({resolve:m,reject:g}))},async return(){e.removeListener(t,u),e.removeListener("error",f),a=!0;for(let h of o)h.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(h){i=h,e.removeListener(t,u),e.removeListener("error",f)},[Symbol.asyncIterator](){return this}};return e.on(t,u),e.on("error",f),c;function u(...h){let m=o.shift();m?m.resolve(createIterResult(h,!1)):s.push(h)}function f(h){a=!0;let m=o.shift();m?m.reject(h):i=h,c.return()}},{EventEmitter:XE,defaultMaxListeners:ZE,init:JE,listenerCount:eA,on:tA,once:rA}=ea}),sn=ze((e,t)=>{Ie(),Ue(),Be();var s=(Sr(),Mt(wr)),{format:o,inspect:i}=YE(),{codes:{ERR_INVALID_ARG_TYPE:a}}=Vr(),{kResistStopPropagation:c,AggregateError:u,SymbolDispose:f}=Yt(),h=globalThis.AbortSignal||Gl().AbortSignal,m=globalThis.AbortController||Gl().AbortController,g=Object.getPrototypeOf(async function(){}).constructor,b=globalThis.Blob||s.Blob,j=typeof b<"u"?function(v){return v instanceof b}:function(v){return!1},y=(v,N)=>{if(v!==void 0&&(v===null||typeof v!="object"||!("aborted"in v)))throw new a(N,"AbortSignal",v)},w=(v,N)=>{if(typeof v!="function")throw new a(N,"Function",v)};t.exports={AggregateError:u,kEmptyObject:Object.freeze({}),once(v){let N=!1;return function(...S){N||(N=!0,v.apply(this,S))}},createDeferredPromise:function(){let v,N;return{promise:new Promise((S,_)=>{v=S,N=_}),resolve:v,reject:N}},promisify(v){return new Promise((N,S)=>{v((_,...M)=>_?S(_):N(...M))})},debuglog(){return function(){}},format:o,inspect:i,types:{isAsyncFunction(v){return v instanceof g},isArrayBufferView(v){return ArrayBuffer.isView(v)}},isBlob:j,deprecate(v,N){return v},addAbortListener:(di(),Mt(Eo)).addAbortListener||function(v,N){if(v===void 0)throw new a("signal","AbortSignal",v);y(v,"signal"),w(N,"listener");let S;return v.aborted?queueMicrotask(()=>N()):(v.addEventListener("abort",N,{__proto__:null,once:!0,[c]:!0}),S=()=>{v.removeEventListener("abort",N)}),{__proto__:null,[f](){var _;(_=S)===null||_===void 0||_()}}},AbortSignalAny:h.any||function(v){if(v.length===1)return v[0];let N=new m,S=()=>N.abort();return v.forEach(_=>{y(_,"signals"),_.addEventListener("abort",S,{once:!0})}),N.signal.addEventListener("abort",()=>{v.forEach(_=>_.removeEventListener("abort",S))},{once:!0}),N.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),ic=ze((e,t)=>{Ie(),Ue(),Be();var{ArrayIsArray:s,ArrayPrototypeIncludes:o,ArrayPrototypeJoin:i,ArrayPrototypeMap:a,NumberIsInteger:c,NumberIsNaN:u,NumberMAX_SAFE_INTEGER:f,NumberMIN_SAFE_INTEGER:h,NumberParseInt:m,ObjectPrototypeHasOwnProperty:g,RegExpPrototypeExec:b,String:j,StringPrototypeToUpperCase:y,StringPrototypeTrim:w}=Yt(),{hideStackFrames:v,codes:{ERR_SOCKET_BAD_PORT:N,ERR_INVALID_ARG_TYPE:S,ERR_INVALID_ARG_VALUE:_,ERR_OUT_OF_RANGE:M,ERR_UNKNOWN_SIGNAL:A}}=Vr(),{normalizeEncoding:C}=sn(),{isAsyncFunction:R,isArrayBufferView:k}=sn().types,U={};function L(Q){return Q===(Q|0)}function te(Q){return Q===Q>>>0}var V=/^[0-7]+$/,ie="must be a 32-bit unsigned integer or an octal string";function H(Q,W,ue){if(typeof Q>"u"&&(Q=ue),typeof Q=="string"){if(b(V,Q)===null)throw new _(W,Q,ie);Q=m(Q,8)}return K(Q,W),Q}var re=v((Q,W,ue=h,ae=f)=>{if(typeof Q!="number")throw new S(W,"number",Q);if(!c(Q))throw new M(W,"an integer",Q);if(Q<ue||Q>ae)throw new M(W,`>= ${ue} && <= ${ae}`,Q)}),$=v((Q,W,ue=-2147483648,ae=2147483647)=>{if(typeof Q!="number")throw new S(W,"number",Q);if(!c(Q))throw new M(W,"an integer",Q);if(Q<ue||Q>ae)throw new M(W,`>= ${ue} && <= ${ae}`,Q)}),K=v((Q,W,ue=!1)=>{if(typeof Q!="number")throw new S(W,"number",Q);if(!c(Q))throw new M(W,"an integer",Q);let ae=ue?1:0,Me=4294967295;if(Q<ae||Q>Me)throw new M(W,`>= ${ae} && <= ${Me}`,Q)});function X(Q,W){if(typeof Q!="string")throw new S(W,"string",Q)}function ne(Q,W,ue=void 0,ae){if(typeof Q!="number")throw new S(W,"number",Q);if(ue!=null&&Q<ue||ae!=null&&Q>ae||(ue!=null||ae!=null)&&u(Q))throw new M(W,`${ue!=null?`>= ${ue}`:""}${ue!=null&&ae!=null?" && ":""}${ae!=null?`<= ${ae}`:""}`,Q)}var G=v((Q,W,ue)=>{if(!o(ue,Q)){let ae="must be one of: "+i(a(ue,Me=>typeof Me=="string"?`'${Me}'`:j(Me)),", ");throw new _(W,Q,ae)}});function B(Q,W){if(typeof Q!="boolean")throw new S(W,"boolean",Q)}function z(Q,W,ue){return Q==null||!g(Q,W)?ue:Q[W]}var Z=v((Q,W,ue=null)=>{let ae=z(ue,"allowArray",!1),Me=z(ue,"allowFunction",!1);if(!z(ue,"nullable",!1)&&Q===null||!ae&&s(Q)||typeof Q!="object"&&(!Me||typeof Q!="function"))throw new S(W,"Object",Q)}),pe=v((Q,W)=>{if(Q!=null&&typeof Q!="object"&&typeof Q!="function")throw new S(W,"a dictionary",Q)}),he=v((Q,W,ue=0)=>{if(!s(Q))throw new S(W,"Array",Q);if(Q.length<ue){let ae=`must be longer than ${ue}`;throw new _(W,Q,ae)}});function Ee(Q,W){he(Q,W);for(let ue=0;ue<Q.length;ue++)X(Q[ue],`${W}[${ue}]`)}function de(Q,W){he(Q,W);for(let ue=0;ue<Q.length;ue++)B(Q[ue],`${W}[${ue}]`)}function le(Q,W){he(Q,W);for(let ue=0;ue<Q.length;ue++){let ae=Q[ue],Me=`${W}[${ue}]`;if(ae==null)throw new S(Me,"AbortSignal",ae);Pe(ae,Me)}}function Se(Q,W="signal"){if(X(Q,W),U[Q]===void 0)throw U[y(Q)]!==void 0?new A(Q+" (signals must use all capital letters)"):new A(Q)}var be=v((Q,W="buffer")=>{if(!k(Q))throw new S(W,["Buffer","TypedArray","DataView"],Q)});function ve(Q,W){let ue=C(W),ae=Q.length;if(ue==="hex"&&ae%2!==0)throw new _("encoding",W,`is invalid for data of length ${ae}`)}function we(Q,W="Port",ue=!0){if(typeof Q!="number"&&typeof Q!="string"||typeof Q=="string"&&w(Q).length===0||+Q!==+Q>>>0||Q>65535||Q===0&&!ue)throw new N(W,Q,ue);return Q|0}var Pe=v((Q,W)=>{if(Q!==void 0&&(Q===null||typeof Q!="object"||!("aborted"in Q)))throw new S(W,"AbortSignal",Q)}),Te=v((Q,W)=>{if(typeof Q!="function")throw new S(W,"Function",Q)}),ce=v((Q,W)=>{if(typeof Q!="function"||R(Q))throw new S(W,"Function",Q)}),Y=v((Q,W)=>{if(Q!==void 0)throw new S(W,"undefined",Q)});function se(Q,W,ue){if(!o(ue,Q))throw new S(W,`('${i(ue,"|")}')`,Q)}var q=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function I(Q,W){if(typeof Q>"u"||!b(q,Q))throw new _(W,Q,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function ee(Q){if(typeof Q=="string")return I(Q,"hints"),Q;if(s(Q)){let W=Q.length,ue="";if(W===0)return ue;for(let ae=0;ae<W;ae++){let Me=Q[ae];I(Me,"hints"),ue+=Me,ae!==W-1&&(ue+=", ")}return ue}throw new _("hints",Q,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}t.exports={isInt32:L,isUint32:te,parseFileMode:H,validateArray:he,validateStringArray:Ee,validateBooleanArray:de,validateAbortSignalArray:le,validateBoolean:B,validateBuffer:be,validateDictionary:pe,validateEncoding:ve,validateFunction:Te,validateInt32:$,validateInteger:re,validateNumber:ne,validateObject:Z,validateOneOf:G,validatePlainFunction:ce,validatePort:we,validateSignalName:Se,validateString:X,validateUint32:K,validateUndefined:Y,validateUnion:se,validateAbortSignal:Pe,validateLinkHeaderValue:ee}}),fi=ze((e,t)=>{Ie(),Ue(),Be();var s=t.exports={},o,i;function a(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?o=setTimeout:o=a}catch{o=a}try{typeof clearTimeout=="function"?i=clearTimeout:i=c}catch{i=c}})();function u(N){if(o===setTimeout)return setTimeout(N,0);if((o===a||!o)&&setTimeout)return o=setTimeout,setTimeout(N,0);try{return o(N,0)}catch{try{return o.call(null,N,0)}catch{return o.call(this,N,0)}}}function f(N){if(i===clearTimeout)return clearTimeout(N);if((i===c||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(N);try{return i(N)}catch{try{return i.call(null,N)}catch{return i.call(this,N)}}}var h=[],m=!1,g,b=-1;function j(){!m||!g||(m=!1,g.length?h=g.concat(h):b=-1,h.length&&y())}function y(){if(!m){var N=u(j);m=!0;for(var S=h.length;S;){for(g=h,h=[];++b<S;)g&&g[b].run();b=-1,S=h.length}g=null,m=!1,f(N)}}s.nextTick=function(N){var S=new Array(arguments.length-1);if(arguments.length>1)for(var _=1;_<arguments.length;_++)S[_-1]=arguments[_];h.push(new w(N,S)),h.length===1&&!m&&u(y)};function w(N,S){this.fun=N,this.array=S}w.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={};function v(){}s.on=v,s.addListener=v,s.once=v,s.off=v,s.removeListener=v,s.removeAllListeners=v,s.emit=v,s.prependListener=v,s.prependOnceListener=v,s.listeners=function(N){return[]},s.binding=function(N){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(N){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}}),Us=ze((e,t)=>{Ie(),Ue(),Be();var{SymbolAsyncIterator:s,SymbolIterator:o,SymbolFor:i}=Yt(),a=i("nodejs.stream.destroyed"),c=i("nodejs.stream.errored"),u=i("nodejs.stream.readable"),f=i("nodejs.stream.writable"),h=i("nodejs.stream.disturbed"),m=i("nodejs.webstream.isClosedPromise"),g=i("nodejs.webstream.controllerErrorFunction");function b(z,Z=!1){var pe;return!!(z&&typeof z.pipe=="function"&&typeof z.on=="function"&&(!Z||typeof z.pause=="function"&&typeof z.resume=="function")&&(!z._writableState||((pe=z._readableState)===null||pe===void 0?void 0:pe.readable)!==!1)&&(!z._writableState||z._readableState))}function j(z){var Z;return!!(z&&typeof z.write=="function"&&typeof z.on=="function"&&(!z._readableState||((Z=z._writableState)===null||Z===void 0?void 0:Z.writable)!==!1))}function y(z){return!!(z&&typeof z.pipe=="function"&&z._readableState&&typeof z.on=="function"&&typeof z.write=="function")}function w(z){return z&&(z._readableState||z._writableState||typeof z.write=="function"&&typeof z.on=="function"||typeof z.pipe=="function"&&typeof z.on=="function")}function v(z){return!!(z&&!w(z)&&typeof z.pipeThrough=="function"&&typeof z.getReader=="function"&&typeof z.cancel=="function")}function N(z){return!!(z&&!w(z)&&typeof z.getWriter=="function"&&typeof z.abort=="function")}function S(z){return!!(z&&!w(z)&&typeof z.readable=="object"&&typeof z.writable=="object")}function _(z){return v(z)||N(z)||S(z)}function M(z,Z){return z==null?!1:Z===!0?typeof z[s]=="function":Z===!1?typeof z[o]=="function":typeof z[s]=="function"||typeof z[o]=="function"}function A(z){if(!w(z))return null;let Z=z._writableState,pe=z._readableState,he=Z||pe;return!!(z.destroyed||z[a]||he!=null&&he.destroyed)}function C(z){if(!j(z))return null;if(z.writableEnded===!0)return!0;let Z=z._writableState;return Z!=null&&Z.errored?!1:typeof Z?.ended!="boolean"?null:Z.ended}function R(z,Z){if(!j(z))return null;if(z.writableFinished===!0)return!0;let pe=z._writableState;return pe!=null&&pe.errored?!1:typeof pe?.finished!="boolean"?null:!!(pe.finished||Z===!1&&pe.ended===!0&&pe.length===0)}function k(z){if(!b(z))return null;if(z.readableEnded===!0)return!0;let Z=z._readableState;return!Z||Z.errored?!1:typeof Z?.ended!="boolean"?null:Z.ended}function U(z,Z){if(!b(z))return null;let pe=z._readableState;return pe!=null&&pe.errored?!1:typeof pe?.endEmitted!="boolean"?null:!!(pe.endEmitted||Z===!1&&pe.ended===!0&&pe.length===0)}function L(z){return z&&z[u]!=null?z[u]:typeof z?.readable!="boolean"?null:A(z)?!1:b(z)&&z.readable&&!U(z)}function te(z){return z&&z[f]!=null?z[f]:typeof z?.writable!="boolean"?null:A(z)?!1:j(z)&&z.writable&&!C(z)}function V(z,Z){return w(z)?A(z)?!0:!(Z?.readable!==!1&&L(z)||Z?.writable!==!1&&te(z)):null}function ie(z){var Z,pe;return w(z)?z.writableErrored?z.writableErrored:(Z=(pe=z._writableState)===null||pe===void 0?void 0:pe.errored)!==null&&Z!==void 0?Z:null:null}function H(z){var Z,pe;return w(z)?z.readableErrored?z.readableErrored:(Z=(pe=z._readableState)===null||pe===void 0?void 0:pe.errored)!==null&&Z!==void 0?Z:null:null}function re(z){if(!w(z))return null;if(typeof z.closed=="boolean")return z.closed;let Z=z._writableState,pe=z._readableState;return typeof Z?.closed=="boolean"||typeof pe?.closed=="boolean"?Z?.closed||pe?.closed:typeof z._closed=="boolean"&&$(z)?z._closed:null}function $(z){return typeof z._closed=="boolean"&&typeof z._defaultKeepAlive=="boolean"&&typeof z._removedConnection=="boolean"&&typeof z._removedContLen=="boolean"}function K(z){return typeof z._sent100=="boolean"&&$(z)}function X(z){var Z;return typeof z._consuming=="boolean"&&typeof z._dumped=="boolean"&&((Z=z.req)===null||Z===void 0?void 0:Z.upgradeOrConnect)===void 0}function ne(z){if(!w(z))return null;let Z=z._writableState,pe=z._readableState,he=Z||pe;return!he&&K(z)||!!(he&&he.autoDestroy&&he.emitClose&&he.closed===!1)}function G(z){var Z;return!!(z&&((Z=z[h])!==null&&Z!==void 0?Z:z.readableDidRead||z.readableAborted))}function B(z){var Z,pe,he,Ee,de,le,Se,be,ve,we;return!!(z&&((Z=(pe=(he=(Ee=(de=(le=z[c])!==null&&le!==void 0?le:z.readableErrored)!==null&&de!==void 0?de:z.writableErrored)!==null&&Ee!==void 0?Ee:(Se=z._readableState)===null||Se===void 0?void 0:Se.errorEmitted)!==null&&he!==void 0?he:(be=z._writableState)===null||be===void 0?void 0:be.errorEmitted)!==null&&pe!==void 0?pe:(ve=z._readableState)===null||ve===void 0?void 0:ve.errored)!==null&&Z!==void 0?Z:!((we=z._writableState)===null||we===void 0)&&we.errored))}t.exports={isDestroyed:A,kIsDestroyed:a,isDisturbed:G,kIsDisturbed:h,isErrored:B,kIsErrored:c,isReadable:L,kIsReadable:u,kIsClosedPromise:m,kControllerErrorFunction:g,kIsWritable:f,isClosed:re,isDuplexNodeStream:y,isFinished:V,isIterable:M,isReadableNodeStream:b,isReadableStream:v,isReadableEnded:k,isReadableFinished:U,isReadableErrored:H,isNodeStream:w,isWebStream:_,isWritable:te,isWritableNodeStream:j,isWritableStream:N,isWritableEnded:C,isWritableFinished:R,isWritableErrored:ie,isServerRequest:X,isServerResponse:K,willEmitClose:ne,isTransformStream:S}}),Ao=ze((e,t)=>{Ie(),Ue(),Be();var s=fi(),{AbortError:o,codes:i}=Vr(),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_PREMATURE_CLOSE:c}=i,{kEmptyObject:u,once:f}=sn(),{validateAbortSignal:h,validateFunction:m,validateObject:g,validateBoolean:b}=ic(),{Promise:j,PromisePrototypeThen:y,SymbolDispose:w}=Yt(),{isClosed:v,isReadable:N,isReadableNodeStream:S,isReadableStream:_,isReadableFinished:M,isReadableErrored:A,isWritable:C,isWritableNodeStream:R,isWritableStream:k,isWritableFinished:U,isWritableErrored:L,isNodeStream:te,willEmitClose:V,kIsClosedPromise:ie}=Us(),H;function re(G){return G.setHeader&&typeof G.abort=="function"}var $=()=>{};function K(G,B,z){var Z,pe;if(arguments.length===2?(z=B,B=u):B==null?B=u:g(B,"options"),m(z,"callback"),h(B.signal,"options.signal"),z=f(z),_(G)||k(G))return X(G,B,z);if(!te(G))throw new a("stream",["ReadableStream","WritableStream","Stream"],G);let he=(Z=B.readable)!==null&&Z!==void 0?Z:S(G),Ee=(pe=B.writable)!==null&&pe!==void 0?pe:R(G),de=G._writableState,le=G._readableState,Se=()=>{G.writable||we()},be=V(G)&&S(G)===he&&R(G)===Ee,ve=U(G,!1),we=()=>{ve=!0,G.destroyed&&(be=!1),!(be&&(!G.readable||he))&&(!he||Pe)&&z.call(G)},Pe=M(G,!1),Te=()=>{Pe=!0,G.destroyed&&(be=!1),!(be&&(!G.writable||Ee))&&(!Ee||ve)&&z.call(G)},ce=Q=>{z.call(G,Q)},Y=v(G),se=()=>{Y=!0;let Q=L(G)||A(G);if(Q&&typeof Q!="boolean")return z.call(G,Q);if(he&&!Pe&&S(G,!0)&&!M(G,!1))return z.call(G,new c);if(Ee&&!ve&&!U(G,!1))return z.call(G,new c);z.call(G)},q=()=>{Y=!0;let Q=L(G)||A(G);if(Q&&typeof Q!="boolean")return z.call(G,Q);z.call(G)},I=()=>{G.req.on("finish",we)};re(G)?(G.on("complete",we),be||G.on("abort",se),G.req?I():G.on("request",I)):Ee&&!de&&(G.on("end",Se),G.on("close",Se)),!be&&typeof G.aborted=="boolean"&&G.on("aborted",se),G.on("end",Te),G.on("finish",we),B.error!==!1&&G.on("error",ce),G.on("close",se),Y?s.nextTick(se):de!=null&&de.errorEmitted||le!=null&&le.errorEmitted?be||s.nextTick(q):(!he&&(!be||N(G))&&(ve||C(G)===!1)||!Ee&&(!be||C(G))&&(Pe||N(G)===!1)||le&&G.req&&G.aborted)&&s.nextTick(q);let ee=()=>{z=$,G.removeListener("aborted",se),G.removeListener("complete",we),G.removeListener("abort",se),G.removeListener("request",I),G.req&&G.req.removeListener("finish",we),G.removeListener("end",Se),G.removeListener("close",Se),G.removeListener("finish",we),G.removeListener("end",Te),G.removeListener("error",ce),G.removeListener("close",se)};if(B.signal&&!Y){let Q=()=>{let W=z;ee(),W.call(G,new o(void 0,{cause:B.signal.reason}))};if(B.signal.aborted)s.nextTick(Q);else{H=H||sn().addAbortListener;let W=H(B.signal,Q),ue=z;z=f((...ae)=>{W[w](),ue.apply(G,ae)})}}return ee}function X(G,B,z){let Z=!1,pe=$;if(B.signal)if(pe=()=>{Z=!0,z.call(G,new o(void 0,{cause:B.signal.reason}))},B.signal.aborted)s.nextTick(pe);else{H=H||sn().addAbortListener;let Ee=H(B.signal,pe),de=z;z=f((...le)=>{Ee[w](),de.apply(G,le)})}let he=(...Ee)=>{Z||s.nextTick(()=>z.apply(G,Ee))};return y(G[ie].promise,he,he),$}function ne(G,B){var z;let Z=!1;return B===null&&(B=u),(z=B)!==null&&z!==void 0&&z.cleanup&&(b(B.cleanup,"cleanup"),Z=B.cleanup),new j((pe,he)=>{let Ee=K(G,B,de=>{Z&&Ee(),de?he(de):pe()})})}t.exports=K,t.exports.finished=ne}),Aa=ze((e,t)=>{Ie(),Ue(),Be();var s=fi(),{aggregateTwoErrors:o,codes:{ERR_MULTIPLE_CALLBACK:i},AbortError:a}=Vr(),{Symbol:c}=Yt(),{kIsDestroyed:u,isDestroyed:f,isFinished:h,isServerRequest:m}=Us(),g=c("kDestroy"),b=c("kConstruct");function j(V,ie,H){V&&(V.stack,ie&&!ie.errored&&(ie.errored=V),H&&!H.errored&&(H.errored=V))}function y(V,ie){let H=this._readableState,re=this._writableState,$=re||H;return re!=null&&re.destroyed||H!=null&&H.destroyed?(typeof ie=="function"&&ie(),this):(j(V,re,H),re&&(re.destroyed=!0),H&&(H.destroyed=!0),$.constructed?w(this,V,ie):this.once(g,function(K){w(this,o(K,V),ie)}),this)}function w(V,ie,H){let re=!1;function $(K){if(re)return;re=!0;let X=V._readableState,ne=V._writableState;j(K,ne,X),ne&&(ne.closed=!0),X&&(X.closed=!0),typeof H=="function"&&H(K),K?s.nextTick(v,V,K):s.nextTick(N,V)}try{V._destroy(ie||null,$)}catch(K){$(K)}}function v(V,ie){S(V,ie),N(V)}function N(V){let ie=V._readableState,H=V._writableState;H&&(H.closeEmitted=!0),ie&&(ie.closeEmitted=!0),(H!=null&&H.emitClose||ie!=null&&ie.emitClose)&&V.emit("close")}function S(V,ie){let H=V._readableState,re=V._writableState;re!=null&&re.errorEmitted||H!=null&&H.errorEmitted||(re&&(re.errorEmitted=!0),H&&(H.errorEmitted=!0),V.emit("error",ie))}function _(){let V=this._readableState,ie=this._writableState;V&&(V.constructed=!0,V.closed=!1,V.closeEmitted=!1,V.destroyed=!1,V.errored=null,V.errorEmitted=!1,V.reading=!1,V.ended=V.readable===!1,V.endEmitted=V.readable===!1),ie&&(ie.constructed=!0,ie.destroyed=!1,ie.closed=!1,ie.closeEmitted=!1,ie.errored=null,ie.errorEmitted=!1,ie.finalCalled=!1,ie.prefinished=!1,ie.ended=ie.writable===!1,ie.ending=ie.writable===!1,ie.finished=ie.writable===!1)}function M(V,ie,H){let re=V._readableState,$=V._writableState;if($!=null&&$.destroyed||re!=null&&re.destroyed)return this;re!=null&&re.autoDestroy||$!=null&&$.autoDestroy?V.destroy(ie):ie&&(ie.stack,$&&!$.errored&&($.errored=ie),re&&!re.errored&&(re.errored=ie),H?s.nextTick(S,V,ie):S(V,ie))}function A(V,ie){if(typeof V._construct!="function")return;let H=V._readableState,re=V._writableState;H&&(H.constructed=!1),re&&(re.constructed=!1),V.once(b,ie),!(V.listenerCount(b)>1)&&s.nextTick(C,V)}function C(V){let ie=!1;function H(re){if(ie){M(V,re??new i);return}ie=!0;let $=V._readableState,K=V._writableState,X=K||$;$&&($.constructed=!0),K&&(K.constructed=!0),X.destroyed?V.emit(g,re):re?M(V,re,!0):s.nextTick(R,V)}try{V._construct(re=>{s.nextTick(H,re)})}catch(re){s.nextTick(H,re)}}function R(V){V.emit(b)}function k(V){return V?.setHeader&&typeof V.abort=="function"}function U(V){V.emit("close")}function L(V,ie){V.emit("error",ie),s.nextTick(U,V)}function te(V,ie){!V||f(V)||(!ie&&!h(V)&&(ie=new a),m(V)?(V.socket=null,V.destroy(ie)):k(V)?V.abort():k(V.req)?V.req.abort():typeof V.destroy=="function"?V.destroy(ie):typeof V.close=="function"?V.close():ie?s.nextTick(L,V,ie):s.nextTick(U,V),V.destroyed||(V[u]=!0))}t.exports={construct:A,destroyer:te,destroy:y,undestroy:_,errorOrDestroy:M}}),t0=ze((e,t)=>{Ie(),Ue(),Be();var{ArrayIsArray:s,ObjectSetPrototypeOf:o}=Yt(),{EventEmitter:i}=(di(),Mt(Eo));function a(u){i.call(this,u)}o(a.prototype,i.prototype),o(a,i),a.prototype.pipe=function(u,f){let h=this;function m(N){u.writable&&u.write(N)===!1&&h.pause&&h.pause()}h.on("data",m);function g(){h.readable&&h.resume&&h.resume()}u.on("drain",g),!u._isStdio&&(!f||f.end!==!1)&&(h.on("end",j),h.on("close",y));let b=!1;function j(){b||(b=!0,u.end())}function y(){b||(b=!0,typeof u.destroy=="function"&&u.destroy())}function w(N){v(),i.listenerCount(this,"error")===0&&this.emit("error",N)}c(h,"error",w),c(u,"error",w);function v(){h.removeListener("data",m),u.removeListener("drain",g),h.removeListener("end",j),h.removeListener("close",y),h.removeListener("error",w),u.removeListener("error",w),h.removeListener("end",v),h.removeListener("close",v),u.removeListener("close",v)}return h.on("end",v),h.on("close",v),u.on("close",v),u.emit("pipe",h),u};function c(u,f,h){if(typeof u.prependListener=="function")return u.prependListener(f,h);!u._events||!u._events[f]?u.on(f,h):s(u._events[f])?u._events[f].unshift(h):u._events[f]=[h,u._events[f]]}t.exports={Stream:a,prependListener:c}}),nf=ze((e,t)=>{Ie(),Ue(),Be();var{SymbolDispose:s}=Yt(),{AbortError:o,codes:i}=Vr(),{isNodeStream:a,isWebStream:c,kControllerErrorFunction:u}=Us(),f=Ao(),{ERR_INVALID_ARG_TYPE:h}=i,m,g=(b,j)=>{if(typeof b!="object"||!("aborted"in b))throw new h(j,"AbortSignal",b)};t.exports.addAbortSignal=function(b,j){if(g(b,"signal"),!a(j)&&!c(j))throw new h("stream",["ReadableStream","WritableStream","Stream"],j);return t.exports.addAbortSignalNoValidate(b,j)},t.exports.addAbortSignalNoValidate=function(b,j){if(typeof b!="object"||!("aborted"in b))return j;let y=a(j)?()=>{j.destroy(new o(void 0,{cause:b.reason}))}:()=>{j[u](new o(void 0,{cause:b.reason}))};if(b.aborted)y();else{m=m||sn().addAbortListener;let w=m(b,y);f(j,w[s])}return j}}),ZB=ze((e,t)=>{Ie(),Ue(),Be();var{StringPrototypeSlice:s,SymbolIterator:o,TypedArrayPrototypeSet:i,Uint8Array:a}=Yt(),{Buffer:c}=(Sr(),Mt(wr)),{inspect:u}=sn();t.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(f){let h={data:f,next:null};this.length>0?this.tail.next=h:this.head=h,this.tail=h,++this.length}unshift(f){let h={data:f,next:this.head};this.length===0&&(this.tail=h),this.head=h,++this.length}shift(){if(this.length===0)return;let f=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,f}clear(){this.head=this.tail=null,this.length=0}join(f){if(this.length===0)return"";let h=this.head,m=""+h.data;for(;(h=h.next)!==null;)m+=f+h.data;return m}concat(f){if(this.length===0)return c.alloc(0);let h=c.allocUnsafe(f>>>0),m=this.head,g=0;for(;m;)i(h,m.data,g),g+=m.data.length,m=m.next;return h}consume(f,h){let m=this.head.data;if(f<m.length){let g=m.slice(0,f);return this.head.data=m.slice(f),g}return f===m.length?this.shift():h?this._getString(f):this._getBuffer(f)}first(){return this.head.data}*[o](){for(let f=this.head;f;f=f.next)yield f.data}_getString(f){let h="",m=this.head,g=0;do{let b=m.data;if(f>b.length)h+=b,f-=b.length;else{f===b.length?(h+=b,++g,m.next?this.head=m.next:this.head=this.tail=null):(h+=s(b,0,f),this.head=m,m.data=s(b,f));break}++g}while((m=m.next)!==null);return this.length-=g,h}_getBuffer(f){let h=c.allocUnsafe(f),m=f,g=this.head,b=0;do{let j=g.data;if(f>j.length)i(h,j,m-f),f-=j.length;else{f===j.length?(i(h,j,m-f),++b,g.next?this.head=g.next:this.head=this.tail=null):(i(h,new a(j.buffer,j.byteOffset,f),m-f),this.head=g,g.data=j.slice(f));break}++b}while((g=g.next)!==null);return this.length-=b,h}[Symbol.for("nodejs.util.inspect.custom")](f,h){return u(this,{...h,depth:0,customInspect:!1})}}}),sf=ze((e,t)=>{Ie(),Ue(),Be();var{MathFloor:s,NumberIsInteger:o}=Yt(),{validateInteger:i}=ic(),{ERR_INVALID_ARG_VALUE:a}=Vr().codes,c=16*1024,u=16;function f(b,j,y){return b.highWaterMark!=null?b.highWaterMark:j?b[y]:null}function h(b){return b?u:c}function m(b,j){i(j,"value",0),b?u=j:c=j}function g(b,j,y,w){let v=f(j,w,y);if(v!=null){if(!o(v)||v<0){let N=w?`options.${y}`:"options.highWaterMark";throw new a(N,v)}return s(v)}return h(b.objectMode)}t.exports={getHighWaterMark:g,getDefaultHighWaterMark:h,setDefaultHighWaterMark:m}}),JB=ze((e,t)=>{Ie(),Ue(),Be();var s=(Sr(),Mt(wr)),o=s.Buffer;function i(c,u){for(var f in c)u[f]=c[f]}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=s:(i(s,e),e.Buffer=a);function a(c,u,f){return o(c,u,f)}a.prototype=Object.create(o.prototype),i(o,a),a.from=function(c,u,f){if(typeof c=="number")throw new TypeError("Argument must not be a number");return o(c,u,f)},a.alloc=function(c,u,f){if(typeof c!="number")throw new TypeError("Argument must be a number");var h=o(c);return u!==void 0?typeof f=="string"?h.fill(u,f):h.fill(u):h.fill(0),h},a.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return o(c)},a.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(c)}}),eU=ze(e=>{Ie(),Ue(),Be();var t=JB().Buffer,s=t.isEncoding||function(S){switch(S=""+S,S&&S.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(S){if(!S)return"utf8";for(var _;;)switch(S){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return S;default:if(_)return;S=(""+S).toLowerCase(),_=!0}}function i(S){var _=o(S);if(typeof _!="string"&&(t.isEncoding===s||!s(S)))throw new Error("Unknown encoding: "+S);return _||S}e.StringDecoder=a;function a(S){this.encoding=i(S);var _;switch(this.encoding){case"utf16le":this.text=b,this.end=j,_=4;break;case"utf8":this.fillLast=h,_=4;break;case"base64":this.text=y,this.end=w,_=3;break;default:this.write=v,this.end=N;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(_)}a.prototype.write=function(S){if(S.length===0)return"";var _,M;if(this.lastNeed){if(_=this.fillLast(S),_===void 0)return"";M=this.lastNeed,this.lastNeed=0}else M=0;return M<S.length?_?_+this.text(S,M):this.text(S,M):_||""},a.prototype.end=g,a.prototype.text=m,a.prototype.fillLast=function(S){if(this.lastNeed<=S.length)return S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,S.length),this.lastNeed-=S.length};function c(S){return S<=127?0:S>>5===6?2:S>>4===14?3:S>>3===30?4:S>>6===2?-1:-2}function u(S,_,M){var A=_.length-1;if(A<M)return 0;var C=c(_[A]);return C>=0?(C>0&&(S.lastNeed=C-1),C):--A<M||C===-2?0:(C=c(_[A]),C>=0?(C>0&&(S.lastNeed=C-2),C):--A<M||C===-2?0:(C=c(_[A]),C>=0?(C>0&&(C===2?C=0:S.lastNeed=C-3),C):0))}function f(S,_,M){if((_[0]&192)!==128)return S.lastNeed=0,"";if(S.lastNeed>1&&_.length>1){if((_[1]&192)!==128)return S.lastNeed=1,"";if(S.lastNeed>2&&_.length>2&&(_[2]&192)!==128)return S.lastNeed=2,""}}function h(S){var _=this.lastTotal-this.lastNeed,M=f(this,S);if(M!==void 0)return M;if(this.lastNeed<=S.length)return S.copy(this.lastChar,_,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,_,0,S.length),this.lastNeed-=S.length}function m(S,_){var M=u(this,S,_);if(!this.lastNeed)return S.toString("utf8",_);this.lastTotal=M;var A=S.length-(M-this.lastNeed);return S.copy(this.lastChar,0,A),S.toString("utf8",_,A)}function g(S){var _=S&&S.length?this.write(S):"";return this.lastNeed?_+"":_}function b(S,_){if((S.length-_)%2===0){var M=S.toString("utf16le",_);if(M){var A=M.charCodeAt(M.length-1);if(A>=55296&&A<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1],M.slice(0,-1)}return M}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=S[S.length-1],S.toString("utf16le",_,S.length-1)}function j(S){var _=S&&S.length?this.write(S):"";if(this.lastNeed){var M=this.lastTotal-this.lastNeed;return _+this.lastChar.toString("utf16le",0,M)}return _}function y(S,_){var M=(S.length-_)%3;return M===0?S.toString("base64",_):(this.lastNeed=3-M,this.lastTotal=3,M===1?this.lastChar[0]=S[S.length-1]:(this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1]),S.toString("base64",_,S.length-M))}function w(S){var _=S&&S.length?this.write(S):"";return this.lastNeed?_+this.lastChar.toString("base64",0,3-this.lastNeed):_}function v(S){return S.toString(this.encoding)}function N(S){return S&&S.length?this.write(S):""}}),nA=ze((e,t)=>{Ie(),Ue(),Be();var s=fi(),{PromisePrototypeThen:o,SymbolAsyncIterator:i,SymbolIterator:a}=Yt(),{Buffer:c}=(Sr(),Mt(wr)),{ERR_INVALID_ARG_TYPE:u,ERR_STREAM_NULL_VALUES:f}=Vr().codes;function h(m,g,b){let j;if(typeof g=="string"||g instanceof c)return new m({objectMode:!0,...b,read(){this.push(g),this.push(null)}});let y;if(g&&g[i])y=!0,j=g[i]();else if(g&&g[a])y=!1,j=g[a]();else throw new u("iterable",["Iterable"],g);let w=new m({objectMode:!0,highWaterMark:1,...b}),v=!1;w._read=function(){v||(v=!0,S())},w._destroy=function(_,M){o(N(_),()=>s.nextTick(M,_),A=>s.nextTick(M,A||_))};async function N(_){let M=_!=null,A=typeof j.throw=="function";if(M&&A){let{value:C,done:R}=await j.throw(_);if(await C,R)return}if(typeof j.return=="function"){let{value:C}=await j.return();await C}}async function S(){for(;;){try{let{value:_,done:M}=y?await j.next():j.next();if(M)w.push(null);else{let A=_&&typeof _.then=="function"?await _:_;if(A===null)throw v=!1,new f;if(w.push(A))continue;v=!1}}catch(_){w.destroy(_)}break}}return w}t.exports=h}),of=ze((e,t)=>{Ie(),Ue(),Be();var s=fi(),{ArrayPrototypeIndexOf:o,NumberIsInteger:i,NumberIsNaN:a,NumberParseInt:c,ObjectDefineProperties:u,ObjectKeys:f,ObjectSetPrototypeOf:h,Promise:m,SafeSet:g,SymbolAsyncDispose:b,SymbolAsyncIterator:j,Symbol:y}=Yt();t.exports=ae,ae.ReadableState=ue;var{EventEmitter:w}=(di(),Mt(Eo)),{Stream:v,prependListener:N}=t0(),{Buffer:S}=(Sr(),Mt(wr)),{addAbortSignal:_}=nf(),M=Ao(),A=sn().debuglog("stream",oe=>{A=oe}),C=ZB(),R=Aa(),{getHighWaterMark:k,getDefaultHighWaterMark:U}=sf(),{aggregateTwoErrors:L,codes:{ERR_INVALID_ARG_TYPE:te,ERR_METHOD_NOT_IMPLEMENTED:V,ERR_OUT_OF_RANGE:ie,ERR_STREAM_PUSH_AFTER_EOF:H,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:re},AbortError:$}=Vr(),{validateObject:K}=ic(),X=y("kPaused"),{StringDecoder:ne}=eU(),G=nA();h(ae.prototype,v.prototype),h(ae,v);var B=()=>{},{errorOrDestroy:z}=R,Z=1,pe=2,he=4,Ee=8,de=16,le=32,Se=64,be=128,ve=256,we=512,Pe=1024,Te=2048,ce=4096,Y=8192,se=16384,q=32768,I=65536,ee=1<<17,Q=1<<18;function W(oe){return{enumerable:!1,get(){return(this.state&oe)!==0},set(fe){fe?this.state|=oe:this.state&=~oe}}}u(ue.prototype,{objectMode:W(Z),ended:W(pe),endEmitted:W(he),reading:W(Ee),constructed:W(de),sync:W(le),needReadable:W(Se),emittedReadable:W(be),readableListening:W(ve),resumeScheduled:W(we),errorEmitted:W(Pe),emitClose:W(Te),autoDestroy:W(ce),destroyed:W(Y),closed:W(se),closeEmitted:W(q),multiAwaitDrain:W(I),readingMore:W(ee),dataEmitted:W(Q)});function ue(oe,fe,We){typeof We!="boolean"&&(We=fe instanceof Ps()),this.state=Te|ce|de|le,oe&&oe.objectMode&&(this.state|=Z),We&&oe&&oe.readableObjectMode&&(this.state|=Z),this.highWaterMark=oe?k(this,oe,"readableHighWaterMark",We):U(!1),this.buffer=new C,this.length=0,this.pipes=[],this.flowing=null,this[X]=null,oe&&oe.emitClose===!1&&(this.state&=~Te),oe&&oe.autoDestroy===!1&&(this.state&=~ce),this.errored=null,this.defaultEncoding=oe&&oe.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,oe&&oe.encoding&&(this.decoder=new ne(oe.encoding),this.encoding=oe.encoding)}function ae(oe){if(!(this instanceof ae))return new ae(oe);let fe=this instanceof Ps();this._readableState=new ue(oe,this,fe),oe&&(typeof oe.read=="function"&&(this._read=oe.read),typeof oe.destroy=="function"&&(this._destroy=oe.destroy),typeof oe.construct=="function"&&(this._construct=oe.construct),oe.signal&&!fe&&_(oe.signal,this)),v.call(this,oe),R.construct(this,()=>{this._readableState.needReadable&&xe(this,this._readableState)})}ae.prototype.destroy=R.destroy,ae.prototype._undestroy=R.undestroy,ae.prototype._destroy=function(oe,fe){fe(oe)},ae.prototype[w.captureRejectionSymbol]=function(oe){this.destroy(oe)},ae.prototype[b]=function(){let oe;return this.destroyed||(oe=this.readableEnded?null:new $,this.destroy(oe)),new m((fe,We)=>M(this,Ke=>Ke&&Ke!==oe?We(Ke):fe(null)))},ae.prototype.push=function(oe,fe){return Me(this,oe,fe,!1)},ae.prototype.unshift=function(oe,fe){return Me(this,oe,fe,!0)};function Me(oe,fe,We,Ke){A("readableAddChunk",fe);let Qe=oe._readableState,Pt;if((Qe.state&Z)===0&&(typeof fe=="string"?(We=We||Qe.defaultEncoding,Qe.encoding!==We&&(Ke&&Qe.encoding?fe=S.from(fe,We).toString(Qe.encoding):(fe=S.from(fe,We),We=""))):fe instanceof S?We="":v._isUint8Array(fe)?(fe=v._uint8ArrayToBuffer(fe),We=""):fe!=null&&(Pt=new te("chunk",["string","Buffer","Uint8Array"],fe))),Pt)z(oe,Pt);else if(fe===null)Qe.state&=~Ee,ge(oe,Qe);else if((Qe.state&Z)!==0||fe&&fe.length>0)if(Ke)if((Qe.state&he)!==0)z(oe,new re);else{if(Qe.destroyed||Qe.errored)return!1;T(oe,Qe,fe,!0)}else if(Qe.ended)z(oe,new H);else{if(Qe.destroyed||Qe.errored)return!1;Qe.state&=~Ee,Qe.decoder&&!We?(fe=Qe.decoder.write(fe),Qe.objectMode||fe.length!==0?T(oe,Qe,fe,!1):xe(oe,Qe)):T(oe,Qe,fe,!1)}else Ke||(Qe.state&=~Ee,xe(oe,Qe));return!Qe.ended&&(Qe.length<Qe.highWaterMark||Qe.length===0)}function T(oe,fe,We,Ke){fe.flowing&&fe.length===0&&!fe.sync&&oe.listenerCount("data")>0?((fe.state&I)!==0?fe.awaitDrainWriters.clear():fe.awaitDrainWriters=null,fe.dataEmitted=!0,oe.emit("data",We)):(fe.length+=fe.objectMode?1:We.length,Ke?fe.buffer.unshift(We):fe.buffer.push(We),(fe.state&Se)!==0&&Ae(oe)),xe(oe,fe)}ae.prototype.isPaused=function(){let oe=this._readableState;return oe[X]===!0||oe.flowing===!1},ae.prototype.setEncoding=function(oe){let fe=new ne(oe);this._readableState.decoder=fe,this._readableState.encoding=this._readableState.decoder.encoding;let We=this._readableState.buffer,Ke="";for(let Qe of We)Ke+=fe.write(Qe);return We.clear(),Ke!==""&&We.push(Ke),this._readableState.length=Ke.length,this};var D=1073741824;function F(oe){if(oe>D)throw new ie("size","<= 1GiB",oe);return oe--,oe|=oe>>>1,oe|=oe>>>2,oe|=oe>>>4,oe|=oe>>>8,oe|=oe>>>16,oe++,oe}function me(oe,fe){return oe<=0||fe.length===0&&fe.ended?0:(fe.state&Z)!==0?1:a(oe)?fe.flowing&&fe.length?fe.buffer.first().length:fe.length:oe<=fe.length?oe:fe.ended?fe.length:0}ae.prototype.read=function(oe){A("read",oe),oe===void 0?oe=NaN:i(oe)||(oe=c(oe,10));let fe=this._readableState,We=oe;if(oe>fe.highWaterMark&&(fe.highWaterMark=F(oe)),oe!==0&&(fe.state&=~be),oe===0&&fe.needReadable&&((fe.highWaterMark!==0?fe.length>=fe.highWaterMark:fe.length>0)||fe.ended))return A("read: emitReadable",fe.length,fe.ended),fe.length===0&&fe.ended?nt(this):Ae(this),null;if(oe=me(oe,fe),oe===0&&fe.ended)return fe.length===0&&nt(this),null;let Ke=(fe.state&Se)!==0;if(A("need readable",Ke),(fe.length===0||fe.length-oe<fe.highWaterMark)&&(Ke=!0,A("length less than watermark",Ke)),fe.ended||fe.reading||fe.destroyed||fe.errored||!fe.constructed)Ke=!1,A("reading, ended or constructing",Ke);else if(Ke){A("do read"),fe.state|=Ee|le,fe.length===0&&(fe.state|=Se);try{this._read(fe.highWaterMark)}catch(Pt){z(this,Pt)}fe.state&=~le,fe.reading||(oe=me(We,fe))}let Qe;return oe>0?Qe=Nr(oe,fe):Qe=null,Qe===null?(fe.needReadable=fe.length<=fe.highWaterMark,oe=0):(fe.length-=oe,fe.multiAwaitDrain?fe.awaitDrainWriters.clear():fe.awaitDrainWriters=null),fe.length===0&&(fe.ended||(fe.needReadable=!0),We!==oe&&fe.ended&&nt(this)),Qe!==null&&!fe.errorEmitted&&!fe.closeEmitted&&(fe.dataEmitted=!0,this.emit("data",Qe)),Qe};function ge(oe,fe){if(A("onEofChunk"),!fe.ended){if(fe.decoder){let We=fe.decoder.end();We&&We.length&&(fe.buffer.push(We),fe.length+=fe.objectMode?1:We.length)}fe.ended=!0,fe.sync?Ae(oe):(fe.needReadable=!1,fe.emittedReadable=!0,$e(oe))}}function Ae(oe){let fe=oe._readableState;A("emitReadable",fe.needReadable,fe.emittedReadable),fe.needReadable=!1,fe.emittedReadable||(A("emitReadable",fe.flowing),fe.emittedReadable=!0,s.nextTick($e,oe))}function $e(oe){let fe=oe._readableState;A("emitReadable_",fe.destroyed,fe.length,fe.ended),!fe.destroyed&&!fe.errored&&(fe.length||fe.ended)&&(oe.emit("readable"),fe.emittedReadable=!1),fe.needReadable=!fe.flowing&&!fe.ended&&fe.length<=fe.highWaterMark,jr(oe)}function xe(oe,fe){!fe.readingMore&&fe.constructed&&(fe.readingMore=!0,s.nextTick(_e,oe,fe))}function _e(oe,fe){for(;!fe.reading&&!fe.ended&&(fe.length<fe.highWaterMark||fe.flowing&&fe.length===0);){let We=fe.length;if(A("maybeReadMore read 0"),oe.read(0),We===fe.length)break}fe.readingMore=!1}ae.prototype._read=function(oe){throw new V("_read()")},ae.prototype.pipe=function(oe,fe){let We=this,Ke=this._readableState;Ke.pipes.length===1&&(Ke.multiAwaitDrain||(Ke.multiAwaitDrain=!0,Ke.awaitDrainWriters=new g(Ke.awaitDrainWriters?[Ke.awaitDrainWriters]:[]))),Ke.pipes.push(oe),A("pipe count=%d opts=%j",Ke.pipes.length,fe);let Qe=(!fe||fe.end!==!1)&&oe!==s.stdout&&oe!==s.stderr?kt:ss;Ke.endEmitted?s.nextTick(Qe):We.once("end",Qe),oe.on("unpipe",Pt);function Pt(an,Lr){A("onunpipe"),an===We&&Lr&&Lr.hasUnpiped===!1&&(Lr.hasUnpiped=!0,Hr())}function kt(){A("onend"),oe.end()}let Ur,zs=!1;function Hr(){A("cleanup"),oe.removeListener("close",Wr),oe.removeListener("finish",Hn),Ur&&oe.removeListener("drain",Ur),oe.removeListener("error",Gr),oe.removeListener("unpipe",Pt),We.removeListener("end",kt),We.removeListener("end",ss),We.removeListener("data",fr),zs=!0,Ur&&Ke.awaitDrainWriters&&(!oe._writableState||oe._writableState.needDrain)&&Ur()}function Kt(){zs||(Ke.pipes.length===1&&Ke.pipes[0]===oe?(A("false write response, pause",0),Ke.awaitDrainWriters=oe,Ke.multiAwaitDrain=!1):Ke.pipes.length>1&&Ke.pipes.includes(oe)&&(A("false write response, pause",Ke.awaitDrainWriters.size),Ke.awaitDrainWriters.add(oe)),We.pause()),Ur||(Ur=Xe(We,oe),oe.on("drain",Ur))}We.on("data",fr);function fr(an){A("ondata");let Lr=oe.write(an);A("dest.write",Lr),Lr===!1&&Kt()}function Gr(an){if(A("onerror",an),ss(),oe.removeListener("error",Gr),oe.listenerCount("error")===0){let Lr=oe._writableState||oe._readableState;Lr&&!Lr.errorEmitted?z(oe,an):oe.emit("error",an)}}N(oe,"error",Gr);function Wr(){oe.removeListener("finish",Hn),ss()}oe.once("close",Wr);function Hn(){A("onfinish"),oe.removeListener("close",Wr),ss()}oe.once("finish",Hn);function ss(){A("unpipe"),We.unpipe(oe)}return oe.emit("pipe",We),oe.writableNeedDrain===!0?Kt():Ke.flowing||(A("pipe resume"),We.resume()),oe};function Xe(oe,fe){return function(){let We=oe._readableState;We.awaitDrainWriters===fe?(A("pipeOnDrain",1),We.awaitDrainWriters=null):We.multiAwaitDrain&&(A("pipeOnDrain",We.awaitDrainWriters.size),We.awaitDrainWriters.delete(fe)),(!We.awaitDrainWriters||We.awaitDrainWriters.size===0)&&oe.listenerCount("data")&&oe.resume()}}ae.prototype.unpipe=function(oe){let fe=this._readableState,We={hasUnpiped:!1};if(fe.pipes.length===0)return this;if(!oe){let Qe=fe.pipes;fe.pipes=[],this.pause();for(let Pt=0;Pt<Qe.length;Pt++)Qe[Pt].emit("unpipe",this,{hasUnpiped:!1});return this}let Ke=o(fe.pipes,oe);return Ke===-1?this:(fe.pipes.splice(Ke,1),fe.pipes.length===0&&this.pause(),oe.emit("unpipe",this,We),this)},ae.prototype.on=function(oe,fe){let We=v.prototype.on.call(this,oe,fe),Ke=this._readableState;return oe==="data"?(Ke.readableListening=this.listenerCount("readable")>0,Ke.flowing!==!1&&this.resume()):oe==="readable"&&!Ke.endEmitted&&!Ke.readableListening&&(Ke.readableListening=Ke.needReadable=!0,Ke.flowing=!1,Ke.emittedReadable=!1,A("on readable",Ke.length,Ke.reading),Ke.length?Ae(this):Ke.reading||s.nextTick(ot,this)),We},ae.prototype.addListener=ae.prototype.on,ae.prototype.removeListener=function(oe,fe){let We=v.prototype.removeListener.call(this,oe,fe);return oe==="readable"&&s.nextTick(Ye,this),We},ae.prototype.off=ae.prototype.removeListener,ae.prototype.removeAllListeners=function(oe){let fe=v.prototype.removeAllListeners.apply(this,arguments);return(oe==="readable"||oe===void 0)&&s.nextTick(Ye,this),fe};function Ye(oe){let fe=oe._readableState;fe.readableListening=oe.listenerCount("readable")>0,fe.resumeScheduled&&fe[X]===!1?fe.flowing=!0:oe.listenerCount("data")>0?oe.resume():fe.readableListening||(fe.flowing=null)}function ot(oe){A("readable nexttick read 0"),oe.read(0)}ae.prototype.resume=function(){let oe=this._readableState;return oe.flowing||(A("resume"),oe.flowing=!oe.readableListening,ut(this,oe)),oe[X]=!1,this};function ut(oe,fe){fe.resumeScheduled||(fe.resumeScheduled=!0,s.nextTick(er,oe,fe))}function er(oe,fe){A("resume",fe.reading),fe.reading||oe.read(0),fe.resumeScheduled=!1,oe.emit("resume"),jr(oe),fe.flowing&&!fe.reading&&oe.read(0)}ae.prototype.pause=function(){return A("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(A("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[X]=!0,this};function jr(oe){let fe=oe._readableState;for(A("flow",fe.flowing);fe.flowing&&oe.read()!==null;);}ae.prototype.wrap=function(oe){let fe=!1;oe.on("data",Ke=>{!this.push(Ke)&&oe.pause&&(fe=!0,oe.pause())}),oe.on("end",()=>{this.push(null)}),oe.on("error",Ke=>{z(this,Ke)}),oe.on("close",()=>{this.destroy()}),oe.on("destroy",()=>{this.destroy()}),this._read=()=>{fe&&oe.resume&&(fe=!1,oe.resume())};let We=f(oe);for(let Ke=1;Ke<We.length;Ke++){let Qe=We[Ke];this[Qe]===void 0&&typeof oe[Qe]=="function"&&(this[Qe]=oe[Qe].bind(oe))}return this},ae.prototype[j]=function(){return Ht(this)},ae.prototype.iterator=function(oe){return oe!==void 0&&K(oe,"options"),Ht(this,oe)};function Ht(oe,fe){typeof oe.read!="function"&&(oe=ae.wrap(oe,{objectMode:!0}));let We=yr(oe,fe);return We.stream=oe,We}async function*yr(oe,fe){let We=B;function Ke(kt){this===oe?(We(),We=B):We=kt}oe.on("readable",Ke);let Qe,Pt=M(oe,{writable:!1},kt=>{Qe=kt?L(Qe,kt):null,We(),We=B});try{for(;;){let kt=oe.destroyed?null:oe.read();if(kt!==null)yield kt;else{if(Qe)throw Qe;if(Qe===null)return;await new m(Ke)}}}catch(kt){throw Qe=L(Qe,kt),Qe}finally{(Qe||fe?.destroyOnReturn!==!1)&&(Qe===void 0||oe._readableState.autoDestroy)?R.destroyer(oe,null):(oe.off("readable",Ke),Pt())}}u(ae.prototype,{readable:{__proto__:null,get(){let oe=this._readableState;return!!oe&&oe.readable!==!1&&!oe.destroyed&&!oe.errorEmitted&&!oe.endEmitted},set(oe){this._readableState&&(this._readableState.readable=!!oe)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(oe){this._readableState&&(this._readableState.flowing=oe)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(oe){this._readableState&&(this._readableState.destroyed=oe)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),u(ue.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[X]!==!1},set(oe){this[X]=!!oe}}}),ae._fromList=Nr;function Nr(oe,fe){if(fe.length===0)return null;let We;return fe.objectMode?We=fe.buffer.shift():!oe||oe>=fe.length?(fe.decoder?We=fe.buffer.join(""):fe.buffer.length===1?We=fe.buffer.first():We=fe.buffer.concat(fe.length),fe.buffer.clear()):We=fe.buffer.consume(oe,fe.decoder),We}function nt(oe){let fe=oe._readableState;A("endReadable",fe.endEmitted),fe.endEmitted||(fe.ended=!0,s.nextTick(gt,fe,oe))}function gt(oe,fe){if(A("endReadableNT",oe.endEmitted,oe.length),!oe.errored&&!oe.closeEmitted&&!oe.endEmitted&&oe.length===0){if(oe.endEmitted=!0,fe.emit("end"),fe.writable&&fe.allowHalfOpen===!1)s.nextTick(Gt,fe);else if(oe.autoDestroy){let We=fe._writableState;(!We||We.autoDestroy&&(We.finished||We.writable===!1))&&fe.destroy()}}}function Gt(oe){oe.writable&&!oe.writableEnded&&!oe.destroyed&&oe.end()}ae.from=function(oe,fe){return G(ae,oe,fe)};var Wt;function qr(){return Wt===void 0&&(Wt={}),Wt}ae.fromWeb=function(oe,fe){return qr().newStreamReadableFromReadableStream(oe,fe)},ae.toWeb=function(oe,fe){return qr().newReadableStreamFromStreamReadable(oe,fe)},ae.wrap=function(oe,fe){var We,Ke;return new ae({objectMode:(We=(Ke=oe.readableObjectMode)!==null&&Ke!==void 0?Ke:oe.objectMode)!==null&&We!==void 0?We:!0,...fe,destroy(Qe,Pt){R.destroyer(oe,Qe),Pt(Qe)}}).wrap(oe)}}),r0=ze((e,t)=>{Ie(),Ue(),Be();var s=fi(),{ArrayPrototypeSlice:o,Error:i,FunctionPrototypeSymbolHasInstance:a,ObjectDefineProperty:c,ObjectDefineProperties:u,ObjectSetPrototypeOf:f,StringPrototypeToLowerCase:h,Symbol:m,SymbolHasInstance:g}=Yt();t.exports=K,K.WritableState=re;var{EventEmitter:b}=(di(),Mt(Eo)),j=t0().Stream,{Buffer:y}=(Sr(),Mt(wr)),w=Aa(),{addAbortSignal:v}=nf(),{getHighWaterMark:N,getDefaultHighWaterMark:S}=sf(),{ERR_INVALID_ARG_TYPE:_,ERR_METHOD_NOT_IMPLEMENTED:M,ERR_MULTIPLE_CALLBACK:A,ERR_STREAM_CANNOT_PIPE:C,ERR_STREAM_DESTROYED:R,ERR_STREAM_ALREADY_FINISHED:k,ERR_STREAM_NULL_VALUES:U,ERR_STREAM_WRITE_AFTER_END:L,ERR_UNKNOWN_ENCODING:te}=Vr().codes,{errorOrDestroy:V}=w;f(K.prototype,j.prototype),f(K,j);function ie(){}var H=m("kOnFinished");function re(ce,Y,se){typeof se!="boolean"&&(se=Y instanceof Ps()),this.objectMode=!!(ce&&ce.objectMode),se&&(this.objectMode=this.objectMode||!!(ce&&ce.writableObjectMode)),this.highWaterMark=ce?N(this,ce,"writableHighWaterMark",se):S(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let q=!!(ce&&ce.decodeStrings===!1);this.decodeStrings=!q,this.defaultEncoding=ce&&ce.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=z.bind(void 0,Y),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,$(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!ce||ce.emitClose!==!1,this.autoDestroy=!ce||ce.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[H]=[]}function $(ce){ce.buffered=[],ce.bufferedIndex=0,ce.allBuffers=!0,ce.allNoop=!0}re.prototype.getBuffer=function(){return o(this.buffered,this.bufferedIndex)},c(re.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function K(ce){let Y=this instanceof Ps();if(!Y&&!a(K,this))return new K(ce);this._writableState=new re(ce,this,Y),ce&&(typeof ce.write=="function"&&(this._write=ce.write),typeof ce.writev=="function"&&(this._writev=ce.writev),typeof ce.destroy=="function"&&(this._destroy=ce.destroy),typeof ce.final=="function"&&(this._final=ce.final),typeof ce.construct=="function"&&(this._construct=ce.construct),ce.signal&&v(ce.signal,this)),j.call(this,ce),w.construct(this,()=>{let se=this._writableState;se.writing||Ee(this,se),be(this,se)})}c(K,g,{__proto__:null,value:function(ce){return a(this,ce)?!0:this!==K?!1:ce&&ce._writableState instanceof re}}),K.prototype.pipe=function(){V(this,new C)};function X(ce,Y,se,q){let I=ce._writableState;if(typeof se=="function")q=se,se=I.defaultEncoding;else{if(!se)se=I.defaultEncoding;else if(se!=="buffer"&&!y.isEncoding(se))throw new te(se);typeof q!="function"&&(q=ie)}if(Y===null)throw new U;if(!I.objectMode)if(typeof Y=="string")I.decodeStrings!==!1&&(Y=y.from(Y,se),se="buffer");else if(Y instanceof y)se="buffer";else if(j._isUint8Array(Y))Y=j._uint8ArrayToBuffer(Y),se="buffer";else throw new _("chunk",["string","Buffer","Uint8Array"],Y);let ee;return I.ending?ee=new L:I.destroyed&&(ee=new R("write")),ee?(s.nextTick(q,ee),V(ce,ee,!0),ee):(I.pendingcb++,ne(ce,I,Y,se,q))}K.prototype.write=function(ce,Y,se){return X(this,ce,Y,se)===!0},K.prototype.cork=function(){this._writableState.corked++},K.prototype.uncork=function(){let ce=this._writableState;ce.corked&&(ce.corked--,ce.writing||Ee(this,ce))},K.prototype.setDefaultEncoding=function(ce){if(typeof ce=="string"&&(ce=h(ce)),!y.isEncoding(ce))throw new te(ce);return this._writableState.defaultEncoding=ce,this};function ne(ce,Y,se,q,I){let ee=Y.objectMode?1:se.length;Y.length+=ee;let Q=Y.length<Y.highWaterMark;return Q||(Y.needDrain=!0),Y.writing||Y.corked||Y.errored||!Y.constructed?(Y.buffered.push({chunk:se,encoding:q,callback:I}),Y.allBuffers&&q!=="buffer"&&(Y.allBuffers=!1),Y.allNoop&&I!==ie&&(Y.allNoop=!1)):(Y.writelen=ee,Y.writecb=I,Y.writing=!0,Y.sync=!0,ce._write(se,q,Y.onwrite),Y.sync=!1),Q&&!Y.errored&&!Y.destroyed}function G(ce,Y,se,q,I,ee,Q){Y.writelen=q,Y.writecb=Q,Y.writing=!0,Y.sync=!0,Y.destroyed?Y.onwrite(new R("write")):se?ce._writev(I,Y.onwrite):ce._write(I,ee,Y.onwrite),Y.sync=!1}function B(ce,Y,se,q){--Y.pendingcb,q(se),he(Y),V(ce,se)}function z(ce,Y){let se=ce._writableState,q=se.sync,I=se.writecb;if(typeof I!="function"){V(ce,new A);return}se.writing=!1,se.writecb=null,se.length-=se.writelen,se.writelen=0,Y?(Y.stack,se.errored||(se.errored=Y),ce._readableState&&!ce._readableState.errored&&(ce._readableState.errored=Y),q?s.nextTick(B,ce,se,Y,I):B(ce,se,Y,I)):(se.buffered.length>se.bufferedIndex&&Ee(ce,se),q?se.afterWriteTickInfo!==null&&se.afterWriteTickInfo.cb===I?se.afterWriteTickInfo.count++:(se.afterWriteTickInfo={count:1,cb:I,stream:ce,state:se},s.nextTick(Z,se.afterWriteTickInfo)):pe(ce,se,1,I))}function Z({stream:ce,state:Y,count:se,cb:q}){return Y.afterWriteTickInfo=null,pe(ce,Y,se,q)}function pe(ce,Y,se,q){for(!Y.ending&&!ce.destroyed&&Y.length===0&&Y.needDrain&&(Y.needDrain=!1,ce.emit("drain"));se-- >0;)Y.pendingcb--,q();Y.destroyed&&he(Y),be(ce,Y)}function he(ce){if(ce.writing)return;for(let I=ce.bufferedIndex;I<ce.buffered.length;++I){var Y;let{chunk:ee,callback:Q}=ce.buffered[I],W=ce.objectMode?1:ee.length;ce.length-=W,Q((Y=ce.errored)!==null&&Y!==void 0?Y:new R("write"))}let se=ce[H].splice(0);for(let I=0;I<se.length;I++){var q;se[I]((q=ce.errored)!==null&&q!==void 0?q:new R("end"))}$(ce)}function Ee(ce,Y){if(Y.corked||Y.bufferProcessing||Y.destroyed||!Y.constructed)return;let{buffered:se,bufferedIndex:q,objectMode:I}=Y,ee=se.length-q;if(!ee)return;let Q=q;if(Y.bufferProcessing=!0,ee>1&&ce._writev){Y.pendingcb-=ee-1;let W=Y.allNoop?ie:ae=>{for(let Me=Q;Me<se.length;++Me)se[Me].callback(ae)},ue=Y.allNoop&&Q===0?se:o(se,Q);ue.allBuffers=Y.allBuffers,G(ce,Y,!0,Y.length,ue,"",W),$(Y)}else{do{let{chunk:W,encoding:ue,callback:ae}=se[Q];se[Q++]=null;let Me=I?1:W.length;G(ce,Y,!1,Me,W,ue,ae)}while(Q<se.length&&!Y.writing);Q===se.length?$(Y):Q>256?(se.splice(0,Q),Y.bufferedIndex=0):Y.bufferedIndex=Q}Y.bufferProcessing=!1}K.prototype._write=function(ce,Y,se){if(this._writev)this._writev([{chunk:ce,encoding:Y}],se);else throw new M("_write()")},K.prototype._writev=null,K.prototype.end=function(ce,Y,se){let q=this._writableState;typeof ce=="function"?(se=ce,ce=null,Y=null):typeof Y=="function"&&(se=Y,Y=null);let I;if(ce!=null){let ee=X(this,ce,Y);ee instanceof i&&(I=ee)}return q.corked&&(q.corked=1,this.uncork()),I||(!q.errored&&!q.ending?(q.ending=!0,be(this,q,!0),q.ended=!0):q.finished?I=new k("end"):q.destroyed&&(I=new R("end"))),typeof se=="function"&&(I||q.finished?s.nextTick(se,I):q[H].push(se)),this};function de(ce){return ce.ending&&!ce.destroyed&&ce.constructed&&ce.length===0&&!ce.errored&&ce.buffered.length===0&&!ce.finished&&!ce.writing&&!ce.errorEmitted&&!ce.closeEmitted}function le(ce,Y){let se=!1;function q(I){if(se){V(ce,I??A());return}if(se=!0,Y.pendingcb--,I){let ee=Y[H].splice(0);for(let Q=0;Q<ee.length;Q++)ee[Q](I);V(ce,I,Y.sync)}else de(Y)&&(Y.prefinished=!0,ce.emit("prefinish"),Y.pendingcb++,s.nextTick(ve,ce,Y))}Y.sync=!0,Y.pendingcb++;try{ce._final(q)}catch(I){q(I)}Y.sync=!1}function Se(ce,Y){!Y.prefinished&&!Y.finalCalled&&(typeof ce._final=="function"&&!Y.destroyed?(Y.finalCalled=!0,le(ce,Y)):(Y.prefinished=!0,ce.emit("prefinish")))}function be(ce,Y,se){de(Y)&&(Se(ce,Y),Y.pendingcb===0&&(se?(Y.pendingcb++,s.nextTick((q,I)=>{de(I)?ve(q,I):I.pendingcb--},ce,Y)):de(Y)&&(Y.pendingcb++,ve(ce,Y))))}function ve(ce,Y){Y.pendingcb--,Y.finished=!0;let se=Y[H].splice(0);for(let q=0;q<se.length;q++)se[q]();if(ce.emit("finish"),Y.autoDestroy){let q=ce._readableState;(!q||q.autoDestroy&&(q.endEmitted||q.readable===!1))&&ce.destroy()}}u(K.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(ce){this._writableState&&(this._writableState.destroyed=ce)}},writable:{__proto__:null,get(){let ce=this._writableState;return!!ce&&ce.writable!==!1&&!ce.destroyed&&!ce.errored&&!ce.ending&&!ce.ended},set(ce){this._writableState&&(this._writableState.writable=!!ce)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let ce=this._writableState;return ce?!ce.destroyed&&!ce.ending&&ce.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var we=w.destroy;K.prototype.destroy=function(ce,Y){let se=this._writableState;return!se.destroyed&&(se.bufferedIndex<se.buffered.length||se[H].length)&&s.nextTick(he,se),we.call(this,ce,Y),this},K.prototype._undestroy=w.undestroy,K.prototype._destroy=function(ce,Y){Y(ce)},K.prototype[b.captureRejectionSymbol]=function(ce){this.destroy(ce)};var Pe;function Te(){return Pe===void 0&&(Pe={}),Pe}K.fromWeb=function(ce,Y){return Te().newStreamWritableFromWritableStream(ce,Y)},K.toWeb=function(ce){return Te().newWritableStreamFromStreamWritable(ce)}}),tU=ze((e,t)=>{Ie(),Ue(),Be();var s=fi(),o=(Sr(),Mt(wr)),{isReadable:i,isWritable:a,isIterable:c,isNodeStream:u,isReadableNodeStream:f,isWritableNodeStream:h,isDuplexNodeStream:m,isReadableStream:g,isWritableStream:b}=Us(),j=Ao(),{AbortError:y,codes:{ERR_INVALID_ARG_TYPE:w,ERR_INVALID_RETURN_VALUE:v}}=Vr(),{destroyer:N}=Aa(),S=Ps(),_=of(),M=r0(),{createDeferredPromise:A}=sn(),C=nA(),R=globalThis.Blob||o.Blob,k=typeof R<"u"?function(H){return H instanceof R}:function(H){return!1},U=globalThis.AbortController||Gl().AbortController,{FunctionPrototypeCall:L}=Yt(),te=class extends S{constructor(H){super(H),H?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),H?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};t.exports=function H(re,$){if(m(re))return re;if(f(re))return ie({readable:re});if(h(re))return ie({writable:re});if(u(re))return ie({writable:!1,readable:!1});if(g(re))return ie({readable:_.fromWeb(re)});if(b(re))return ie({writable:M.fromWeb(re)});if(typeof re=="function"){let{value:X,write:ne,final:G,destroy:B}=V(re);if(c(X))return C(te,X,{objectMode:!0,write:ne,final:G,destroy:B});let z=X?.then;if(typeof z=="function"){let Z,pe=L(z,X,he=>{if(he!=null)throw new v("nully","body",he)},he=>{N(Z,he)});return Z=new te({objectMode:!0,readable:!1,write:ne,final(he){G(async()=>{try{await pe,s.nextTick(he,null)}catch(Ee){s.nextTick(he,Ee)}})},destroy:B})}throw new v("Iterable, AsyncIterable or AsyncFunction",$,X)}if(k(re))return H(re.arrayBuffer());if(c(re))return C(te,re,{objectMode:!0,writable:!1});if(g(re?.readable)&&b(re?.writable))return te.fromWeb(re);if(typeof re?.writable=="object"||typeof re?.readable=="object"){let X=re!=null&&re.readable?f(re?.readable)?re?.readable:H(re.readable):void 0,ne=re!=null&&re.writable?h(re?.writable)?re?.writable:H(re.writable):void 0;return ie({readable:X,writable:ne})}let K=re?.then;if(typeof K=="function"){let X;return L(K,re,ne=>{ne!=null&&X.push(ne),X.push(null)},ne=>{N(X,ne)}),X=new te({objectMode:!0,writable:!1,read(){}})}throw new w($,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],re)};function V(H){let{promise:re,resolve:$}=A(),K=new U,X=K.signal;return{value:H((async function*(){for(;;){let ne=re;re=null;let{chunk:G,done:B,cb:z}=await ne;if(s.nextTick(z),B)return;if(X.aborted)throw new y(void 0,{cause:X.reason});({promise:re,resolve:$}=A()),yield G}})(),{signal:X}),write(ne,G,B){let z=$;$=null,z({chunk:ne,done:!1,cb:B})},final(ne){let G=$;$=null,G({done:!0,cb:ne})},destroy(ne,G){K.abort(),G(ne)}}}function ie(H){let re=H.readable&&typeof H.readable.read!="function"?_.wrap(H.readable):H.readable,$=H.writable,K=!!i(re),X=!!a($),ne,G,B,z,Z;function pe(he){let Ee=z;z=null,Ee?Ee(he):he&&Z.destroy(he)}return Z=new te({readableObjectMode:!!(re!=null&&re.readableObjectMode),writableObjectMode:!!($!=null&&$.writableObjectMode),readable:K,writable:X}),X&&(j($,he=>{X=!1,he&&N(re,he),pe(he)}),Z._write=function(he,Ee,de){$.write(he,Ee)?de():ne=de},Z._final=function(he){$.end(),G=he},$.on("drain",function(){if(ne){let he=ne;ne=null,he()}}),$.on("finish",function(){if(G){let he=G;G=null,he()}})),K&&(j(re,he=>{K=!1,he&&N(re,he),pe(he)}),re.on("readable",function(){if(B){let he=B;B=null,he()}}),re.on("end",function(){Z.push(null)}),Z._read=function(){for(;;){let he=re.read();if(he===null){B=Z._read;return}if(!Z.push(he))return}}),Z._destroy=function(he,Ee){!he&&z!==null&&(he=new y),B=null,ne=null,G=null,z===null?Ee(he):(z=Ee,N($,he),N(re,he))},Z}}),Ps=ze((e,t)=>{Ie(),Ue(),Be();var{ObjectDefineProperties:s,ObjectGetOwnPropertyDescriptor:o,ObjectKeys:i,ObjectSetPrototypeOf:a}=Yt();t.exports=f;var c=of(),u=r0();a(f.prototype,c.prototype),a(f,c);{let b=i(u.prototype);for(let j=0;j<b.length;j++){let y=b[j];f.prototype[y]||(f.prototype[y]=u.prototype[y])}}function f(b){if(!(this instanceof f))return new f(b);c.call(this,b),u.call(this,b),b?(this.allowHalfOpen=b.allowHalfOpen!==!1,b.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),b.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}s(f.prototype,{writable:{__proto__:null,...o(u.prototype,"writable")},writableHighWaterMark:{__proto__:null,...o(u.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...o(u.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...o(u.prototype,"writableBuffer")},writableLength:{__proto__:null,...o(u.prototype,"writableLength")},writableFinished:{__proto__:null,...o(u.prototype,"writableFinished")},writableCorked:{__proto__:null,...o(u.prototype,"writableCorked")},writableEnded:{__proto__:null,...o(u.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...o(u.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(b){this._readableState&&this._writableState&&(this._readableState.destroyed=b,this._writableState.destroyed=b)}}});var h;function m(){return h===void 0&&(h={}),h}f.fromWeb=function(b,j){return m().newStreamDuplexFromReadableWritablePair(b,j)},f.toWeb=function(b){return m().newReadableWritablePairFromDuplex(b)};var g;f.from=function(b){return g||(g=tU()),g(b,"body")}}),sA=ze((e,t)=>{Ie(),Ue(),Be();var{ObjectSetPrototypeOf:s,Symbol:o}=Yt();t.exports=f;var{ERR_METHOD_NOT_IMPLEMENTED:i}=Vr().codes,a=Ps(),{getHighWaterMark:c}=sf();s(f.prototype,a.prototype),s(f,a);var u=o("kCallback");function f(g){if(!(this instanceof f))return new f(g);let b=g?c(this,g,"readableHighWaterMark",!0):null;b===0&&(g={...g,highWaterMark:null,readableHighWaterMark:b,writableHighWaterMark:g.writableHighWaterMark||0}),a.call(this,g),this._readableState.sync=!1,this[u]=null,g&&(typeof g.transform=="function"&&(this._transform=g.transform),typeof g.flush=="function"&&(this._flush=g.flush)),this.on("prefinish",m)}function h(g){typeof this._flush=="function"&&!this.destroyed?this._flush((b,j)=>{if(b){g?g(b):this.destroy(b);return}j!=null&&this.push(j),this.push(null),g&&g()}):(this.push(null),g&&g())}function m(){this._final!==h&&h.call(this)}f.prototype._final=h,f.prototype._transform=function(g,b,j){throw new i("_transform()")},f.prototype._write=function(g,b,j){let y=this._readableState,w=this._writableState,v=y.length;this._transform(g,b,(N,S)=>{if(N){j(N);return}S!=null&&this.push(S),w.ended||v===y.length||y.length<y.highWaterMark?j():this[u]=j})},f.prototype._read=function(){if(this[u]){let g=this[u];this[u]=null,g()}}}),oA=ze((e,t)=>{Ie(),Ue(),Be();var{ObjectSetPrototypeOf:s}=Yt();t.exports=i;var o=sA();s(i.prototype,o.prototype),s(i,o);function i(a){if(!(this instanceof i))return new i(a);o.call(this,a)}i.prototype._transform=function(a,c,u){u(null,a)}}),n0=ze((e,t)=>{Ie(),Ue(),Be();var s=fi(),{ArrayIsArray:o,Promise:i,SymbolAsyncIterator:a,SymbolDispose:c}=Yt(),u=Ao(),{once:f}=sn(),h=Aa(),m=Ps(),{aggregateTwoErrors:g,codes:{ERR_INVALID_ARG_TYPE:b,ERR_INVALID_RETURN_VALUE:j,ERR_MISSING_ARGS:y,ERR_STREAM_DESTROYED:w,ERR_STREAM_PREMATURE_CLOSE:v},AbortError:N}=Vr(),{validateFunction:S,validateAbortSignal:_}=ic(),{isIterable:M,isReadable:A,isReadableNodeStream:C,isNodeStream:R,isTransformStream:k,isWebStream:U,isReadableStream:L,isReadableFinished:te}=Us(),V=globalThis.AbortController||Gl().AbortController,ie,H,re;function $(he,Ee,de){let le=!1;he.on("close",()=>{le=!0});let Se=u(he,{readable:Ee,writable:de},be=>{le=!be});return{destroy:be=>{le||(le=!0,h.destroyer(he,be||new w("pipe")))},cleanup:Se}}function K(he){return S(he[he.length-1],"streams[stream.length - 1]"),he.pop()}function X(he){if(M(he))return he;if(C(he))return ne(he);throw new b("val",["Readable","Iterable","AsyncIterable"],he)}async function*ne(he){H||(H=of()),yield*H.prototype[a].call(he)}async function G(he,Ee,de,{end:le}){let Se,be=null,ve=Te=>{if(Te&&(Se=Te),be){let ce=be;be=null,ce()}},we=()=>new i((Te,ce)=>{Se?ce(Se):be=()=>{Se?ce(Se):Te()}});Ee.on("drain",ve);let Pe=u(Ee,{readable:!1},ve);try{Ee.writableNeedDrain&&await we();for await(let Te of he)Ee.write(Te)||await we();le&&(Ee.end(),await we()),de()}catch(Te){de(Se!==Te?g(Se,Te):Te)}finally{Pe(),Ee.off("drain",ve)}}async function B(he,Ee,de,{end:le}){k(Ee)&&(Ee=Ee.writable);let Se=Ee.getWriter();try{for await(let be of he)await Se.ready,Se.write(be).catch(()=>{});await Se.ready,le&&await Se.close(),de()}catch(be){try{await Se.abort(be),de(be)}catch(ve){de(ve)}}}function z(...he){return Z(he,f(K(he)))}function Z(he,Ee,de){if(he.length===1&&o(he[0])&&(he=he[0]),he.length<2)throw new y("streams");let le=new V,Se=le.signal,be=de?.signal,ve=[];_(be,"options.signal");function we(){I(new N)}re=re||sn().addAbortListener;let Pe;be&&(Pe=re(be,we));let Te,ce,Y=[],se=0;function q(ue){I(ue,--se===0)}function I(ue,ae){var Me;if(ue&&(!Te||Te.code==="ERR_STREAM_PREMATURE_CLOSE")&&(Te=ue),!(!Te&&!ae)){for(;Y.length;)Y.shift()(Te);(Me=Pe)===null||Me===void 0||Me[c](),le.abort(),ae&&(Te||ve.forEach(T=>T()),s.nextTick(Ee,Te,ce))}}let ee;for(let ue=0;ue<he.length;ue++){let ae=he[ue],Me=ue<he.length-1,T=ue>0,D=Me||de?.end!==!1,F=ue===he.length-1;if(R(ae)){let me=function(ge){ge&&ge.name!=="AbortError"&&ge.code!=="ERR_STREAM_PREMATURE_CLOSE"&&q(ge)};if(D){let{destroy:ge,cleanup:Ae}=$(ae,Me,T);Y.push(ge),A(ae)&&F&&ve.push(Ae)}ae.on("error",me),A(ae)&&F&&ve.push(()=>{ae.removeListener("error",me)})}if(ue===0)if(typeof ae=="function"){if(ee=ae({signal:Se}),!M(ee))throw new j("Iterable, AsyncIterable or Stream","source",ee)}else M(ae)||C(ae)||k(ae)?ee=ae:ee=m.from(ae);else if(typeof ae=="function"){if(k(ee)){var Q;ee=X((Q=ee)===null||Q===void 0?void 0:Q.readable)}else ee=X(ee);if(ee=ae(ee,{signal:Se}),Me){if(!M(ee,!0))throw new j("AsyncIterable",`transform[${ue-1}]`,ee)}else{var W;ie||(ie=oA());let me=new ie({objectMode:!0}),ge=(W=ee)===null||W===void 0?void 0:W.then;if(typeof ge=="function")se++,ge.call(ee,xe=>{ce=xe,xe!=null&&me.write(xe),D&&me.end(),s.nextTick(q)},xe=>{me.destroy(xe),s.nextTick(q,xe)});else if(M(ee,!0))se++,G(ee,me,q,{end:D});else if(L(ee)||k(ee)){let xe=ee.readable||ee;se++,G(xe,me,q,{end:D})}else throw new j("AsyncIterable or Promise","destination",ee);ee=me;let{destroy:Ae,cleanup:$e}=$(ee,!1,!0);Y.push(Ae),F&&ve.push($e)}}else if(R(ae)){if(C(ee)){se+=2;let me=pe(ee,ae,q,{end:D});A(ae)&&F&&ve.push(me)}else if(k(ee)||L(ee)){let me=ee.readable||ee;se++,G(me,ae,q,{end:D})}else if(M(ee))se++,G(ee,ae,q,{end:D});else throw new b("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ee);ee=ae}else if(U(ae)){if(C(ee))se++,B(X(ee),ae,q,{end:D});else if(L(ee)||M(ee))se++,B(ee,ae,q,{end:D});else if(k(ee))se++,B(ee.readable,ae,q,{end:D});else throw new b("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ee);ee=ae}else ee=m.from(ae)}return(Se!=null&&Se.aborted||be!=null&&be.aborted)&&s.nextTick(we),ee}function pe(he,Ee,de,{end:le}){let Se=!1;if(Ee.on("close",()=>{Se||de(new v)}),he.pipe(Ee,{end:!1}),le){let be=function(){Se=!0,Ee.end()};te(he)?s.nextTick(be):he.once("end",be)}else de();return u(he,{readable:!0,writable:!1},be=>{let ve=he._readableState;be&&be.code==="ERR_STREAM_PREMATURE_CLOSE"&&ve&&ve.ended&&!ve.errored&&!ve.errorEmitted?he.once("end",de).once("error",de):de(be)}),u(Ee,{readable:!1,writable:!0},de)}t.exports={pipelineImpl:Z,pipeline:z}}),iA=ze((e,t)=>{Ie(),Ue(),Be();var{pipeline:s}=n0(),o=Ps(),{destroyer:i}=Aa(),{isNodeStream:a,isReadable:c,isWritable:u,isWebStream:f,isTransformStream:h,isWritableStream:m,isReadableStream:g}=Us(),{AbortError:b,codes:{ERR_INVALID_ARG_VALUE:j,ERR_MISSING_ARGS:y}}=Vr(),w=Ao();t.exports=function(...v){if(v.length===0)throw new y("streams");if(v.length===1)return o.from(v[0]);let N=[...v];if(typeof v[0]=="function"&&(v[0]=o.from(v[0])),typeof v[v.length-1]=="function"){let V=v.length-1;v[V]=o.from(v[V])}for(let V=0;V<v.length;++V)if(!(!a(v[V])&&!f(v[V]))){if(V<v.length-1&&!(c(v[V])||g(v[V])||h(v[V])))throw new j(`streams[${V}]`,N[V],"must be readable");if(V>0&&!(u(v[V])||m(v[V])||h(v[V])))throw new j(`streams[${V}]`,N[V],"must be writable")}let S,_,M,A,C;function R(V){let ie=A;A=null,ie?ie(V):V?C.destroy(V):!te&&!L&&C.destroy()}let k=v[0],U=s(v,R),L=!!(u(k)||m(k)||h(k)),te=!!(c(U)||g(U)||h(U));if(C=new o({writableObjectMode:!!(k!=null&&k.writableObjectMode),readableObjectMode:!!(U!=null&&U.readableObjectMode),writable:L,readable:te}),L){if(a(k))C._write=function(ie,H,re){k.write(ie,H)?re():S=re},C._final=function(ie){k.end(),_=ie},k.on("drain",function(){if(S){let ie=S;S=null,ie()}});else if(f(k)){let ie=(h(k)?k.writable:k).getWriter();C._write=async function(H,re,$){try{await ie.ready,ie.write(H).catch(()=>{}),$()}catch(K){$(K)}},C._final=async function(H){try{await ie.ready,ie.close().catch(()=>{}),_=H}catch(re){H(re)}}}let V=h(U)?U.readable:U;w(V,()=>{if(_){let ie=_;_=null,ie()}})}if(te){if(a(U))U.on("readable",function(){if(M){let V=M;M=null,V()}}),U.on("end",function(){C.push(null)}),C._read=function(){for(;;){let V=U.read();if(V===null){M=C._read;return}if(!C.push(V))return}};else if(f(U)){let V=(h(U)?U.readable:U).getReader();C._read=async function(){for(;;)try{let{value:ie,done:H}=await V.read();if(!C.push(ie))return;if(H){C.push(null);return}}catch{return}}}}return C._destroy=function(V,ie){!V&&A!==null&&(V=new b),M=null,S=null,_=null,A===null?ie(V):(A=ie,a(U)&&i(U,V))},C}}),rU=ze((e,t)=>{Ie(),Ue(),Be();var s=globalThis.AbortController||Gl().AbortController,{codes:{ERR_INVALID_ARG_VALUE:o,ERR_INVALID_ARG_TYPE:i,ERR_MISSING_ARGS:a,ERR_OUT_OF_RANGE:c},AbortError:u}=Vr(),{validateAbortSignal:f,validateInteger:h,validateObject:m}=ic(),g=Yt().Symbol("kWeak"),b=Yt().Symbol("kResistStopPropagation"),{finished:j}=Ao(),y=iA(),{addAbortSignalNoValidate:w}=nf(),{isWritable:v,isNodeStream:N}=Us(),{deprecate:S}=sn(),{ArrayPrototypePush:_,Boolean:M,MathFloor:A,Number:C,NumberIsNaN:R,Promise:k,PromiseReject:U,PromiseResolve:L,PromisePrototypeThen:te,Symbol:V}=Yt(),ie=V("kEmpty"),H=V("kEof");function re(be,ve){if(ve!=null&&m(ve,"options"),ve?.signal!=null&&f(ve.signal,"options.signal"),N(be)&&!v(be))throw new o("stream",be,"must be writable");let we=y(this,be);return ve!=null&&ve.signal&&w(ve.signal,we),we}function $(be,ve){if(typeof be!="function")throw new i("fn",["Function","AsyncFunction"],be);ve!=null&&m(ve,"options"),ve?.signal!=null&&f(ve.signal,"options.signal");let we=1;ve?.concurrency!=null&&(we=A(ve.concurrency));let Pe=we-1;return ve?.highWaterMark!=null&&(Pe=A(ve.highWaterMark)),h(we,"options.concurrency",1),h(Pe,"options.highWaterMark",0),Pe+=we,(async function*(){let Te=sn().AbortSignalAny([ve?.signal].filter(M)),ce=this,Y=[],se={signal:Te},q,I,ee=!1,Q=0;function W(){ee=!0,ue()}function ue(){Q-=1,ae()}function ae(){I&&!ee&&Q<we&&Y.length<Pe&&(I(),I=null)}async function Me(){try{for await(let T of ce){if(ee)return;if(Te.aborted)throw new u;try{if(T=be(T,se),T===ie)continue;T=L(T)}catch(D){T=U(D)}Q+=1,te(T,ue,W),Y.push(T),q&&(q(),q=null),!ee&&(Y.length>=Pe||Q>=we)&&await new k(D=>{I=D})}Y.push(H)}catch(T){let D=U(T);te(D,ue,W),Y.push(D)}finally{ee=!0,q&&(q(),q=null)}}Me();try{for(;;){for(;Y.length>0;){let T=await Y[0];if(T===H)return;if(Te.aborted)throw new u;T!==ie&&(yield T),Y.shift(),ae()}await new k(T=>{q=T})}}finally{ee=!0,I&&(I(),I=null)}}).call(this)}function K(be=void 0){return be!=null&&m(be,"options"),be?.signal!=null&&f(be.signal,"options.signal"),(async function*(){let ve=0;for await(let Pe of this){var we;if(be!=null&&(we=be.signal)!==null&&we!==void 0&&we.aborted)throw new u({cause:be.signal.reason});yield[ve++,Pe]}}).call(this)}async function X(be,ve=void 0){for await(let we of z.call(this,be,ve))return!0;return!1}async function ne(be,ve=void 0){if(typeof be!="function")throw new i("fn",["Function","AsyncFunction"],be);return!await X.call(this,async(...we)=>!await be(...we),ve)}async function G(be,ve){for await(let we of z.call(this,be,ve))return we}async function B(be,ve){if(typeof be!="function")throw new i("fn",["Function","AsyncFunction"],be);async function we(Pe,Te){return await be(Pe,Te),ie}for await(let Pe of $.call(this,we,ve));}function z(be,ve){if(typeof be!="function")throw new i("fn",["Function","AsyncFunction"],be);async function we(Pe,Te){return await be(Pe,Te)?Pe:ie}return $.call(this,we,ve)}var Z=class extends a{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function pe(be,ve,we){var Pe;if(typeof be!="function")throw new i("reducer",["Function","AsyncFunction"],be);we!=null&&m(we,"options"),we?.signal!=null&&f(we.signal,"options.signal");let Te=arguments.length>1;if(we!=null&&(Pe=we.signal)!==null&&Pe!==void 0&&Pe.aborted){let I=new u(void 0,{cause:we.signal.reason});throw this.once("error",()=>{}),await j(this.destroy(I)),I}let ce=new s,Y=ce.signal;if(we!=null&&we.signal){let I={once:!0,[g]:this,[b]:!0};we.signal.addEventListener("abort",()=>ce.abort(),I)}let se=!1;try{for await(let I of this){var q;if(se=!0,we!=null&&(q=we.signal)!==null&&q!==void 0&&q.aborted)throw new u;Te?ve=await be(ve,I,{signal:Y}):(ve=I,Te=!0)}if(!se&&!Te)throw new Z}finally{ce.abort()}return ve}async function he(be){be!=null&&m(be,"options"),be?.signal!=null&&f(be.signal,"options.signal");let ve=[];for await(let Pe of this){var we;if(be!=null&&(we=be.signal)!==null&&we!==void 0&&we.aborted)throw new u(void 0,{cause:be.signal.reason});_(ve,Pe)}return ve}function Ee(be,ve){let we=$.call(this,be,ve);return(async function*(){for await(let Pe of we)yield*Pe}).call(this)}function de(be){if(be=C(be),R(be))return 0;if(be<0)throw new c("number",">= 0",be);return be}function le(be,ve=void 0){return ve!=null&&m(ve,"options"),ve?.signal!=null&&f(ve.signal,"options.signal"),be=de(be),(async function*(){var we;if(ve!=null&&(we=ve.signal)!==null&&we!==void 0&&we.aborted)throw new u;for await(let Te of this){var Pe;if(ve!=null&&(Pe=ve.signal)!==null&&Pe!==void 0&&Pe.aborted)throw new u;be--<=0&&(yield Te)}}).call(this)}function Se(be,ve=void 0){return ve!=null&&m(ve,"options"),ve?.signal!=null&&f(ve.signal,"options.signal"),be=de(be),(async function*(){var we;if(ve!=null&&(we=ve.signal)!==null&&we!==void 0&&we.aborted)throw new u;for await(let Te of this){var Pe;if(ve!=null&&(Pe=ve.signal)!==null&&Pe!==void 0&&Pe.aborted)throw new u;if(be-- >0&&(yield Te),be<=0)return}}).call(this)}t.exports.streamReturningOperators={asIndexedPairs:S(K,"readable.asIndexedPairs will be removed in a future version."),drop:le,filter:z,flatMap:Ee,map:$,take:Se,compose:re},t.exports.promiseReturningOperators={every:ne,forEach:B,reduce:pe,toArray:he,some:X,find:G}}),aA=ze((e,t)=>{Ie(),Ue(),Be();var{ArrayPrototypePop:s,Promise:o}=Yt(),{isIterable:i,isNodeStream:a,isWebStream:c}=Us(),{pipelineImpl:u}=n0(),{finished:f}=Ao();lA();function h(...m){return new o((g,b)=>{let j,y,w=m[m.length-1];if(w&&typeof w=="object"&&!a(w)&&!i(w)&&!c(w)){let v=s(m);j=v.signal,y=v.end}u(m,(v,N)=>{v?b(v):g(N)},{signal:j,end:y})})}t.exports={finished:f,pipeline:h}}),lA=ze((e,t)=>{Ie(),Ue(),Be();var{Buffer:s}=(Sr(),Mt(wr)),{ObjectDefineProperty:o,ObjectKeys:i,ReflectApply:a}=Yt(),{promisify:{custom:c}}=sn(),{streamReturningOperators:u,promiseReturningOperators:f}=rU(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:h}}=Vr(),m=iA(),{setDefaultHighWaterMark:g,getDefaultHighWaterMark:b}=sf(),{pipeline:j}=n0(),{destroyer:y}=Aa(),w=Ao(),v=aA(),N=Us(),S=t.exports=t0().Stream;S.isDestroyed=N.isDestroyed,S.isDisturbed=N.isDisturbed,S.isErrored=N.isErrored,S.isReadable=N.isReadable,S.isWritable=N.isWritable,S.Readable=of();for(let M of i(u)){let A=function(...R){if(new.target)throw h();return S.Readable.from(a(C,this,R))},C=u[M];o(A,"name",{__proto__:null,value:C.name}),o(A,"length",{__proto__:null,value:C.length}),o(S.Readable.prototype,M,{__proto__:null,value:A,enumerable:!1,configurable:!0,writable:!0})}for(let M of i(f)){let A=function(...R){if(new.target)throw h();return a(C,this,R)},C=f[M];o(A,"name",{__proto__:null,value:C.name}),o(A,"length",{__proto__:null,value:C.length}),o(S.Readable.prototype,M,{__proto__:null,value:A,enumerable:!1,configurable:!0,writable:!0})}S.Writable=r0(),S.Duplex=Ps(),S.Transform=sA(),S.PassThrough=oA(),S.pipeline=j;var{addAbortSignal:_}=nf();S.addAbortSignal=_,S.finished=w,S.destroy=y,S.compose=m,S.setDefaultHighWaterMark=g,S.getDefaultHighWaterMark=b,o(S,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return v}}),o(j,c,{__proto__:null,enumerable:!0,get(){return v.pipeline}}),o(w,c,{__proto__:null,enumerable:!0,get(){return v.finished}}),S.Stream=S,S._isUint8Array=function(M){return M instanceof Uint8Array},S._uint8ArrayToBuffer=function(M){return s.from(M.buffer,M.byteOffset,M.byteLength)}}),hi=ze((e,t)=>{Ie(),Ue(),Be();var s=lA(),o=aA(),i=s.Readable.destroy;t.exports=s.Readable,t.exports._uint8ArrayToBuffer=s._uint8ArrayToBuffer,t.exports._isUint8Array=s._isUint8Array,t.exports.isDisturbed=s.isDisturbed,t.exports.isErrored=s.isErrored,t.exports.isReadable=s.isReadable,t.exports.Readable=s.Readable,t.exports.Writable=s.Writable,t.exports.Duplex=s.Duplex,t.exports.Transform=s.Transform,t.exports.PassThrough=s.PassThrough,t.exports.addAbortSignal=s.addAbortSignal,t.exports.finished=s.finished,t.exports.destroy=s.destroy,t.exports.destroy=i,t.exports.pipeline=s.pipeline,t.exports.compose=s.compose,Object.defineProperty(s,"promises",{configurable:!0,enumerable:!0,get(){return o}}),t.exports.Stream=s.Stream,t.exports.default=t.exports}),nU=ze((e,t)=>{Ie(),Ue(),Be(),typeof Object.create=="function"?t.exports=function(s,o){o&&(s.super_=o,s.prototype=Object.create(o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(s,o){if(o){s.super_=o;var i=function(){};i.prototype=o.prototype,s.prototype=new i,s.prototype.constructor=s}}}),sU=ze((e,t)=>{Ie(),Ue(),Be();var{Buffer:s}=(Sr(),Mt(wr)),o=Symbol.for("BufferList");function i(a){if(!(this instanceof i))return new i(a);i._init.call(this,a)}i._init=function(a){Object.defineProperty(this,o,{value:!0}),this._bufs=[],this.length=0,a&&this.append(a)},i.prototype._new=function(a){return new i(a)},i.prototype._offset=function(a){if(a===0)return[0,0];let c=0;for(let u=0;u<this._bufs.length;u++){let f=c+this._bufs[u].length;if(a<f||u===this._bufs.length-1)return[u,a-c];c=f}},i.prototype._reverseOffset=function(a){let c=a[0],u=a[1];for(let f=0;f<c;f++)u+=this._bufs[f].length;return u},i.prototype.getBuffers=function(){return this._bufs},i.prototype.get=function(a){if(a>this.length||a<0)return;let c=this._offset(a);return this._bufs[c[0]][c[1]]},i.prototype.slice=function(a,c){return typeof a=="number"&&a<0&&(a+=this.length),typeof c=="number"&&c<0&&(c+=this.length),this.copy(null,0,a,c)},i.prototype.copy=function(a,c,u,f){if((typeof u!="number"||u<0)&&(u=0),(typeof f!="number"||f>this.length)&&(f=this.length),u>=this.length||f<=0)return a||s.alloc(0);let h=!!a,m=this._offset(u),g=f-u,b=g,j=h&&c||0,y=m[1];if(u===0&&f===this.length){if(!h)return this._bufs.length===1?this._bufs[0]:s.concat(this._bufs,this.length);for(let w=0;w<this._bufs.length;w++)this._bufs[w].copy(a,j),j+=this._bufs[w].length;return a}if(b<=this._bufs[m[0]].length-y)return h?this._bufs[m[0]].copy(a,c,y,y+b):this._bufs[m[0]].slice(y,y+b);h||(a=s.allocUnsafe(g));for(let w=m[0];w<this._bufs.length;w++){let v=this._bufs[w].length-y;if(b>v)this._bufs[w].copy(a,j,y),j+=v;else{this._bufs[w].copy(a,j,y,y+b),j+=v;break}b-=v,y&&(y=0)}return a.length>j?a.slice(0,j):a},i.prototype.shallowSlice=function(a,c){if(a=a||0,c=typeof c!="number"?this.length:c,a<0&&(a+=this.length),c<0&&(c+=this.length),a===c)return this._new();let u=this._offset(a),f=this._offset(c),h=this._bufs.slice(u[0],f[0]+1);return f[1]===0?h.pop():h[h.length-1]=h[h.length-1].slice(0,f[1]),u[1]!==0&&(h[0]=h[0].slice(u[1])),this._new(h)},i.prototype.toString=function(a,c,u){return this.slice(c,u).toString(a)},i.prototype.consume=function(a){if(a=Math.trunc(a),Number.isNaN(a)||a<=0)return this;for(;this._bufs.length;)if(a>=this._bufs[0].length)a-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(a),this.length-=a;break}return this},i.prototype.duplicate=function(){let a=this._new();for(let c=0;c<this._bufs.length;c++)a.append(this._bufs[c]);return a},i.prototype.append=function(a){return this._attach(a,i.prototype._appendBuffer)},i.prototype.prepend=function(a){return this._attach(a,i.prototype._prependBuffer,!0)},i.prototype._attach=function(a,c,u){if(a==null)return this;if(a.buffer)c.call(this,s.from(a.buffer,a.byteOffset,a.byteLength));else if(Array.isArray(a)){let[f,h]=u?[a.length-1,-1]:[0,1];for(let m=f;m>=0&&m<a.length;m+=h)this._attach(a[m],c,u)}else if(this._isBufferList(a)){let[f,h]=u?[a._bufs.length-1,-1]:[0,1];for(let m=f;m>=0&&m<a._bufs.length;m+=h)this._attach(a._bufs[m],c,u)}else typeof a=="number"&&(a=a.toString()),c.call(this,s.from(a));return this},i.prototype._appendBuffer=function(a){this._bufs.push(a),this.length+=a.length},i.prototype._prependBuffer=function(a){this._bufs.unshift(a),this.length+=a.length},i.prototype.indexOf=function(a,c,u){if(u===void 0&&typeof c=="string"&&(u=c,c=void 0),typeof a=="function"||Array.isArray(a))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof a=="number"?a=s.from([a]):typeof a=="string"?a=s.from(a,u):this._isBufferList(a)?a=a.slice():Array.isArray(a.buffer)?a=s.from(a.buffer,a.byteOffset,a.byteLength):s.isBuffer(a)||(a=s.from(a)),c=Number(c||0),isNaN(c)&&(c=0),c<0&&(c=this.length+c),c<0&&(c=0),a.length===0)return c>this.length?this.length:c;let f=this._offset(c),h=f[0],m=f[1];for(;h<this._bufs.length;h++){let g=this._bufs[h];for(;m<g.length;)if(g.length-m>=a.length){let b=g.indexOf(a,m);if(b!==-1)return this._reverseOffset([h,b]);m=g.length-a.length+1}else{let b=this._reverseOffset([h,m]);if(this._match(b,a))return b;m++}m=0}return-1},i.prototype._match=function(a,c){if(this.length-a<c.length)return!1;for(let u=0;u<c.length;u++)if(this.get(a+u)!==c[u])return!1;return!0},(function(){let a={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let c in a)(function(u){a[u]===null?i.prototype[u]=function(f,h){return this.slice(f,f+h)[u](0,h)}:i.prototype[u]=function(f=0){return this.slice(f,f+a[u])[u](0)}})(c)})(),i.prototype._isBufferList=function(a){return a instanceof i||i.isBufferList(a)},i.isBufferList=function(a){return a!=null&&a[o]},t.exports=i}),oU=ze((e,t)=>{Ie(),Ue(),Be();var s=hi().Duplex,o=nU(),i=sU();function a(c){if(!(this instanceof a))return new a(c);if(typeof c=="function"){this._callback=c;let u=(function(f){this._callback&&(this._callback(f),this._callback=null)}).bind(this);this.on("pipe",function(f){f.on("error",u)}),this.on("unpipe",function(f){f.removeListener("error",u)}),c=null}i._init.call(this,c),s.call(this)}o(a,s),Object.assign(a.prototype,i.prototype),a.prototype._new=function(c){return new a(c)},a.prototype._write=function(c,u,f){this._appendBuffer(c),typeof f=="function"&&f()},a.prototype._read=function(c){if(!this.length)return this.push(null);c=Math.min(c,this.length),this.push(this.slice(0,c)),this.consume(c)},a.prototype.end=function(c){s.prototype.end.call(this,c),this._callback&&(this._callback(null,this.slice()),this._callback=null)},a.prototype._destroy=function(c,u){this._bufs.length=0,this.length=0,u(c)},a.prototype._isBufferList=function(c){return c instanceof a||c instanceof i||a.isBufferList(c)},a.isBufferList=i.isBufferList,t.exports=a,t.exports.BufferListStream=a,t.exports.BufferList=i}),iU=ze((e,t)=>{Ie(),Ue(),Be();var s=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};t.exports=s}),cA=ze((e,t)=>{Ie(),Ue(),Be();var s=t.exports,{Buffer:o}=(Sr(),Mt(wr));s.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},s.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},s.requiredHeaderFlagsErrors={};for(let a in s.requiredHeaderFlags){let c=s.requiredHeaderFlags[a];s.requiredHeaderFlagsErrors[a]="Invalid header flag bits, must be 0x"+c.toString(16)+" for "+s.types[a]+" packet"}s.codes={};for(let a in s.types){let c=s.types[a];s.codes[c]=a}s.CMD_SHIFT=4,s.CMD_MASK=240,s.DUP_MASK=8,s.QOS_MASK=3,s.QOS_SHIFT=1,s.RETAIN_MASK=1,s.VARBYTEINT_MASK=127,s.VARBYTEINT_FIN_MASK=128,s.VARBYTEINT_MAX=268435455,s.SESSIONPRESENT_MASK=1,s.SESSIONPRESENT_HEADER=o.from([s.SESSIONPRESENT_MASK]),s.CONNACK_HEADER=o.from([s.codes.connack<<s.CMD_SHIFT]),s.USERNAME_MASK=128,s.PASSWORD_MASK=64,s.WILL_RETAIN_MASK=32,s.WILL_QOS_MASK=24,s.WILL_QOS_SHIFT=3,s.WILL_FLAG_MASK=4,s.CLEAN_SESSION_MASK=2,s.CONNECT_HEADER=o.from([s.codes.connect<<s.CMD_SHIFT]),s.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},s.propertiesCodes={};for(let a in s.properties){let c=s.properties[a];s.propertiesCodes[c]=a}s.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function i(a){return[0,1,2].map(c=>[0,1].map(u=>[0,1].map(f=>{let h=o.alloc(1);return h.writeUInt8(s.codes[a]<<s.CMD_SHIFT|(u?s.DUP_MASK:0)|c<<s.QOS_SHIFT|f,0,!0),h})))}s.PUBLISH_HEADER=i("publish"),s.SUBSCRIBE_HEADER=i("subscribe"),s.SUBSCRIBE_OPTIONS_QOS_MASK=3,s.SUBSCRIBE_OPTIONS_NL_MASK=1,s.SUBSCRIBE_OPTIONS_NL_SHIFT=2,s.SUBSCRIBE_OPTIONS_RAP_MASK=1,s.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,s.SUBSCRIBE_OPTIONS_RH_MASK=3,s.SUBSCRIBE_OPTIONS_RH_SHIFT=4,s.SUBSCRIBE_OPTIONS_RH=[0,16,32],s.SUBSCRIBE_OPTIONS_NL=4,s.SUBSCRIBE_OPTIONS_RAP=8,s.SUBSCRIBE_OPTIONS_QOS=[0,1,2],s.UNSUBSCRIBE_HEADER=i("unsubscribe"),s.ACKS={unsuback:i("unsuback"),puback:i("puback"),pubcomp:i("pubcomp"),pubrel:i("pubrel"),pubrec:i("pubrec")},s.SUBACK_HEADER=o.from([s.codes.suback<<s.CMD_SHIFT]),s.VERSION3=o.from([3]),s.VERSION4=o.from([4]),s.VERSION5=o.from([5]),s.VERSION131=o.from([131]),s.VERSION132=o.from([132]),s.QOS=[0,1,2].map(a=>o.from([a])),s.EMPTY={pingreq:o.from([s.codes.pingreq<<4,0]),pingresp:o.from([s.codes.pingresp<<4,0]),disconnect:o.from([s.codes.disconnect<<4,0])},s.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},s.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},s.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},s.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},s.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},s.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),aU=ze((e,t)=>{Ie(),Ue(),Be();var s=1e3,o=s*60,i=o*60,a=i*24,c=a*7,u=a*365.25;t.exports=function(b,j){j=j||{};var y=typeof b;if(y==="string"&&b.length>0)return f(b);if(y==="number"&&isFinite(b))return j.long?m(b):h(b);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(b))};function f(b){if(b=String(b),!(b.length>100)){var j=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(b);if(j){var y=parseFloat(j[1]),w=(j[2]||"ms").toLowerCase();switch(w){case"years":case"year":case"yrs":case"yr":case"y":return y*u;case"weeks":case"week":case"w":return y*c;case"days":case"day":case"d":return y*a;case"hours":case"hour":case"hrs":case"hr":case"h":return y*i;case"minutes":case"minute":case"mins":case"min":case"m":return y*o;case"seconds":case"second":case"secs":case"sec":case"s":return y*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return y;default:return}}}}function h(b){var j=Math.abs(b);return j>=a?Math.round(b/a)+"d":j>=i?Math.round(b/i)+"h":j>=o?Math.round(b/o)+"m":j>=s?Math.round(b/s)+"s":b+"ms"}function m(b){var j=Math.abs(b);return j>=a?g(b,j,a,"day"):j>=i?g(b,j,i,"hour"):j>=o?g(b,j,o,"minute"):j>=s?g(b,j,s,"second"):b+" ms"}function g(b,j,y,w){var v=j>=y*1.5;return Math.round(b/y)+" "+w+(v?"s":"")}}),lU=ze((e,t)=>{Ie(),Ue(),Be();function s(o){a.debug=a,a.default=a,a.coerce=g,a.disable=h,a.enable=u,a.enabled=m,a.humanize=aU(),a.destroy=b,Object.keys(o).forEach(j=>{a[j]=o[j]}),a.names=[],a.skips=[],a.formatters={};function i(j){let y=0;for(let w=0;w<j.length;w++)y=(y<<5)-y+j.charCodeAt(w),y|=0;return a.colors[Math.abs(y)%a.colors.length]}a.selectColor=i;function a(j){let y,w=null,v,N;function S(..._){if(!S.enabled)return;let M=S,A=Number(new Date),C=A-(y||A);M.diff=C,M.prev=y,M.curr=A,y=A,_[0]=a.coerce(_[0]),typeof _[0]!="string"&&_.unshift("%O");let R=0;_[0]=_[0].replace(/%([a-zA-Z%])/g,(k,U)=>{if(k==="%%")return"%";R++;let L=a.formatters[U];if(typeof L=="function"){let te=_[R];k=L.call(M,te),_.splice(R,1),R--}return k}),a.formatArgs.call(M,_),(M.log||a.log).apply(M,_)}return S.namespace=j,S.useColors=a.useColors(),S.color=a.selectColor(j),S.extend=c,S.destroy=a.destroy,Object.defineProperty(S,"enabled",{enumerable:!0,configurable:!1,get:()=>w!==null?w:(v!==a.namespaces&&(v=a.namespaces,N=a.enabled(j)),N),set:_=>{w=_}}),typeof a.init=="function"&&a.init(S),S}function c(j,y){let w=a(this.namespace+(typeof y>"u"?":":y)+j);return w.log=this.log,w}function u(j){a.save(j),a.namespaces=j,a.names=[],a.skips=[];let y=(typeof j=="string"?j:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let w of y)w[0]==="-"?a.skips.push(w.slice(1)):a.names.push(w)}function f(j,y){let w=0,v=0,N=-1,S=0;for(;w<j.length;)if(v<y.length&&(y[v]===j[w]||y[v]==="*"))y[v]==="*"?(N=v,S=w,v++):(w++,v++);else if(N!==-1)v=N+1,S++,w=S;else return!1;for(;v<y.length&&y[v]==="*";)v++;return v===y.length}function h(){let j=[...a.names,...a.skips.map(y=>"-"+y)].join(",");return a.enable(""),j}function m(j){for(let y of a.skips)if(f(j,y))return!1;for(let y of a.names)if(f(j,y))return!0;return!1}function g(j){return j instanceof Error?j.stack||j.message:j}function b(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return a.enable(a.load()),a}t.exports=s}),Is=ze((e,t)=>{Ie(),Ue(),Be(),e.formatArgs=o,e.save=i,e.load=a,e.useColors=s,e.storage=c(),e.destroy=(()=>{let f=!1;return()=>{f||(f=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function s(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let f;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(f=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(f[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(f){if(f[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+f[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let h="color: "+this.color;f.splice(1,0,h,"color: inherit");let m=0,g=0;f[0].replace(/%[a-zA-Z%]/g,b=>{b!=="%%"&&(m++,b==="%c"&&(g=m))}),f.splice(g,0,h)}e.log=console.debug||console.log||(()=>{});function i(f){try{f?e.storage.setItem("debug",f):e.storage.removeItem("debug")}catch{}}function a(){let f;try{f=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!f&&typeof It<"u"&&"env"in It&&(f=It.env.DEBUG),f}function c(){try{return localStorage}catch{}}t.exports=lU()(e);var{formatters:u}=t.exports;u.j=function(f){try{return JSON.stringify(f)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}}}),cU=ze((e,t)=>{Ie(),Ue(),Be();var s=oU(),{EventEmitter:o}=(di(),Mt(Eo)),i=iU(),a=cA(),c=Is()("mqtt-packet:parser"),u=class Xg extends o{constructor(){super(),this.parser=this.constructor.parser}static parser(h){return this instanceof Xg?(this.settings=h||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new Xg().parser(h)}_resetState(){c("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new i,this.error=null,this._list=s(),this._stateCounter=0}parse(h){for(this.error&&this._resetState(),this._list.append(h),c("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,c("parse: state complete. _stateCounter is now: %d",this._stateCounter),c("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return c("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let h=this._list.readUInt8(0),m=h>>a.CMD_SHIFT;this.packet.cmd=a.types[m];let g=h&15,b=a.requiredHeaderFlags[m];return b!=null&&g!==b?this._emitError(new Error(a.requiredHeaderFlagsErrors[m])):(this.packet.retain=(h&a.RETAIN_MASK)!==0,this.packet.qos=h>>a.QOS_SHIFT&a.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(h&a.DUP_MASK)!==0,c("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let h=this._parseVarByteNum(!0);return h&&(this.packet.length=h.value,this._list.consume(h.bytes)),c("_parseLength %d",h.value),!!h}_parsePayload(){c("_parsePayload: payload %O",this._list);let h=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}h=!0}return c("_parsePayload complete result: %s",h),h}_parseConnect(){c("_parseConnect");let h,m,g,b,j={},y=this.packet,w=this._parseString();if(w===null)return this._emitError(new Error("Cannot parse protocolId"));if(w!=="MQTT"&&w!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(y.protocolId=w,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(y.protocolVersion=this._list.readUInt8(this._pos),y.protocolVersion>=128&&(y.bridgeMode=!0,y.protocolVersion=y.protocolVersion-128),y.protocolVersion!==3&&y.protocolVersion!==4&&y.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));j.username=this._list.readUInt8(this._pos)&a.USERNAME_MASK,j.password=this._list.readUInt8(this._pos)&a.PASSWORD_MASK,j.will=this._list.readUInt8(this._pos)&a.WILL_FLAG_MASK;let v=!!(this._list.readUInt8(this._pos)&a.WILL_RETAIN_MASK),N=(this._list.readUInt8(this._pos)&a.WILL_QOS_MASK)>>a.WILL_QOS_SHIFT;if(j.will)y.will={},y.will.retain=v,y.will.qos=N;else{if(v)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(N)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(y.clean=(this._list.readUInt8(this._pos)&a.CLEAN_SESSION_MASK)!==0,this._pos++,y.keepalive=this._parseNum(),y.keepalive===-1)return this._emitError(new Error("Packet too short"));if(y.protocolVersion===5){let _=this._parseProperties();Object.getOwnPropertyNames(_).length&&(y.properties=_)}let S=this._parseString();if(S===null)return this._emitError(new Error("Packet too short"));if(y.clientId=S,c("_parseConnect: packet.clientId: %s",y.clientId),j.will){if(y.protocolVersion===5){let _=this._parseProperties();Object.getOwnPropertyNames(_).length&&(y.will.properties=_)}if(h=this._parseString(),h===null)return this._emitError(new Error("Cannot parse will topic"));if(y.will.topic=h,c("_parseConnect: packet.will.topic: %s",y.will.topic),m=this._parseBuffer(),m===null)return this._emitError(new Error("Cannot parse will payload"));y.will.payload=m,c("_parseConnect: packet.will.paylaod: %s",y.will.payload)}if(j.username){if(b=this._parseString(),b===null)return this._emitError(new Error("Cannot parse username"));y.username=b,c("_parseConnect: packet.username: %s",y.username)}if(j.password){if(g=this._parseBuffer(),g===null)return this._emitError(new Error("Cannot parse password"));y.password=g}return this.settings=y,c("_parseConnect: complete"),y}_parseConnack(){c("_parseConnack");let h=this.packet;if(this._list.length<1)return null;let m=this._list.readUInt8(this._pos++);if(m>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(h.sessionPresent=!!(m&a.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?h.reasonCode=this._list.readUInt8(this._pos++):h.reasonCode=0;else{if(this._list.length<2)return null;h.returnCode=this._list.readUInt8(this._pos++)}if(h.returnCode===-1||h.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let g=this._parseProperties();Object.getOwnPropertyNames(g).length&&(h.properties=g)}c("_parseConnack: complete")}_parsePublish(){c("_parsePublish");let h=this.packet;if(h.topic=this._parseString(),h.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(h.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let m=this._parseProperties();Object.getOwnPropertyNames(m).length&&(h.properties=m)}h.payload=this._list.slice(this._pos,h.length),c("_parsePublish: payload from buffer list: %o",h.payload)}}_parseSubscribe(){c("_parseSubscribe");let h=this.packet,m,g,b,j,y,w,v;if(h.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let N=this._parseProperties();Object.getOwnPropertyNames(N).length&&(h.properties=N)}if(h.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<h.length;){if(m=this._parseString(),m===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=h.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(g=this._parseByte(),this.settings.protocolVersion===5){if(g&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(g&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(b=g&a.SUBSCRIBE_OPTIONS_QOS_MASK,b>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(w=(g>>a.SUBSCRIBE_OPTIONS_NL_SHIFT&a.SUBSCRIBE_OPTIONS_NL_MASK)!==0,y=(g>>a.SUBSCRIBE_OPTIONS_RAP_SHIFT&a.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,j=g>>a.SUBSCRIBE_OPTIONS_RH_SHIFT&a.SUBSCRIBE_OPTIONS_RH_MASK,j>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));v={topic:m,qos:b},this.settings.protocolVersion===5?(v.nl=w,v.rap=y,v.rh=j):this.settings.bridgeMode&&(v.rh=0,v.rap=!0,v.nl=!0),c("_parseSubscribe: push subscription `%s` to subscription",v),h.subscriptions.push(v)}}}_parseSuback(){c("_parseSuback");let h=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let m=this._parseProperties();Object.getOwnPropertyNames(m).length&&(h.properties=m)}if(h.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let m=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!a.MQTT5_SUBACK_CODES[m])return this._emitError(new Error("Invalid suback code"))}else if(m>2&&m!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(m)}}}_parseUnsubscribe(){c("_parseUnsubscribe");let h=this.packet;if(h.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let m=this._parseProperties();Object.getOwnPropertyNames(m).length&&(h.properties=m)}if(h.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<h.length;){let m=this._parseString();if(m===null)return this._emitError(new Error("Cannot parse topic"));c("_parseUnsubscribe: push topic `%s` to unsubscriptions",m),h.unsubscriptions.push(m)}}}_parseUnsuback(){c("_parseUnsuback");let h=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&h.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(h.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let m=this._parseProperties();for(Object.getOwnPropertyNames(m).length&&(h.properties=m),h.granted=[];this._pos<this.packet.length;){let g=this._list.readUInt8(this._pos++);if(!a.MQTT5_UNSUBACK_CODES[g])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(g)}}}_parseConfirmation(){c("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let h=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(h.length>2){switch(h.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!a.MQTT5_PUBACK_PUBREC_CODES[h.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!a.MQTT5_PUBREL_PUBCOMP_CODES[h.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}c("_parseConfirmation: packet.reasonCode `%d`",h.reasonCode)}else h.reasonCode=0;if(h.length>3){let m=this._parseProperties();Object.getOwnPropertyNames(m).length&&(h.properties=m)}}return!0}_parseDisconnect(){let h=this.packet;if(c("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(h.reasonCode=this._parseByte(),a.MQTT5_DISCONNECT_CODES[h.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):h.reasonCode=0;let m=this._parseProperties();Object.getOwnPropertyNames(m).length&&(h.properties=m)}return c("_parseDisconnect result: true"),!0}_parseAuth(){c("_parseAuth");let h=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(h.reasonCode=this._parseByte(),!a.MQTT5_AUTH_CODES[h.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let m=this._parseProperties();return Object.getOwnPropertyNames(m).length&&(h.properties=m),c("_parseAuth: result: true"),!0}_parseMessageId(){let h=this.packet;return h.messageId=this._parseNum(),h.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(c("_parseMessageId: packet.messageId %d",h.messageId),!0)}_parseString(h){let m=this._parseNum(),g=m+this._pos;if(m===-1||g>this._list.length||g>this.packet.length)return null;let b=this._list.toString("utf8",this._pos,g);return this._pos+=m,c("_parseString: result: %s",b),b}_parseStringPair(){return c("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let h=this._parseNum(),m=h+this._pos;if(h===-1||m>this._list.length||m>this.packet.length)return null;let g=this._list.slice(this._pos,m);return this._pos+=h,c("_parseBuffer: result: %o",g),g}_parseNum(){if(this._list.length-this._pos<2)return-1;let h=this._list.readUInt16BE(this._pos);return this._pos+=2,c("_parseNum: result: %s",h),h}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let h=this._list.readUInt32BE(this._pos);return this._pos+=4,c("_parse4ByteNum: result: %s",h),h}_parseVarByteNum(h){c("_parseVarByteNum");let m=4,g=0,b=1,j=0,y=!1,w,v=this._pos?this._pos:0;for(;g<m&&v+g<this._list.length;){if(w=this._list.readUInt8(v+g++),j+=b*(w&a.VARBYTEINT_MASK),b*=128,(w&a.VARBYTEINT_FIN_MASK)===0){y=!0;break}if(this._list.length<=g)break}return!y&&g===m&&this._list.length>=g&&this._emitError(new Error("Invalid variable byte integer")),v&&(this._pos+=g),y?h?y={bytes:g,value:j}:y=j:y=!1,c("_parseVarByteNum: result: %o",y),y}_parseByte(){let h;return this._pos<this._list.length&&(h=this._list.readUInt8(this._pos),this._pos++),c("_parseByte: result: %o",h),h}_parseByType(h){switch(c("_parseByType: type: %s",h),h){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){c("_parseProperties");let h=this._parseVarByteNum(),m=this._pos+h,g={};for(;this._pos<m;){let b=this._parseByte();if(!b)return this._emitError(new Error("Cannot parse property code type")),!1;let j=a.propertiesCodes[b];if(!j)return this._emitError(new Error("Unknown property")),!1;if(j==="userProperties"){g[j]||(g[j]=Object.create(null));let y=this._parseByType(a.propertiesTypes[j]);if(g[j][y.name])if(Array.isArray(g[j][y.name]))g[j][y.name].push(y.value);else{let w=g[j][y.name];g[j][y.name]=[w],g[j][y.name].push(y.value)}else g[j][y.name]=y.value;continue}g[j]?Array.isArray(g[j])?g[j].push(this._parseByType(a.propertiesTypes[j])):(g[j]=[g[j]],g[j].push(this._parseByType(a.propertiesTypes[j]))):g[j]=this._parseByType(a.propertiesTypes[j])}return g}_newPacket(){return c("_newPacket"),this.packet&&(this._list.consume(this.packet.length),c("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),c("_newPacket: new packet"),this.packet=new i,this._pos=0,!0}_emitError(h){c("_emitError",h),this.error=h,this.emit("error",h)}};t.exports=u}),uU=ze((e,t)=>{Ie(),Ue(),Be();var{Buffer:s}=(Sr(),Mt(wr)),o=65536,i={},a=s.isBuffer(s.from([1,2]).subarray(0,1));function c(m){let g=s.allocUnsafe(2);return g.writeUInt8(m>>8,0),g.writeUInt8(m&255,1),g}function u(){for(let m=0;m<o;m++)i[m]=c(m)}function f(m){let g=0,b=0,j=s.allocUnsafe(4);do g=m%128|0,m=m/128|0,m>0&&(g=g|128),j.writeUInt8(g,b++);while(m>0&&b<4);return m>0&&(b=0),a?j.subarray(0,b):j.slice(0,b)}function h(m){let g=s.allocUnsafe(4);return g.writeUInt32BE(m,0),g}t.exports={cache:i,generateCache:u,generateNumber:c,genBufVariableByteInt:f,generate4ByteBuffer:h}}),dU=ze((e,t)=>{Ie(),Ue(),Be(),typeof It>"u"||!It.version||It.version.indexOf("v0.")===0||It.version.indexOf("v1.")===0&&It.version.indexOf("v1.8.")!==0?t.exports={nextTick:s}:t.exports=It;function s(o,i,a,c){if(typeof o!="function")throw new TypeError('"callback" argument must be a function');var u=arguments.length,f,h;switch(u){case 0:case 1:return It.nextTick(o);case 2:return It.nextTick(function(){o.call(null,i)});case 3:return It.nextTick(function(){o.call(null,i,a)});case 4:return It.nextTick(function(){o.call(null,i,a,c)});default:for(f=new Array(u-1),h=0;h<f.length;)f[h++]=arguments[h];return It.nextTick(function(){o.apply(null,f)})}}}),uA=ze((e,t)=>{Ie(),Ue(),Be();var s=cA(),{Buffer:o}=(Sr(),Mt(wr)),i=o.allocUnsafe(0),a=o.from([0]),c=uU(),u=dU().nextTick,f=Is()("mqtt-packet:writeToStream"),h=c.cache,m=c.generateNumber,g=c.generateCache,b=c.genBufVariableByteInt,j=c.generate4ByteBuffer,y=K,w=!0;function v(de,le,Se){switch(f("generate called"),le.cork&&(le.cork(),u(N,le)),w&&(w=!1,g()),f("generate: packet.cmd: %s",de.cmd),de.cmd){case"connect":return S(de,le);case"connack":return _(de,le,Se);case"publish":return M(de,le,Se);case"puback":case"pubrec":case"pubrel":case"pubcomp":return A(de,le,Se);case"subscribe":return C(de,le,Se);case"suback":return R(de,le,Se);case"unsubscribe":return k(de,le,Se);case"unsuback":return U(de,le,Se);case"pingreq":case"pingresp":return L(de,le);case"disconnect":return te(de,le,Se);case"auth":return V(de,le,Se);default:return le.destroy(new Error("Unknown command")),!1}}Object.defineProperty(v,"cacheNumbers",{get(){return y===K},set(de){de?((!h||Object.keys(h).length===0)&&(w=!0),y=K):(w=!1,y=X)}});function N(de){de.uncork()}function S(de,le,Se){let be=de||{},ve=be.protocolId||"MQTT",we=be.protocolVersion||4,Pe=be.will,Te=be.clean,ce=be.keepalive||0,Y=be.clientId||"",se=be.username,q=be.password,I=be.properties;Te===void 0&&(Te=!0);let ee=0;if(typeof ve!="string"&&!o.isBuffer(ve))return le.destroy(new Error("Invalid protocolId")),!1;if(ee+=ve.length+2,we!==3&&we!==4&&we!==5)return le.destroy(new Error("Invalid protocol version")),!1;if(ee+=1,(typeof Y=="string"||o.isBuffer(Y))&&(Y||we>=4)&&(Y||Te))ee+=o.byteLength(Y)+2;else{if(we<4)return le.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(Te*1===0)return le.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof ce!="number"||ce<0||ce>65535||ce%1!==0)return le.destroy(new Error("Invalid keepalive")),!1;ee+=2,ee+=1;let Q,W;if(we===5){if(Q=B(le,I),!Q)return!1;ee+=Q.length}if(Pe){if(typeof Pe!="object")return le.destroy(new Error("Invalid will")),!1;if(!Pe.topic||typeof Pe.topic!="string")return le.destroy(new Error("Invalid will topic")),!1;if(ee+=o.byteLength(Pe.topic)+2,ee+=2,Pe.payload)if(Pe.payload.length>=0)typeof Pe.payload=="string"?ee+=o.byteLength(Pe.payload):ee+=Pe.payload.length;else return le.destroy(new Error("Invalid will payload")),!1;if(W={},we===5){if(W=B(le,Pe.properties),!W)return!1;ee+=W.length}}let ue=!1;if(se!=null)if(Ee(se))ue=!0,ee+=o.byteLength(se)+2;else return le.destroy(new Error("Invalid username")),!1;if(q!=null){if(!ue)return le.destroy(new Error("Username is required to use password")),!1;if(Ee(q))ee+=he(q)+2;else return le.destroy(new Error("Invalid password")),!1}le.write(s.CONNECT_HEADER),H(le,ee),G(le,ve),be.bridgeMode&&(we+=128),le.write(we===131?s.VERSION131:we===132?s.VERSION132:we===4?s.VERSION4:we===5?s.VERSION5:s.VERSION3);let ae=0;return ae|=se!=null?s.USERNAME_MASK:0,ae|=q!=null?s.PASSWORD_MASK:0,ae|=Pe&&Pe.retain?s.WILL_RETAIN_MASK:0,ae|=Pe&&Pe.qos?Pe.qos<<s.WILL_QOS_SHIFT:0,ae|=Pe?s.WILL_FLAG_MASK:0,ae|=Te?s.CLEAN_SESSION_MASK:0,le.write(o.from([ae])),y(le,ce),we===5&&Q.write(),G(le,Y),Pe&&(we===5&&W.write(),re(le,Pe.topic),G(le,Pe.payload)),se!=null&&G(le,se),q!=null&&G(le,q),!0}function _(de,le,Se){let be=Se?Se.protocolVersion:4,ve=de||{},we=be===5?ve.reasonCode:ve.returnCode,Pe=ve.properties,Te=2;if(typeof we!="number")return le.destroy(new Error("Invalid return code")),!1;let ce=null;if(be===5){if(ce=B(le,Pe),!ce)return!1;Te+=ce.length}return le.write(s.CONNACK_HEADER),H(le,Te),le.write(ve.sessionPresent?s.SESSIONPRESENT_HEADER:a),le.write(o.from([we])),ce?.write(),!0}function M(de,le,Se){f("publish: packet: %o",de);let be=Se?Se.protocolVersion:4,ve=de||{},we=ve.qos||0,Pe=ve.retain?s.RETAIN_MASK:0,Te=ve.topic,ce=ve.payload||i,Y=ve.messageId,se=ve.properties,q=0;if(typeof Te=="string")q+=o.byteLength(Te)+2;else if(o.isBuffer(Te))q+=Te.length+2;else return le.destroy(new Error("Invalid topic")),!1;if(o.isBuffer(ce)?q+=ce.length:q+=o.byteLength(ce),we&&typeof Y!="number")return le.destroy(new Error("Invalid messageId")),!1;we&&(q+=2);let I=null;if(be===5){if(I=B(le,se),!I)return!1;q+=I.length}return le.write(s.PUBLISH_HEADER[we][ve.dup?1:0][Pe?1:0]),H(le,q),y(le,he(Te)),le.write(Te),we>0&&y(le,Y),I?.write(),f("publish: payload: %o",ce),le.write(ce)}function A(de,le,Se){let be=Se?Se.protocolVersion:4,ve=de||{},we=ve.cmd||"puback",Pe=ve.messageId,Te=ve.dup&&we==="pubrel"?s.DUP_MASK:0,ce=0,Y=ve.reasonCode,se=ve.properties,q=be===5?3:2;if(we==="pubrel"&&(ce=1),typeof Pe!="number")return le.destroy(new Error("Invalid messageId")),!1;let I=null;if(be===5&&typeof se=="object"){if(I=z(le,se,Se,q),!I)return!1;q+=I.length}return le.write(s.ACKS[we][ce][Te][0]),q===3&&(q+=Y!==0?1:-1),H(le,q),y(le,Pe),be===5&&q!==2&&le.write(o.from([Y])),I!==null?I.write():q===4&&le.write(o.from([0])),!0}function C(de,le,Se){f("subscribe: packet: ");let be=Se?Se.protocolVersion:4,ve=de||{},we=ve.dup?s.DUP_MASK:0,Pe=ve.messageId,Te=ve.subscriptions,ce=ve.properties,Y=0;if(typeof Pe!="number")return le.destroy(new Error("Invalid messageId")),!1;Y+=2;let se=null;if(be===5){if(se=B(le,ce),!se)return!1;Y+=se.length}if(typeof Te=="object"&&Te.length)for(let I=0;I<Te.length;I+=1){let ee=Te[I].topic,Q=Te[I].qos;if(typeof ee!="string")return le.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof Q!="number")return le.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(be===5){if(typeof(Te[I].nl||!1)!="boolean")return le.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(Te[I].rap||!1)!="boolean")return le.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let W=Te[I].rh||0;if(typeof W!="number"||W>2)return le.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}Y+=o.byteLength(ee)+2+1}else return le.destroy(new Error("Invalid subscriptions")),!1;f("subscribe: writing to stream: %o",s.SUBSCRIBE_HEADER),le.write(s.SUBSCRIBE_HEADER[1][we?1:0][0]),H(le,Y),y(le,Pe),se!==null&&se.write();let q=!0;for(let I of Te){let ee=I.topic,Q=I.qos,W=+I.nl,ue=+I.rap,ae=I.rh,Me;re(le,ee),Me=s.SUBSCRIBE_OPTIONS_QOS[Q],be===5&&(Me|=W?s.SUBSCRIBE_OPTIONS_NL:0,Me|=ue?s.SUBSCRIBE_OPTIONS_RAP:0,Me|=ae?s.SUBSCRIBE_OPTIONS_RH[ae]:0),q=le.write(o.from([Me]))}return q}function R(de,le,Se){let be=Se?Se.protocolVersion:4,ve=de||{},we=ve.messageId,Pe=ve.granted,Te=ve.properties,ce=0;if(typeof we!="number")return le.destroy(new Error("Invalid messageId")),!1;if(ce+=2,typeof Pe=="object"&&Pe.length)for(let se=0;se<Pe.length;se+=1){if(typeof Pe[se]!="number")return le.destroy(new Error("Invalid qos vector")),!1;ce+=1}else return le.destroy(new Error("Invalid qos vector")),!1;let Y=null;if(be===5){if(Y=z(le,Te,Se,ce),!Y)return!1;ce+=Y.length}return le.write(s.SUBACK_HEADER),H(le,ce),y(le,we),Y!==null&&Y.write(),le.write(o.from(Pe))}function k(de,le,Se){let be=Se?Se.protocolVersion:4,ve=de||{},we=ve.messageId,Pe=ve.dup?s.DUP_MASK:0,Te=ve.unsubscriptions,ce=ve.properties,Y=0;if(typeof we!="number")return le.destroy(new Error("Invalid messageId")),!1;if(Y+=2,typeof Te=="object"&&Te.length)for(let I=0;I<Te.length;I+=1){if(typeof Te[I]!="string")return le.destroy(new Error("Invalid unsubscriptions")),!1;Y+=o.byteLength(Te[I])+2}else return le.destroy(new Error("Invalid unsubscriptions")),!1;let se=null;if(be===5){if(se=B(le,ce),!se)return!1;Y+=se.length}le.write(s.UNSUBSCRIBE_HEADER[1][Pe?1:0][0]),H(le,Y),y(le,we),se!==null&&se.write();let q=!0;for(let I=0;I<Te.length;I++)q=re(le,Te[I]);return q}function U(de,le,Se){let be=Se?Se.protocolVersion:4,ve=de||{},we=ve.messageId,Pe=ve.dup?s.DUP_MASK:0,Te=ve.granted,ce=ve.properties,Y=ve.cmd,se=0,q=2;if(typeof we!="number")return le.destroy(new Error("Invalid messageId")),!1;if(be===5)if(typeof Te=="object"&&Te.length)for(let ee=0;ee<Te.length;ee+=1){if(typeof Te[ee]!="number")return le.destroy(new Error("Invalid qos vector")),!1;q+=1}else return le.destroy(new Error("Invalid qos vector")),!1;let I=null;if(be===5){if(I=z(le,ce,Se,q),!I)return!1;q+=I.length}return le.write(s.ACKS[Y][se][Pe][0]),H(le,q),y(le,we),I!==null&&I.write(),be===5&&le.write(o.from(Te)),!0}function L(de,le,Se){return le.write(s.EMPTY[de.cmd])}function te(de,le,Se){let be=Se?Se.protocolVersion:4,ve=de||{},we=ve.reasonCode,Pe=ve.properties,Te=be===5?1:0,ce=null;if(be===5){if(ce=z(le,Pe,Se,Te),!ce)return!1;Te+=ce.length}return le.write(o.from([s.codes.disconnect<<4])),H(le,Te),be===5&&le.write(o.from([we])),ce!==null&&ce.write(),!0}function V(de,le,Se){let be=Se?Se.protocolVersion:4,ve=de||{},we=ve.reasonCode,Pe=ve.properties,Te=be===5?1:0;be!==5&&le.destroy(new Error("Invalid mqtt version for auth packet"));let ce=z(le,Pe,Se,Te);return ce?(Te+=ce.length,le.write(o.from([s.codes.auth<<4])),H(le,Te),le.write(o.from([we])),ce!==null&&ce.write(),!0):!1}var ie={};function H(de,le){if(le>s.VARBYTEINT_MAX)return de.destroy(new Error(`Invalid variable byte integer: ${le}`)),!1;let Se=ie[le];return Se||(Se=b(le),le<16384&&(ie[le]=Se)),f("writeVarByteInt: writing to stream: %o",Se),de.write(Se)}function re(de,le){let Se=o.byteLength(le);return y(de,Se),f("writeString: %s",le),de.write(le,"utf8")}function $(de,le,Se){re(de,le),re(de,Se)}function K(de,le){return f("writeNumberCached: number: %d",le),f("writeNumberCached: %o",h[le]),de.write(h[le])}function X(de,le){let Se=m(le);return f("writeNumberGenerated: %o",Se),de.write(Se)}function ne(de,le){let Se=j(le);return f("write4ByteNumber: %o",Se),de.write(Se)}function G(de,le){typeof le=="string"?re(de,le):le?(y(de,le.length),de.write(le)):y(de,0)}function B(de,le){if(typeof le!="object"||le.length!=null)return{length:1,write(){pe(de,{},0)}};let Se=0;function be(ve,we){let Pe=s.propertiesTypes[ve],Te=0;switch(Pe){case"byte":{if(typeof we!="boolean")return de.destroy(new Error(`Invalid ${ve}: ${we}`)),!1;Te+=2;break}case"int8":{if(typeof we!="number"||we<0||we>255)return de.destroy(new Error(`Invalid ${ve}: ${we}`)),!1;Te+=2;break}case"binary":{if(we&&we===null)return de.destroy(new Error(`Invalid ${ve}: ${we}`)),!1;Te+=1+o.byteLength(we)+2;break}case"int16":{if(typeof we!="number"||we<0||we>65535)return de.destroy(new Error(`Invalid ${ve}: ${we}`)),!1;Te+=3;break}case"int32":{if(typeof we!="number"||we<0||we>4294967295)return de.destroy(new Error(`Invalid ${ve}: ${we}`)),!1;Te+=5;break}case"var":{if(typeof we!="number"||we<0||we>268435455)return de.destroy(new Error(`Invalid ${ve}: ${we}`)),!1;Te+=1+o.byteLength(b(we));break}case"string":{if(typeof we!="string")return de.destroy(new Error(`Invalid ${ve}: ${we}`)),!1;Te+=3+o.byteLength(we.toString());break}case"pair":{if(typeof we!="object")return de.destroy(new Error(`Invalid ${ve}: ${we}`)),!1;Te+=Object.getOwnPropertyNames(we).reduce((ce,Y)=>{let se=we[Y];return Array.isArray(se)?ce+=se.reduce((q,I)=>(q+=3+o.byteLength(Y.toString())+2+o.byteLength(I.toString()),q),0):ce+=3+o.byteLength(Y.toString())+2+o.byteLength(we[Y].toString()),ce},0);break}default:return de.destroy(new Error(`Invalid property ${ve}: ${we}`)),!1}return Te}if(le)for(let ve in le){let we=0,Pe=0,Te=le[ve];if(Te!==void 0){if(Array.isArray(Te))for(let ce=0;ce<Te.length;ce++){if(Pe=be(ve,Te[ce]),!Pe)return!1;we+=Pe}else{if(Pe=be(ve,Te),!Pe)return!1;we=Pe}if(!we)return!1;Se+=we}}return{length:o.byteLength(b(Se))+Se,write(){pe(de,le,Se)}}}function z(de,le,Se,be){let ve=["reasonString","userProperties"],we=Se&&Se.properties&&Se.properties.maximumPacketSize?Se.properties.maximumPacketSize:0,Pe=B(de,le);if(we)for(;be+Pe.length>we;){let Te=ve.shift();if(Te&&le[Te])delete le[Te],Pe=B(de,le);else return!1}return Pe}function Z(de,le,Se){switch(s.propertiesTypes[le]){case"byte":{de.write(o.from([s.properties[le]])),de.write(o.from([+Se]));break}case"int8":{de.write(o.from([s.properties[le]])),de.write(o.from([Se]));break}case"binary":{de.write(o.from([s.properties[le]])),G(de,Se);break}case"int16":{de.write(o.from([s.properties[le]])),y(de,Se);break}case"int32":{de.write(o.from([s.properties[le]])),ne(de,Se);break}case"var":{de.write(o.from([s.properties[le]])),H(de,Se);break}case"string":{de.write(o.from([s.properties[le]])),re(de,Se);break}case"pair":{Object.getOwnPropertyNames(Se).forEach(be=>{let ve=Se[be];Array.isArray(ve)?ve.forEach(we=>{de.write(o.from([s.properties[le]])),$(de,be.toString(),we.toString())}):(de.write(o.from([s.properties[le]])),$(de,be.toString(),ve.toString()))});break}default:return de.destroy(new Error(`Invalid property ${le} value: ${Se}`)),!1}}function pe(de,le,Se){H(de,Se);for(let be in le)if(Object.prototype.hasOwnProperty.call(le,be)&&le[be]!=null){let ve=le[be];if(Array.isArray(ve))for(let we=0;we<ve.length;we++)Z(de,be,ve[we]);else Z(de,be,ve)}}function he(de){return de?de instanceof o?de.length:o.byteLength(de):0}function Ee(de){return typeof de=="string"||de instanceof o}t.exports=v}),fU=ze((e,t)=>{Ie(),Ue(),Be();var s=uA(),{EventEmitter:o}=(di(),Mt(Eo)),{Buffer:i}=(Sr(),Mt(wr));function a(u,f){let h=new c;return s(u,h,f),h.concat()}var c=class extends o{constructor(){super(),this._array=new Array(20),this._i=0}write(u){return this._array[this._i++]=u,!0}concat(){let u=0,f=new Array(this._array.length),h=this._array,m=0,g;for(g=0;g<h.length&&h[g]!==void 0;g++)typeof h[g]!="string"?f[g]=h[g].length:f[g]=i.byteLength(h[g]),u+=f[g];let b=i.allocUnsafe(u);for(g=0;g<h.length&&h[g]!==void 0;g++)typeof h[g]!="string"?(h[g].copy(b,m),m+=f[g]):(b.write(h[g],m),m+=f[g]);return b}destroy(u){u&&this.emit("error",u)}};t.exports=a}),hU=ze(e=>{Ie(),Ue(),Be(),e.parser=cU().parser,e.generate=fU(),e.writeToStream=uA()}),pU=ze((e,t)=>{Ie(),Ue(),Be(),t.exports=o;function s(a){return a instanceof Id?Id.from(a):new a.constructor(a.buffer.slice(),a.byteOffset,a.length)}function o(a){if(a=a||{},a.circles)return i(a);let c=new Map;if(c.set(Date,g=>new Date(g)),c.set(Map,(g,b)=>new Map(f(Array.from(g),b))),c.set(Set,(g,b)=>new Set(f(Array.from(g),b))),a.constructorHandlers)for(let g of a.constructorHandlers)c.set(g[0],g[1]);let u=null;return a.proto?m:h;function f(g,b){let j=Object.keys(g),y=new Array(j.length);for(let w=0;w<j.length;w++){let v=j[w],N=g[v];typeof N!="object"||N===null?y[v]=N:N.constructor!==Object&&(u=c.get(N.constructor))?y[v]=u(N,b):ArrayBuffer.isView(N)?y[v]=s(N):y[v]=b(N)}return y}function h(g){if(typeof g!="object"||g===null)return g;if(Array.isArray(g))return f(g,h);if(g.constructor!==Object&&(u=c.get(g.constructor)))return u(g,h);let b={};for(let j in g){if(Object.hasOwnProperty.call(g,j)===!1)continue;let y=g[j];typeof y!="object"||y===null?b[j]=y:y.constructor!==Object&&(u=c.get(y.constructor))?b[j]=u(y,h):ArrayBuffer.isView(y)?b[j]=s(y):b[j]=h(y)}return b}function m(g){if(typeof g!="object"||g===null)return g;if(Array.isArray(g))return f(g,m);if(g.constructor!==Object&&(u=c.get(g.constructor)))return u(g,m);let b={};for(let j in g){let y=g[j];typeof y!="object"||y===null?b[j]=y:y.constructor!==Object&&(u=c.get(y.constructor))?b[j]=u(y,m):ArrayBuffer.isView(y)?b[j]=s(y):b[j]=m(y)}return b}}function i(a){let c=[],u=[],f=new Map;if(f.set(Date,j=>new Date(j)),f.set(Map,(j,y)=>new Map(m(Array.from(j),y))),f.set(Set,(j,y)=>new Set(m(Array.from(j),y))),a.constructorHandlers)for(let j of a.constructorHandlers)f.set(j[0],j[1]);let h=null;return a.proto?b:g;function m(j,y){let w=Object.keys(j),v=new Array(w.length);for(let N=0;N<w.length;N++){let S=w[N],_=j[S];if(typeof _!="object"||_===null)v[S]=_;else if(_.constructor!==Object&&(h=f.get(_.constructor)))v[S]=h(_,y);else if(ArrayBuffer.isView(_))v[S]=s(_);else{let M=c.indexOf(_);M!==-1?v[S]=u[M]:v[S]=y(_)}}return v}function g(j){if(typeof j!="object"||j===null)return j;if(Array.isArray(j))return m(j,g);if(j.constructor!==Object&&(h=f.get(j.constructor)))return h(j,g);let y={};c.push(j),u.push(y);for(let w in j){if(Object.hasOwnProperty.call(j,w)===!1)continue;let v=j[w];if(typeof v!="object"||v===null)y[w]=v;else if(v.constructor!==Object&&(h=f.get(v.constructor)))y[w]=h(v,g);else if(ArrayBuffer.isView(v))y[w]=s(v);else{let N=c.indexOf(v);N!==-1?y[w]=u[N]:y[w]=g(v)}}return c.pop(),u.pop(),y}function b(j){if(typeof j!="object"||j===null)return j;if(Array.isArray(j))return m(j,b);if(j.constructor!==Object&&(h=f.get(j.constructor)))return h(j,b);let y={};c.push(j),u.push(y);for(let w in j){let v=j[w];if(typeof v!="object"||v===null)y[w]=v;else if(v.constructor!==Object&&(h=f.get(v.constructor)))y[w]=h(v,b);else if(ArrayBuffer.isView(v))y[w]=s(v);else{let N=c.indexOf(v);N!==-1?y[w]=u[N]:y[w]=b(v)}}return c.pop(),u.pop(),y}}}),mU=ze((e,t)=>{Ie(),Ue(),Be(),t.exports=pU()()}),gU=ze(e=>{Ie(),Ue(),Be(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTopic=t,e.validateTopics=s;function t(o){let i=o.split("/");for(let a=0;a<i.length;a++)if(i[a]!=="+"){if(i[a]==="#")return a===i.length-1;if(i[a].indexOf("+")!==-1||i[a].indexOf("#")!==-1)return!1}return!0}function s(o){if(o.length===0)return"empty_topic_list";for(let i=0;i<o.length;i++)if(!t(o[i]))return o[i];return null}}),dA=ze(e=>{Ie(),Ue(),Be(),Object.defineProperty(e,"__esModule",{value:!0});var t=hi(),s={objectMode:!0},o={clean:!0},i=class{options;_inflights;constructor(a){this.options=a||{},this.options={...o,...a},this._inflights=new Map}put(a,c){return this._inflights.set(a.messageId,a),c&&c(),this}createStream(){let a=new t.Readable(s),c=[],u=!1,f=0;return this._inflights.forEach((h,m)=>{c.push(h)}),a._read=()=>{!u&&f<c.length?a.push(c[f++]):a.push(null)},a.destroy=h=>{if(!u)return u=!0,setTimeout(()=>{a.emit("close")},0),a},a}del(a,c){let u=this._inflights.get(a.messageId);return u?(this._inflights.delete(a.messageId),c(null,u)):c&&c(new Error("missing packet")),this}get(a,c){let u=this._inflights.get(a.messageId);return u?c(null,u):c&&c(new Error("missing packet")),this}close(a){this.options.clean&&(this._inflights=null),a&&a()}};e.default=i}),yU=ze(e=>{Ie(),Ue(),Be(),Object.defineProperty(e,"__esModule",{value:!0});var t=[0,16,128,131,135,144,145,151,153],s=(o,i,a)=>{o.log("handlePublish: packet %o",i),a=typeof a<"u"?a:o.noop;let c=i.topic.toString(),u=i.payload,{qos:f}=i,{messageId:h}=i,{options:m}=o;if(o.options.protocolVersion===5){let g;if(i.properties&&(g=i.properties.topicAlias),typeof g<"u")if(c.length===0)if(g>0&&g<=65535){let b=o.topicAliasRecv.getTopicByAlias(g);if(b)c=b,o.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",c,g);else{o.log("handlePublish :: unregistered topic alias. alias: %d",g),o.emit("error",new Error("Received unregistered Topic Alias"));return}}else{o.log("handlePublish :: topic alias out of range. alias: %d",g),o.emit("error",new Error("Received Topic Alias is out of range"));return}else if(o.topicAliasRecv.put(c,g))o.log("handlePublish :: registered topic: %s - alias: %d",c,g);else{o.log("handlePublish :: topic alias out of range. alias: %d",g),o.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(o.log("handlePublish: qos %d",f),f){case 2:{m.customHandleAcks(c,u,i,(g,b)=>{if(typeof g=="number"&&(b=g,g=null),g)return o.emit("error",g);if(t.indexOf(b)===-1)return o.emit("error",new Error("Wrong reason code for pubrec"));b?o._sendPacket({cmd:"pubrec",messageId:h,reasonCode:b},a):o.incomingStore.put(i,()=>{o._sendPacket({cmd:"pubrec",messageId:h},a)})});break}case 1:{m.customHandleAcks(c,u,i,(g,b)=>{if(typeof g=="number"&&(b=g,g=null),g)return o.emit("error",g);if(t.indexOf(b)===-1)return o.emit("error",new Error("Wrong reason code for puback"));b||o.emit("message",c,u,i),o.handleMessage(i,j=>{if(j)return a&&a(j);o._sendPacket({cmd:"puback",messageId:h,reasonCode:b},a)})});break}case 0:o.emit("message",c,u,i),o.handleMessage(i,a);break;default:o.log("handlePublish: unknown QoS. Doing nothing.");break}};e.default=s}),bU=ze((e,t)=>{t.exports={version:"5.14.1"}}),Ta=ze(e=>{Ie(),Ue(),Be(),Object.defineProperty(e,"__esModule",{value:!0}),e.MQTTJS_VERSION=e.nextTick=e.ErrorWithSubackPacket=e.ErrorWithReasonCode=void 0,e.applyMixin=o;var t=class fA extends Error{code;constructor(a,c){super(a),this.code=c,Object.setPrototypeOf(this,fA.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};e.ErrorWithReasonCode=t;var s=class hA extends Error{packet;constructor(a,c){super(a),this.packet=c,Object.setPrototypeOf(this,hA.prototype),Object.getPrototypeOf(this).name="ErrorWithSubackPacket"}};e.ErrorWithSubackPacket=s;function o(i,a,c=!1){let u=[a];for(;;){let f=u[0],h=Object.getPrototypeOf(f);if(h?.prototype)u.unshift(h);else break}for(let f of u)for(let h of Object.getOwnPropertyNames(f.prototype))(c||h!=="constructor")&&Object.defineProperty(i.prototype,h,Object.getOwnPropertyDescriptor(f.prototype,h)??Object.create(null))}e.nextTick=typeof It?.nextTick=="function"?It.nextTick:i=>{setTimeout(i,0)},e.MQTTJS_VERSION=bU().version}),af=ze(e=>{Ie(),Ue(),Be(),Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=void 0;var t=Ta();e.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var s=(o,i)=>{let{messageId:a}=i,c=i.cmd,u=null,f=o.outgoing[a]?o.outgoing[a].cb:null,h=null;if(!f){o.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(o.log("_handleAck :: packet type",c),c){case"pubcomp":case"puback":{let m=i.reasonCode;m&&m>0&&m!==16?(h=new t.ErrorWithReasonCode(`Publish error: ${e.ReasonCodes[m]}`,m),o._removeOutgoingAndStoreMessage(a,()=>{f(h,i)})):o._removeOutgoingAndStoreMessage(a,f);break}case"pubrec":{u={cmd:"pubrel",qos:2,messageId:a};let m=i.reasonCode;m&&m>0&&m!==16?(h=new t.ErrorWithReasonCode(`Publish error: ${e.ReasonCodes[m]}`,m),o._removeOutgoingAndStoreMessage(a,()=>{f(h,i)})):o._sendPacket(u);break}case"suback":{delete o.outgoing[a],o.messageIdProvider.deallocate(a);let m=i.granted;for(let g=0;g<m.length;g++){let b=m[g];if((b&128)!==0){h=new Error(`Subscribe error: ${e.ReasonCodes[b]}`),h.code=b;let j=o.messageIdToTopic[a];j&&j.forEach(y=>{delete o._resubscribeTopics[y]})}}delete o.messageIdToTopic[a],o._invokeStoreProcessingQueue(),f(h,i);break}case"unsuback":{delete o.outgoing[a],o.messageIdProvider.deallocate(a),o._invokeStoreProcessingQueue(),f(null,i);break}default:o.emit("error",new Error("unrecognized packet type"))}o.disconnecting&&Object.keys(o.outgoing).length===0&&o.emit("outgoingEmpty")};e.default=s}),xU=ze(e=>{Ie(),Ue(),Be(),Object.defineProperty(e,"__esModule",{value:!0});var t=Ta(),s=af(),o=(i,a)=>{let{options:c}=i,u=c.protocolVersion,f=u===5?a.reasonCode:a.returnCode;if(u!==5){let h=new t.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${u}`,f);i.emit("error",h);return}i.handleAuth(a,(h,m)=>{if(h){i.emit("error",h);return}if(f===24)i.reconnecting=!1,i._sendPacket(m);else{let g=new t.ErrorWithReasonCode(`Connection refused: ${s.ReasonCodes[f]}`,f);i.emit("error",g)}})};e.default=o}),vU=ze(e=>{Ie(),Ue(),Be(),Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=void 0;var t=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,s=new Set,o=typeof It=="object"&&It?It:{},i=(j,y,w,v)=>{typeof o.emitWarning=="function"?o.emitWarning(j,y,w,v):console.error(`[${w}] ${y}: ${j}`)},a=globalThis.AbortController,c=globalThis.AbortSignal;if(typeof a>"u"){c=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(w,v){this._onabort.push(v)}},a=class{constructor(){y()}signal=new c;abort(w){if(!this.signal.aborted){this.signal.reason=w,this.signal.aborted=!0;for(let v of this.signal._onabort)v(w);this.signal.onabort?.(w)}}};let j=o.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",y=()=>{j&&(j=!1,i("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",y))}}var u=j=>!s.has(j),f=j=>j&&j===Math.floor(j)&&j>0&&isFinite(j),h=j=>f(j)?j<=Math.pow(2,8)?Uint8Array:j<=Math.pow(2,16)?Uint16Array:j<=Math.pow(2,32)?Uint32Array:j<=Number.MAX_SAFE_INTEGER?m:null:null,m=class extends Array{constructor(j){super(j),this.fill(0)}},g=class Rl{heap;length;static#e=!1;static create(y){let w=h(y);if(!w)return[];Rl.#e=!0;let v=new Rl(y,w);return Rl.#e=!1,v}constructor(y,w){if(!Rl.#e)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new w(y),this.length=0}push(y){this.heap[this.length++]=y}pop(){return this.heap[--this.length]}},b=class pA{#e;#t;#r;#a;#s;#p;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#o;#c;#u;#l;#n;#m;#y;#h;#d;#v;#f;#w;#S;#b;#j;#T;#g;static unsafeExposeInternals(y){return{starts:y.#S,ttls:y.#b,sizes:y.#w,keyMap:y.#u,keyList:y.#l,valList:y.#n,next:y.#m,prev:y.#y,get head(){return y.#h},get tail(){return y.#d},free:y.#v,isBackgroundFetch:w=>y.#i(w),backgroundFetch:(w,v,N,S)=>y.#D(w,v,N,S),moveToTail:w=>y.#M(w),indexes:w=>y.#N(w),rindexes:w=>y.#_(w),isStale:w=>y.#x(w)}}get max(){return this.#e}get maxSize(){return this.#t}get calculatedSize(){return this.#c}get size(){return this.#o}get fetchMethod(){return this.#s}get memoMethod(){return this.#p}get dispose(){return this.#r}get disposeAfter(){return this.#a}constructor(y){let{max:w=0,ttl:v,ttlResolution:N=1,ttlAutopurge:S,updateAgeOnGet:_,updateAgeOnHas:M,allowStale:A,dispose:C,disposeAfter:R,noDisposeOnSet:k,noUpdateTTL:U,maxSize:L=0,maxEntrySize:te=0,sizeCalculation:V,fetchMethod:ie,memoMethod:H,noDeleteOnFetchRejection:re,noDeleteOnStaleGet:$,allowStaleOnFetchRejection:K,allowStaleOnFetchAbort:X,ignoreFetchAbort:ne}=y;if(w!==0&&!f(w))throw new TypeError("max option must be a nonnegative integer");let G=w?h(w):Array;if(!G)throw new Error("invalid max value: "+w);if(this.#e=w,this.#t=L,this.maxEntrySize=te||this.#t,this.sizeCalculation=V,this.sizeCalculation){if(!this.#t&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(H!==void 0&&typeof H!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#p=H,ie!==void 0&&typeof ie!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#s=ie,this.#T=!!ie,this.#u=new Map,this.#l=new Array(w).fill(void 0),this.#n=new Array(w).fill(void 0),this.#m=new G(w),this.#y=new G(w),this.#h=0,this.#d=0,this.#v=g.create(w),this.#o=0,this.#c=0,typeof C=="function"&&(this.#r=C),typeof R=="function"?(this.#a=R,this.#f=[]):(this.#a=void 0,this.#f=void 0),this.#j=!!this.#r,this.#g=!!this.#a,this.noDisposeOnSet=!!k,this.noUpdateTTL=!!U,this.noDeleteOnFetchRejection=!!re,this.allowStaleOnFetchRejection=!!K,this.allowStaleOnFetchAbort=!!X,this.ignoreFetchAbort=!!ne,this.maxEntrySize!==0){if(this.#t!==0&&!f(this.#t))throw new TypeError("maxSize must be a positive integer if specified");if(!f(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#z()}if(this.allowStale=!!A,this.noDeleteOnStaleGet=!!$,this.updateAgeOnGet=!!_,this.updateAgeOnHas=!!M,this.ttlResolution=f(N)||N===0?N:1,this.ttlAutopurge=!!S,this.ttl=v||0,this.ttl){if(!f(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#P()}if(this.#e===0&&this.ttl===0&&this.#t===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#t){let B="LRU_CACHE_UNBOUNDED";u(B)&&(s.add(B),i("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",B,pA))}}getRemainingTTL(y){return this.#u.has(y)?1/0:0}#P(){let y=new m(this.#e),w=new m(this.#e);this.#b=y,this.#S=w,this.#I=(S,_,M=t.now())=>{if(w[S]=_!==0?M:0,y[S]=_,_!==0&&this.ttlAutopurge){let A=setTimeout(()=>{this.#x(S)&&this.#E(this.#l[S],"expire")},_+1);A.unref&&A.unref()}},this.#C=S=>{w[S]=y[S]!==0?t.now():0},this.#A=(S,_)=>{if(y[_]){let M=y[_],A=w[_];if(!M||!A)return;S.ttl=M,S.start=A,S.now=v||N();let C=S.now-A;S.remainingTTL=M-C}};let v=0,N=()=>{let S=t.now();if(this.ttlResolution>0){v=S;let _=setTimeout(()=>v=0,this.ttlResolution);_.unref&&_.unref()}return S};this.getRemainingTTL=S=>{let _=this.#u.get(S);if(_===void 0)return 0;let M=y[_],A=w[_];if(!M||!A)return 1/0;let C=(v||N())-A;return M-C},this.#x=S=>{let _=w[S],M=y[S];return!!M&&!!_&&(v||N())-_>M}}#C=()=>{};#A=()=>{};#I=()=>{};#x=()=>!1;#z(){let y=new m(this.#e);this.#c=0,this.#w=y,this.#R=w=>{this.#c-=y[w],y[w]=0},this.#B=(w,v,N,S)=>{if(this.#i(v))return 0;if(!f(N))if(S){if(typeof S!="function")throw new TypeError("sizeCalculation must be a function");if(N=S(v,w),!f(N))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return N},this.#k=(w,v,N)=>{if(y[w]=v,this.#t){let S=this.#t-y[w];for(;this.#c>S;)this.#O(!0)}this.#c+=y[w],N&&(N.entrySize=v,N.totalCalculatedSize=this.#c)}}#R=y=>{};#k=(y,w,v)=>{};#B=(y,w,v,N)=>{if(v||N)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#N({allowStale:y=this.allowStale}={}){if(this.#o)for(let w=this.#d;!(!this.#U(w)||((y||!this.#x(w))&&(yield w),w===this.#h));)w=this.#y[w]}*#_({allowStale:y=this.allowStale}={}){if(this.#o)for(let w=this.#h;!(!this.#U(w)||((y||!this.#x(w))&&(yield w),w===this.#d));)w=this.#m[w]}#U(y){return y!==void 0&&this.#u.get(this.#l[y])===y}*entries(){for(let y of this.#N())this.#n[y]!==void 0&&this.#l[y]!==void 0&&!this.#i(this.#n[y])&&(yield[this.#l[y],this.#n[y]])}*rentries(){for(let y of this.#_())this.#n[y]!==void 0&&this.#l[y]!==void 0&&!this.#i(this.#n[y])&&(yield[this.#l[y],this.#n[y]])}*keys(){for(let y of this.#N()){let w=this.#l[y];w!==void 0&&!this.#i(this.#n[y])&&(yield w)}}*rkeys(){for(let y of this.#_()){let w=this.#l[y];w!==void 0&&!this.#i(this.#n[y])&&(yield w)}}*values(){for(let y of this.#N())this.#n[y]!==void 0&&!this.#i(this.#n[y])&&(yield this.#n[y])}*rvalues(){for(let y of this.#_())this.#n[y]!==void 0&&!this.#i(this.#n[y])&&(yield this.#n[y])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(y,w={}){for(let v of this.#N()){let N=this.#n[v],S=this.#i(N)?N.__staleWhileFetching:N;if(S!==void 0&&y(S,this.#l[v],this))return this.get(this.#l[v],w)}}forEach(y,w=this){for(let v of this.#N()){let N=this.#n[v],S=this.#i(N)?N.__staleWhileFetching:N;S!==void 0&&y.call(w,S,this.#l[v],this)}}rforEach(y,w=this){for(let v of this.#_()){let N=this.#n[v],S=this.#i(N)?N.__staleWhileFetching:N;S!==void 0&&y.call(w,S,this.#l[v],this)}}purgeStale(){let y=!1;for(let w of this.#_({allowStale:!0}))this.#x(w)&&(this.#E(this.#l[w],"expire"),y=!0);return y}info(y){let w=this.#u.get(y);if(w===void 0)return;let v=this.#n[w],N=this.#i(v)?v.__staleWhileFetching:v;if(N===void 0)return;let S={value:N};if(this.#b&&this.#S){let _=this.#b[w],M=this.#S[w];if(_&&M){let A=_-(t.now()-M);S.ttl=A,S.start=Date.now()}}return this.#w&&(S.size=this.#w[w]),S}dump(){let y=[];for(let w of this.#N({allowStale:!0})){let v=this.#l[w],N=this.#n[w],S=this.#i(N)?N.__staleWhileFetching:N;if(S===void 0||v===void 0)continue;let _={value:S};if(this.#b&&this.#S){_.ttl=this.#b[w];let M=t.now()-this.#S[w];_.start=Math.floor(Date.now()-M)}this.#w&&(_.size=this.#w[w]),y.unshift([v,_])}return y}load(y){this.clear();for(let[w,v]of y){if(v.start){let N=Date.now()-v.start;v.start=t.now()-N}this.set(w,v.value,v)}}set(y,w,v={}){if(w===void 0)return this.delete(y),this;let{ttl:N=this.ttl,start:S,noDisposeOnSet:_=this.noDisposeOnSet,sizeCalculation:M=this.sizeCalculation,status:A}=v,{noUpdateTTL:C=this.noUpdateTTL}=v,R=this.#B(y,w,v.size||0,M);if(this.maxEntrySize&&R>this.maxEntrySize)return A&&(A.set="miss",A.maxEntrySizeExceeded=!0),this.#E(y,"set"),this;let k=this.#o===0?void 0:this.#u.get(y);if(k===void 0)k=this.#o===0?this.#d:this.#v.length!==0?this.#v.pop():this.#o===this.#e?this.#O(!1):this.#o,this.#l[k]=y,this.#n[k]=w,this.#u.set(y,k),this.#m[this.#d]=k,this.#y[k]=this.#d,this.#d=k,this.#o++,this.#k(k,R,A),A&&(A.set="add"),C=!1;else{this.#M(k);let U=this.#n[k];if(w!==U){if(this.#T&&this.#i(U)){U.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:L}=U;L!==void 0&&!_&&(this.#j&&this.#r?.(L,y,"set"),this.#g&&this.#f?.push([L,y,"set"]))}else _||(this.#j&&this.#r?.(U,y,"set"),this.#g&&this.#f?.push([U,y,"set"]));if(this.#R(k),this.#k(k,R,A),this.#n[k]=w,A){A.set="replace";let L=U&&this.#i(U)?U.__staleWhileFetching:U;L!==void 0&&(A.oldValue=L)}}else A&&(A.set="update")}if(N!==0&&!this.#b&&this.#P(),this.#b&&(C||this.#I(k,N,S),A&&this.#A(A,k)),!_&&this.#g&&this.#f){let U=this.#f,L;for(;L=U?.shift();)this.#a?.(...L)}return this}pop(){try{for(;this.#o;){let y=this.#n[this.#h];if(this.#O(!0),this.#i(y)){if(y.__staleWhileFetching)return y.__staleWhileFetching}else if(y!==void 0)return y}}finally{if(this.#g&&this.#f){let y=this.#f,w;for(;w=y?.shift();)this.#a?.(...w)}}}#O(y){let w=this.#h,v=this.#l[w],N=this.#n[w];return this.#T&&this.#i(N)?N.__abortController.abort(new Error("evicted")):(this.#j||this.#g)&&(this.#j&&this.#r?.(N,v,"evict"),this.#g&&this.#f?.push([N,v,"evict"])),this.#R(w),y&&(this.#l[w]=void 0,this.#n[w]=void 0,this.#v.push(w)),this.#o===1?(this.#h=this.#d=0,this.#v.length=0):this.#h=this.#m[w],this.#u.delete(v),this.#o--,w}has(y,w={}){let{updateAgeOnHas:v=this.updateAgeOnHas,status:N}=w,S=this.#u.get(y);if(S!==void 0){let _=this.#n[S];if(this.#i(_)&&_.__staleWhileFetching===void 0)return!1;if(this.#x(S))N&&(N.has="stale",this.#A(N,S));else return v&&this.#C(S),N&&(N.has="hit",this.#A(N,S)),!0}else N&&(N.has="miss");return!1}peek(y,w={}){let{allowStale:v=this.allowStale}=w,N=this.#u.get(y);if(N===void 0||!v&&this.#x(N))return;let S=this.#n[N];return this.#i(S)?S.__staleWhileFetching:S}#D(y,w,v,N){let S=w===void 0?void 0:this.#n[w];if(this.#i(S))return S;let _=new a,{signal:M}=v;M?.addEventListener("abort",()=>_.abort(M.reason),{signal:_.signal});let A={signal:_.signal,options:v,context:N},C=(V,ie=!1)=>{let{aborted:H}=_.signal,re=v.ignoreFetchAbort&&V!==void 0;if(v.status&&(H&&!ie?(v.status.fetchAborted=!0,v.status.fetchError=_.signal.reason,re&&(v.status.fetchAbortIgnored=!0)):v.status.fetchResolved=!0),H&&!re&&!ie)return k(_.signal.reason);let $=L;return this.#n[w]===L&&(V===void 0?$.__staleWhileFetching?this.#n[w]=$.__staleWhileFetching:this.#E(y,"fetch"):(v.status&&(v.status.fetchUpdated=!0),this.set(y,V,A.options))),V},R=V=>(v.status&&(v.status.fetchRejected=!0,v.status.fetchError=V),k(V)),k=V=>{let{aborted:ie}=_.signal,H=ie&&v.allowStaleOnFetchAbort,re=H||v.allowStaleOnFetchRejection,$=re||v.noDeleteOnFetchRejection,K=L;if(this.#n[w]===L&&(!$||K.__staleWhileFetching===void 0?this.#E(y,"fetch"):H||(this.#n[w]=K.__staleWhileFetching)),re)return v.status&&K.__staleWhileFetching!==void 0&&(v.status.returnedStale=!0),K.__staleWhileFetching;if(K.__returned===K)throw V},U=(V,ie)=>{let H=this.#s?.(y,S,A);H&&H instanceof Promise&&H.then(re=>V(re===void 0?void 0:re),ie),_.signal.addEventListener("abort",()=>{(!v.ignoreFetchAbort||v.allowStaleOnFetchAbort)&&(V(void 0),v.allowStaleOnFetchAbort&&(V=re=>C(re,!0)))})};v.status&&(v.status.fetchDispatched=!0);let L=new Promise(U).then(C,R),te=Object.assign(L,{__abortController:_,__staleWhileFetching:S,__returned:void 0});return w===void 0?(this.set(y,te,{...A.options,status:void 0}),w=this.#u.get(y)):this.#n[w]=te,te}#i(y){if(!this.#T)return!1;let w=y;return!!w&&w instanceof Promise&&w.hasOwnProperty("__staleWhileFetching")&&w.__abortController instanceof a}async fetch(y,w={}){let{allowStale:v=this.allowStale,updateAgeOnGet:N=this.updateAgeOnGet,noDeleteOnStaleGet:S=this.noDeleteOnStaleGet,ttl:_=this.ttl,noDisposeOnSet:M=this.noDisposeOnSet,size:A=0,sizeCalculation:C=this.sizeCalculation,noUpdateTTL:R=this.noUpdateTTL,noDeleteOnFetchRejection:k=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:U=this.allowStaleOnFetchRejection,ignoreFetchAbort:L=this.ignoreFetchAbort,allowStaleOnFetchAbort:te=this.allowStaleOnFetchAbort,context:V,forceRefresh:ie=!1,status:H,signal:re}=w;if(!this.#T)return H&&(H.fetch="get"),this.get(y,{allowStale:v,updateAgeOnGet:N,noDeleteOnStaleGet:S,status:H});let $={allowStale:v,updateAgeOnGet:N,noDeleteOnStaleGet:S,ttl:_,noDisposeOnSet:M,size:A,sizeCalculation:C,noUpdateTTL:R,noDeleteOnFetchRejection:k,allowStaleOnFetchRejection:U,allowStaleOnFetchAbort:te,ignoreFetchAbort:L,status:H,signal:re},K=this.#u.get(y);if(K===void 0){H&&(H.fetch="miss");let X=this.#D(y,K,$,V);return X.__returned=X}else{let X=this.#n[K];if(this.#i(X)){let z=v&&X.__staleWhileFetching!==void 0;return H&&(H.fetch="inflight",z&&(H.returnedStale=!0)),z?X.__staleWhileFetching:X.__returned=X}let ne=this.#x(K);if(!ie&&!ne)return H&&(H.fetch="hit"),this.#M(K),N&&this.#C(K),H&&this.#A(H,K),X;let G=this.#D(y,K,$,V),B=G.__staleWhileFetching!==void 0&&v;return H&&(H.fetch=ne?"stale":"refresh",B&&ne&&(H.returnedStale=!0)),B?G.__staleWhileFetching:G.__returned=G}}async forceFetch(y,w={}){let v=await this.fetch(y,w);if(v===void 0)throw new Error("fetch() returned undefined");return v}memo(y,w={}){let v=this.#p;if(!v)throw new Error("no memoMethod provided to constructor");let{context:N,forceRefresh:S,..._}=w,M=this.get(y,_);if(!S&&M!==void 0)return M;let A=v(y,M,{options:_,context:N});return this.set(y,A,_),A}get(y,w={}){let{allowStale:v=this.allowStale,updateAgeOnGet:N=this.updateAgeOnGet,noDeleteOnStaleGet:S=this.noDeleteOnStaleGet,status:_}=w,M=this.#u.get(y);if(M!==void 0){let A=this.#n[M],C=this.#i(A);return _&&this.#A(_,M),this.#x(M)?(_&&(_.get="stale"),C?(_&&v&&A.__staleWhileFetching!==void 0&&(_.returnedStale=!0),v?A.__staleWhileFetching:void 0):(S||this.#E(y,"expire"),_&&v&&(_.returnedStale=!0),v?A:void 0)):(_&&(_.get="hit"),C?A.__staleWhileFetching:(this.#M(M),N&&this.#C(M),A))}else _&&(_.get="miss")}#L(y,w){this.#y[w]=y,this.#m[y]=w}#M(y){y!==this.#d&&(y===this.#h?this.#h=this.#m[y]:this.#L(this.#y[y],this.#m[y]),this.#L(this.#d,y),this.#d=y)}delete(y){return this.#E(y,"delete")}#E(y,w){let v=!1;if(this.#o!==0){let N=this.#u.get(y);if(N!==void 0)if(v=!0,this.#o===1)this.#$(w);else{this.#R(N);let S=this.#n[N];if(this.#i(S)?S.__abortController.abort(new Error("deleted")):(this.#j||this.#g)&&(this.#j&&this.#r?.(S,y,w),this.#g&&this.#f?.push([S,y,w])),this.#u.delete(y),this.#l[N]=void 0,this.#n[N]=void 0,N===this.#d)this.#d=this.#y[N];else if(N===this.#h)this.#h=this.#m[N];else{let _=this.#y[N];this.#m[_]=this.#m[N];let M=this.#m[N];this.#y[M]=this.#y[N]}this.#o--,this.#v.push(N)}}if(this.#g&&this.#f?.length){let N=this.#f,S;for(;S=N?.shift();)this.#a?.(...S)}return v}clear(){return this.#$("delete")}#$(y){for(let w of this.#_({allowStale:!0})){let v=this.#n[w];if(this.#i(v))v.__abortController.abort(new Error("deleted"));else{let N=this.#l[w];this.#j&&this.#r?.(v,N,y),this.#g&&this.#f?.push([v,N,y])}}if(this.#u.clear(),this.#n.fill(void 0),this.#l.fill(void 0),this.#b&&this.#S&&(this.#b.fill(0),this.#S.fill(0)),this.#w&&this.#w.fill(0),this.#h=0,this.#d=0,this.#v.length=0,this.#c=0,this.#o=0,this.#g&&this.#f){let w=this.#f,v;for(;v=w?.shift();)this.#a?.(...v)}}};e.LRUCache=b}),Ls=ze(e=>{Ie(),Ue(),Be(),Object.defineProperty(e,"t",{value:!0}),e.ContainerIterator=e.Container=e.Base=void 0;var t=class{constructor(i=0){this.iteratorType=i}equals(i){return this.o===i.o}};e.ContainerIterator=t;var s=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};e.Base=s;var o=class extends s{};e.Container=o}),wU=ze(e=>{Ie(),Ue(),Be(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Ls(),s=class extends t.Base{constructor(i=[]){super(),this.S=[];let a=this;i.forEach(function(c){a.push(c)})}clear(){this.i=0,this.S=[]}push(i){return this.S.push(i),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},o=s;e.default=o}),SU=ze(e=>{Ie(),Ue(),Be(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Ls(),s=class extends t.Base{constructor(i=[]){super(),this.j=0,this.q=[];let a=this;i.forEach(function(c){a.push(c)})}clear(){this.q=[],this.i=this.j=0}push(i){let a=this.q.length;if(this.j/a>.5&&this.j+this.i>=a&&a>4096){let c=this.i;for(let u=0;u<c;++u)this.q[u]=this.q[this.j+u];this.j=0,this.q[this.i]=i}else this.q[this.j+this.i]=i;return++this.i}pop(){if(this.i===0)return;let i=this.q[this.j++];return this.i-=1,i}front(){if(this.i!==0)return this.q[this.j]}},o=s;e.default=o}),jU=ze(e=>{Ie(),Ue(),Be(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Ls(),s=class extends t.Base{constructor(i=[],a=function(u,f){return u>f?-1:u<f?1:0},c=!0){if(super(),this.v=a,Array.isArray(i))this.C=c?[...i]:i;else{this.C=[];let f=this;i.forEach(function(h){f.C.push(h)})}this.i=this.C.length;let u=this.i>>1;for(let f=this.i-1>>1;f>=0;--f)this.k(f,u)}m(i){let a=this.C[i];for(;i>0;){let c=i-1>>1,u=this.C[c];if(this.v(u,a)<=0)break;this.C[i]=u,i=c}this.C[i]=a}k(i,a){let c=this.C[i];for(;i<a;){let u=i<<1|1,f=u+1,h=this.C[u];if(f<this.i&&this.v(h,this.C[f])>0&&(u=f,h=this.C[f]),this.v(h,c)>=0)break;this.C[i]=h,i=u}this.C[i]=c}clear(){this.i=0,this.C.length=0}push(i){this.C.push(i),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let i=this.C[0],a=this.C.pop();return this.i-=1,this.i&&(this.C[0]=a,this.k(0,this.i>>1)),i}top(){return this.C[0]}find(i){return this.C.indexOf(i)>=0}remove(i){let a=this.C.indexOf(i);return a<0?!1:(a===0?this.pop():a===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(a,1,this.C.pop()),this.i-=1,this.m(a),this.k(a,this.i>>1)),!0)}updateItem(i){let a=this.C.indexOf(i);return a<0?!1:(this.m(a),this.k(a,this.i>>1),!0)}toArray(){return[...this.C]}},o=s;e.default=o}),s0=ze(e=>{Ie(),Ue(),Be(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Ls(),s=class extends t.Container{},o=s;e.default=o}),$s=ze(e=>{Ie(),Ue(),Be(),Object.defineProperty(e,"t",{value:!0}),e.throwIteratorAccessError=t;function t(){throw new RangeError("Iterator access denied!")}}),mA=ze(e=>{Ie(),Ue(),Be(),Object.defineProperty(e,"t",{value:!0}),e.RandomIterator=void 0;var t=Ls(),s=$s(),o=class extends t.ContainerIterator{constructor(i,a){super(a),this.o=i,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,s.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,s.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,s.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,s.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(i){this.container.setElementByPos(this.o,i)}};e.RandomIterator=o}),NU=ze(e=>{Ie(),Ue(),Be(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=o(s0()),s=mA();function o(u){return u&&u.t?u:{default:u}}var i=class gA extends s.RandomIterator{constructor(f,h,m){super(f,m),this.container=h}copy(){return new gA(this.o,this.container,this.iteratorType)}},a=class extends t.default{constructor(u=[],f=!0){if(super(),Array.isArray(u))this.J=f?[...u]:u,this.i=u.length;else{this.J=[];let h=this;u.forEach(function(m){h.pushBack(m)})}}clear(){this.i=0,this.J.length=0}begin(){return new i(0,this)}end(){return new i(this.i,this)}rBegin(){return new i(this.i-1,this,1)}rEnd(){return new i(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;return this.J[u]}eraseElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;return this.J.splice(u,1),this.i-=1,this.i}eraseElementByValue(u){let f=0;for(let h=0;h<this.i;++h)this.J[h]!==u&&(this.J[f++]=this.J[h]);return this.i=this.J.length=f,this.i}eraseElementByIterator(u){let f=u.o;return u=u.next(),this.eraseElementByPos(f),u}pushBack(u){return this.J.push(u),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(u,f){if(u<0||u>this.i-1)throw new RangeError;this.J[u]=f}insert(u,f,h=1){if(u<0||u>this.i)throw new RangeError;return this.J.splice(u,0,...new Array(h).fill(f)),this.i+=h,this.i}find(u){for(let f=0;f<this.i;++f)if(this.J[f]===u)return new i(f,this);return this.end()}reverse(){this.J.reverse()}unique(){let u=1;for(let f=1;f<this.i;++f)this.J[f]!==this.J[f-1]&&(this.J[u++]=this.J[f]);return this.i=this.J.length=u,this.i}sort(u){this.J.sort(u)}forEach(u){for(let f=0;f<this.i;++f)u(this.J[f],f,this)}[Symbol.iterator](){return(function*(){yield*this.J}).bind(this)()}},c=a;e.default=c}),_U=ze(e=>{Ie(),Ue(),Be(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=i(s0()),s=Ls(),o=$s();function i(f){return f&&f.t?f:{default:f}}var a=class yA extends s.ContainerIterator{constructor(h,m,g,b){super(b),this.o=h,this.h=m,this.container=g,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,o.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,o.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,o.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,o.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,o.throwIteratorAccessError)(),this.o.l}set pointer(h){this.o===this.h&&(0,o.throwIteratorAccessError)(),this.o.l=h}copy(){return new yA(this.o,this.h,this.container,this.iteratorType)}},c=class extends t.default{constructor(f=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let h=this;f.forEach(function(m){h.pushBack(m)})}V(f){let{L:h,B:m}=f;h.B=m,m.L=h,f===this.p&&(this.p=m),f===this._&&(this._=h),this.i-=1}G(f,h){let m=h.B,g={l:f,L:h,B:m};h.B=g,m.L=g,h===this.h&&(this.p=g),m===this.h&&(this._=g),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new a(this.p,this.h,this)}end(){return new a(this.h,this.h,this)}rBegin(){return new a(this._,this.h,this,1)}rEnd(){return new a(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(f){if(f<0||f>this.i-1)throw new RangeError;let h=this.p;for(;f--;)h=h.B;return h.l}eraseElementByPos(f){if(f<0||f>this.i-1)throw new RangeError;let h=this.p;for(;f--;)h=h.B;return this.V(h),this.i}eraseElementByValue(f){let h=this.p;for(;h!==this.h;)h.l===f&&this.V(h),h=h.B;return this.i}eraseElementByIterator(f){let h=f.o;return h===this.h&&(0,o.throwIteratorAccessError)(),f=f.next(),this.V(h),f}pushBack(f){return this.G(f,this._),this.i}popBack(){if(this.i===0)return;let f=this._.l;return this.V(this._),f}pushFront(f){return this.G(f,this.h),this.i}popFront(){if(this.i===0)return;let f=this.p.l;return this.V(this.p),f}setElementByPos(f,h){if(f<0||f>this.i-1)throw new RangeError;let m=this.p;for(;f--;)m=m.B;m.l=h}insert(f,h,m=1){if(f<0||f>this.i)throw new RangeError;if(m<=0)return this.i;if(f===0)for(;m--;)this.pushFront(h);else if(f===this.i)for(;m--;)this.pushBack(h);else{let g=this.p;for(let j=1;j<f;++j)g=g.B;let b=g.B;for(this.i+=m;m--;)g.B={l:h,L:g},g.B.L=g,g=g.B;g.B=b,b.L=g}return this.i}find(f){let h=this.p;for(;h!==this.h;){if(h.l===f)return new a(h,this.h,this);h=h.B}return this.end()}reverse(){if(this.i<=1)return;let f=this.p,h=this._,m=0;for(;m<<1<this.i;){let g=f.l;f.l=h.l,h.l=g,f=f.B,h=h.L,m+=1}}unique(){if(this.i<=1)return this.i;let f=this.p;for(;f!==this.h;){let h=f;for(;h.B!==this.h&&h.l===h.B.l;)h=h.B,this.i-=1;f.B=h.B,f.B.L=f,f=f.B}return this.i}sort(f){if(this.i<=1)return;let h=[];this.forEach(function(g){h.push(g)}),h.sort(f);let m=this.p;h.forEach(function(g){m.l=g,m=m.B})}merge(f){let h=this;if(this.i===0)f.forEach(function(m){h.pushBack(m)});else{let m=this.p;f.forEach(function(g){for(;m!==h.h&&m.l<=g;)m=m.B;h.G(g,m.L)})}return this.i}forEach(f){let h=this.p,m=0;for(;h!==this.h;)f(h.l,m++,this),h=h.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let f=this.p;for(;f!==this.h;)yield f.l,f=f.B}).bind(this)()}},u=c;e.default=u}),EU=ze(e=>{Ie(),Ue(),Be(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=o(s0()),s=mA();function o(u){return u&&u.t?u:{default:u}}var i=class bA extends s.RandomIterator{constructor(f,h,m){super(f,m),this.container=h}copy(){return new bA(this.o,this.container,this.iteratorType)}},a=class extends t.default{constructor(u=[],f=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let h=(()=>{if(typeof u.length=="number")return u.length;if(typeof u.size=="number")return u.size;if(typeof u.size=="function")return u.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=f,this.P=Math.max(Math.ceil(h/this.F),1);for(let b=0;b<this.P;++b)this.A.push(new Array(this.F));let m=Math.ceil(h/this.F);this.j=this.R=(this.P>>1)-(m>>1),this.D=this.N=this.F-h%this.F>>1;let g=this;u.forEach(function(b){g.pushBack(b)})}T(){let u=[],f=Math.max(this.P>>1,1);for(let h=0;h<f;++h)u[h]=new Array(this.F);for(let h=this.j;h<this.P;++h)u[u.length]=this.A[h];for(let h=0;h<this.R;++h)u[u.length]=this.A[h];u[u.length]=[...this.A[this.R]],this.j=f,this.R=u.length-1;for(let h=0;h<f;++h)u[u.length]=new Array(this.F);this.A=u,this.P=u.length}O(u){let f=this.D+u+1,h=f%this.F,m=h-1,g=this.j+(f-h)/this.F;return h===0&&(g-=1),g%=this.P,m<0&&(m+=this.F),{curNodeBucketIndex:g,curNodePointerIndex:m}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new i(0,this)}end(){return new i(this.i,this)}rBegin(){return new i(this.i-1,this,1)}rEnd(){return new i(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(u){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=u,this.i}popBack(){if(this.i===0)return;let u=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,u}pushFront(u){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=u,this.i}popFront(){if(this.i===0)return;let u=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,u}getElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;let{curNodeBucketIndex:f,curNodePointerIndex:h}=this.O(u);return this.A[f][h]}setElementByPos(u,f){if(u<0||u>this.i-1)throw new RangeError;let{curNodeBucketIndex:h,curNodePointerIndex:m}=this.O(u);this.A[h][m]=f}insert(u,f,h=1){if(u<0||u>this.i)throw new RangeError;if(u===0)for(;h--;)this.pushFront(f);else if(u===this.i)for(;h--;)this.pushBack(f);else{let m=[];for(let g=u;g<this.i;++g)m.push(this.getElementByPos(g));this.cut(u-1);for(let g=0;g<h;++g)this.pushBack(f);for(let g=0;g<m.length;++g)this.pushBack(m[g])}return this.i}cut(u){if(u<0)return this.clear(),0;let{curNodeBucketIndex:f,curNodePointerIndex:h}=this.O(u);return this.R=f,this.N=h,this.i=u+1,this.i}eraseElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;if(u===0)this.popFront();else if(u===this.i-1)this.popBack();else{let f=[];for(let m=u+1;m<this.i;++m)f.push(this.getElementByPos(m));this.cut(u),this.popBack();let h=this;f.forEach(function(m){h.pushBack(m)})}return this.i}eraseElementByValue(u){if(this.i===0)return 0;let f=[];for(let m=0;m<this.i;++m){let g=this.getElementByPos(m);g!==u&&f.push(g)}let h=f.length;for(let m=0;m<h;++m)this.setElementByPos(m,f[m]);return this.cut(h-1)}eraseElementByIterator(u){let f=u.o;return this.eraseElementByPos(f),u=u.next(),u}find(u){for(let f=0;f<this.i;++f)if(this.getElementByPos(f)===u)return new i(f,this);return this.end()}reverse(){let u=0,f=this.i-1;for(;u<f;){let h=this.getElementByPos(u);this.setElementByPos(u,this.getElementByPos(f)),this.setElementByPos(f,h),u+=1,f-=1}}unique(){if(this.i<=1)return this.i;let u=1,f=this.getElementByPos(0);for(let h=1;h<this.i;++h){let m=this.getElementByPos(h);m!==f&&(f=m,this.setElementByPos(u++,m))}for(;this.i>u;)this.popBack();return this.i}sort(u){let f=[];for(let h=0;h<this.i;++h)f.push(this.getElementByPos(h));f.sort(u);for(let h=0;h<this.i;++h)this.setElementByPos(h,f[h])}shrinkToFit(){if(this.i===0)return;let u=[];this.forEach(function(f){u.push(f)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let f=0;f<this.P;++f)this.A.push(new Array(this.F));for(let f=0;f<u.length;++f)this.pushBack(u[f])}forEach(u){for(let f=0;f<this.i;++f)u(this.getElementByPos(f),f,this)}[Symbol.iterator](){return(function*(){for(let u=0;u<this.i;++u)yield this.getElementByPos(u)}).bind(this)()}},c=a;e.default=c}),AU=ze(e=>{Ie(),Ue(),Be(),Object.defineProperty(e,"t",{value:!0}),e.TreeNodeEnableIndex=e.TreeNode=void 0;var t=class{constructor(o,i){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=o,this.l=i}L(){let o=this;if(o.ee===1&&o.tt.tt===o)o=o.W;else if(o.U)for(o=o.U;o.W;)o=o.W;else{let i=o.tt;for(;i.U===o;)o=i,i=o.tt;o=i}return o}B(){let o=this;if(o.W){for(o=o.W;o.U;)o=o.U;return o}else{let i=o.tt;for(;i.W===o;)o=i,i=o.tt;return o.W!==i?i:o}}te(){let o=this.tt,i=this.W,a=i.U;return o.tt===this?o.tt=i:o.U===this?o.U=i:o.W=i,i.tt=o,i.U=this,this.tt=i,this.W=a,a&&(a.tt=this),i}se(){let o=this.tt,i=this.U,a=i.W;return o.tt===this?o.tt=i:o.U===this?o.U=i:o.W=i,i.tt=o,i.W=this,this.tt=i,this.U=a,a&&(a.tt=this),i}};e.TreeNode=t;var s=class extends t{constructor(){super(...arguments),this.rt=1}te(){let o=super.te();return this.ie(),o.ie(),o}se(){let o=super.se();return this.ie(),o.ie(),o}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};e.TreeNodeEnableIndex=s}),xA=ze(e=>{Ie(),Ue(),Be(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=AU(),s=Ls(),o=$s(),i=class extends s.Container{constructor(c=function(f,h){return f<h?-1:f>h?1:0},u=!1){super(),this.Y=void 0,this.v=c,u?(this.re=t.TreeNodeEnableIndex,this.M=function(f,h,m){let g=this.ne(f,h,m);if(g){let b=g.tt;for(;b!==this.h;)b.rt+=1,b=b.tt;let j=this.he(g);if(j){let{parentNode:y,grandParent:w,curNode:v}=j;y.ie(),w.ie(),v.ie()}}return this.i},this.V=function(f){let h=this.fe(f);for(;h!==this.h;)h.rt-=1,h=h.tt}):(this.re=t.TreeNode,this.M=function(f,h,m){let g=this.ne(f,h,m);return g&&this.he(g),this.i},this.V=this.fe),this.h=new this.re}X(c,u){let f=this.h;for(;c;){let h=this.v(c.u,u);if(h<0)c=c.W;else if(h>0)f=c,c=c.U;else return c}return f}Z(c,u){let f=this.h;for(;c;)this.v(c.u,u)<=0?c=c.W:(f=c,c=c.U);return f}$(c,u){let f=this.h;for(;c;){let h=this.v(c.u,u);if(h<0)f=c,c=c.W;else if(h>0)c=c.U;else return c}return f}rr(c,u){let f=this.h;for(;c;)this.v(c.u,u)<0?(f=c,c=c.W):c=c.U;return f}ue(c){for(;;){let u=c.tt;if(u===this.h)return;if(c.ee===1){c.ee=0;return}if(c===u.U){let f=u.W;if(f.ee===1)f.ee=0,u.ee=1,u===this.Y?this.Y=u.te():u.te();else if(f.W&&f.W.ee===1){f.ee=u.ee,u.ee=0,f.W.ee=0,u===this.Y?this.Y=u.te():u.te();return}else f.U&&f.U.ee===1?(f.ee=1,f.U.ee=0,f.se()):(f.ee=1,c=u)}else{let f=u.U;if(f.ee===1)f.ee=0,u.ee=1,u===this.Y?this.Y=u.se():u.se();else if(f.U&&f.U.ee===1){f.ee=u.ee,u.ee=0,f.U.ee=0,u===this.Y?this.Y=u.se():u.se();return}else f.W&&f.W.ee===1?(f.ee=1,f.W.ee=0,f.te()):(f.ee=1,c=u)}}}fe(c){if(this.i===1)return this.clear(),this.h;let u=c;for(;u.U||u.W;){if(u.W)for(u=u.W;u.U;)u=u.U;else u=u.U;[c.u,u.u]=[u.u,c.u],[c.l,u.l]=[u.l,c.l],c=u}this.h.U===u?this.h.U=u.tt:this.h.W===u&&(this.h.W=u.tt),this.ue(u);let f=u.tt;return u===f.U?f.U=void 0:f.W=void 0,this.i-=1,this.Y.ee=0,f}oe(c,u){return c===void 0?!1:this.oe(c.U,u)||u(c)?!0:this.oe(c.W,u)}he(c){for(;;){let u=c.tt;if(u.ee===0)return;let f=u.tt;if(u===f.U){let h=f.W;if(h&&h.ee===1){if(h.ee=u.ee=0,f===this.Y)return;f.ee=1,c=f;continue}else if(c===u.W){if(c.ee=0,c.U&&(c.U.tt=u),c.W&&(c.W.tt=f),u.W=c.U,f.U=c.W,c.U=u,c.W=f,f===this.Y)this.Y=c,this.h.tt=c;else{let m=f.tt;m.U===f?m.U=c:m.W=c}return c.tt=f.tt,u.tt=c,f.tt=c,f.ee=1,{parentNode:u,grandParent:f,curNode:c}}else u.ee=0,f===this.Y?this.Y=f.se():f.se(),f.ee=1}else{let h=f.U;if(h&&h.ee===1){if(h.ee=u.ee=0,f===this.Y)return;f.ee=1,c=f;continue}else if(c===u.U){if(c.ee=0,c.U&&(c.U.tt=f),c.W&&(c.W.tt=u),f.W=c.U,u.U=c.W,c.U=f,c.W=u,f===this.Y)this.Y=c,this.h.tt=c;else{let m=f.tt;m.U===f?m.U=c:m.W=c}return c.tt=f.tt,u.tt=c,f.tt=c,f.ee=1,{parentNode:u,grandParent:f,curNode:c}}else u.ee=0,f===this.Y?this.Y=f.te():f.te(),f.ee=1}return}}ne(c,u,f){if(this.Y===void 0){this.i+=1,this.Y=new this.re(c,u),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let h,m=this.h.U,g=this.v(m.u,c);if(g===0){m.l=u;return}else if(g>0)m.U=new this.re(c,u),m.U.tt=m,h=m.U,this.h.U=h;else{let b=this.h.W,j=this.v(b.u,c);if(j===0){b.l=u;return}else if(j<0)b.W=new this.re(c,u),b.W.tt=b,h=b.W,this.h.W=h;else{if(f!==void 0){let y=f.o;if(y!==this.h){let w=this.v(y.u,c);if(w===0){y.l=u;return}else if(w>0){let v=y.L(),N=this.v(v.u,c);if(N===0){v.l=u;return}else N<0&&(h=new this.re(c,u),v.W===void 0?(v.W=h,h.tt=v):(y.U=h,h.tt=y))}}}if(h===void 0)for(h=this.Y;;){let y=this.v(h.u,c);if(y>0){if(h.U===void 0){h.U=new this.re(c,u),h.U.tt=h,h=h.U;break}h=h.U}else if(y<0){if(h.W===void 0){h.W=new this.re(c,u),h.W.tt=h,h=h.W;break}h=h.W}else{h.l=u;return}}}}return this.i+=1,h}I(c,u){for(;c;){let f=this.v(c.u,u);if(f<0)c=c.W;else if(f>0)c=c.U;else return c}return c||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(c,u){let f=c.o;if(f===this.h&&(0,o.throwIteratorAccessError)(),this.i===1)return f.u=u,!0;if(f===this.h.U)return this.v(f.B().u,u)>0?(f.u=u,!0):!1;if(f===this.h.W)return this.v(f.L().u,u)<0?(f.u=u,!0):!1;let h=f.L().u;if(this.v(h,u)>=0)return!1;let m=f.B().u;return this.v(m,u)<=0?!1:(f.u=u,!0)}eraseElementByPos(c){if(c<0||c>this.i-1)throw new RangeError;let u=0,f=this;return this.oe(this.Y,function(h){return c===u?(f.V(h),!0):(u+=1,!1)}),this.i}eraseElementByKey(c){if(this.i===0)return!1;let u=this.I(this.Y,c);return u===this.h?!1:(this.V(u),!0)}eraseElementByIterator(c){let u=c.o;u===this.h&&(0,o.throwIteratorAccessError)();let f=u.W===void 0;return c.iteratorType===0?f&&c.next():(!f||u.U===void 0)&&c.next(),this.V(u),c}forEach(c){let u=0;for(let f of this)c(f,u++,this)}getElementByPos(c){if(c<0||c>this.i-1)throw new RangeError;let u,f=0;for(let h of this){if(f===c){u=h;break}f+=1}return u}getHeight(){if(this.i===0)return 0;let c=function(u){return u?Math.max(c(u.U),c(u.W))+1:0};return c(this.Y)}},a=i;e.default=a}),vA=ze(e=>{Ie(),Ue(),Be(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Ls(),s=$s(),o=class extends t.ContainerIterator{constructor(a,c,u){super(u),this.o=a,this.h=c,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,s.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,s.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let a=this.o,c=this.h.tt;if(a===this.h)return c?c.rt-1:0;let u=0;for(a.U&&(u+=a.U.rt);a!==c;){let f=a.tt;a===f.W&&(u+=1,f.U&&(u+=f.U.rt)),a=f}return u}},i=o;e.default=i}),TU=ze(e=>{Ie(),Ue(),Be(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=i(xA()),s=i(vA()),o=$s();function i(f){return f&&f.t?f:{default:f}}var a=class wA extends s.default{constructor(h,m,g,b){super(h,m,b),this.container=g}get pointer(){return this.o===this.h&&(0,o.throwIteratorAccessError)(),this.o.u}copy(){return new wA(this.o,this.h,this.container,this.iteratorType)}},c=class extends t.default{constructor(f=[],h,m){super(h,m);let g=this;f.forEach(function(b){g.insert(b)})}*K(f){f!==void 0&&(yield*this.K(f.U),yield f.u,yield*this.K(f.W))}begin(){return new a(this.h.U||this.h,this.h,this)}end(){return new a(this.h,this.h,this)}rBegin(){return new a(this.h.W||this.h,this.h,this,1)}rEnd(){return new a(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(f,h){return this.M(f,void 0,h)}find(f){let h=this.I(this.Y,f);return new a(h,this.h,this)}lowerBound(f){let h=this.X(this.Y,f);return new a(h,this.h,this)}upperBound(f){let h=this.Z(this.Y,f);return new a(h,this.h,this)}reverseLowerBound(f){let h=this.$(this.Y,f);return new a(h,this.h,this)}reverseUpperBound(f){let h=this.rr(this.Y,f);return new a(h,this.h,this)}union(f){let h=this;return f.forEach(function(m){h.insert(m)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},u=c;e.default=u}),CU=ze(e=>{Ie(),Ue(),Be(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=i(xA()),s=i(vA()),o=$s();function i(f){return f&&f.t?f:{default:f}}var a=class SA extends s.default{constructor(h,m,g,b){super(h,m,b),this.container=g}get pointer(){this.o===this.h&&(0,o.throwIteratorAccessError)();let h=this;return new Proxy([],{get(m,g){if(g==="0")return h.o.u;if(g==="1")return h.o.l},set(m,g,b){if(g!=="1")throw new TypeError("props must be 1");return h.o.l=b,!0}})}copy(){return new SA(this.o,this.h,this.container,this.iteratorType)}},c=class extends t.default{constructor(f=[],h,m){super(h,m);let g=this;f.forEach(function(b){g.setElement(b[0],b[1])})}*K(f){f!==void 0&&(yield*this.K(f.U),yield[f.u,f.l],yield*this.K(f.W))}begin(){return new a(this.h.U||this.h,this.h,this)}end(){return new a(this.h,this.h,this)}rBegin(){return new a(this.h.W||this.h,this.h,this,1)}rEnd(){return new a(this.h,this.h,this,1)}front(){if(this.i===0)return;let f=this.h.U;return[f.u,f.l]}back(){if(this.i===0)return;let f=this.h.W;return[f.u,f.l]}lowerBound(f){let h=this.X(this.Y,f);return new a(h,this.h,this)}upperBound(f){let h=this.Z(this.Y,f);return new a(h,this.h,this)}reverseLowerBound(f){let h=this.$(this.Y,f);return new a(h,this.h,this)}reverseUpperBound(f){let h=this.rr(this.Y,f);return new a(h,this.h,this)}setElement(f,h,m){return this.M(f,h,m)}find(f){let h=this.I(this.Y,f);return new a(h,this.h,this)}getElementByKey(f){return this.I(this.Y,f).l}union(f){let h=this;return f.forEach(function(m){h.setElement(m[0],m[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},u=c;e.default=u}),jA=ze(e=>{Ie(),Ue(),Be(),Object.defineProperty(e,"t",{value:!0}),e.default=t;function t(s){let o=typeof s;return o==="object"&&s!==null||o==="function"}}),NA=ze(e=>{Ie(),Ue(),Be(),Object.defineProperty(e,"t",{value:!0}),e.HashContainerIterator=e.HashContainer=void 0;var t=Ls(),s=i(jA()),o=$s();function i(u){return u&&u.t?u:{default:u}}var a=class extends t.ContainerIterator{constructor(u,f,h){super(h),this.o=u,this.h=f,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,o.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,o.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,o.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,o.throwIteratorAccessError)(),this.o=this.o.L,this})}};e.HashContainerIterator=a;var c=class extends t.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(u){let{L:f,B:h}=u;f.B=h,h.L=f,u===this.p&&(this.p=h),u===this._&&(this._=f),this.i-=1}M(u,f,h){h===void 0&&(h=(0,s.default)(u));let m;if(h){let g=u[this.HASH_TAG];if(g!==void 0)return this.H[g].l=f,this.i;Object.defineProperty(u,this.HASH_TAG,{value:this.H.length,configurable:!0}),m={u,l:f,L:this._,B:this.h},this.H.push(m)}else{let g=this.g[u];if(g)return g.l=f,this.i;m={u,l:f,L:this._,B:this.h},this.g[u]=m}return this.i===0?(this.p=m,this.h.B=m):this._.B=m,this._=m,this.h.L=m,++this.i}I(u,f){if(f===void 0&&(f=(0,s.default)(u)),f){let h=u[this.HASH_TAG];return h===void 0?this.h:this.H[h]}else return this.g[u]||this.h}clear(){let u=this.HASH_TAG;this.H.forEach(function(f){delete f.u[u]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(u,f){let h;if(f===void 0&&(f=(0,s.default)(u)),f){let m=u[this.HASH_TAG];if(m===void 0)return!1;delete u[this.HASH_TAG],h=this.H[m],delete this.H[m]}else{if(h=this.g[u],h===void 0)return!1;delete this.g[u]}return this.V(h),!0}eraseElementByIterator(u){let f=u.o;return f===this.h&&(0,o.throwIteratorAccessError)(),this.V(f),u.next()}eraseElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;let f=this.p;for(;u--;)f=f.B;return this.V(f),this.i}};e.HashContainer=c}),RU=ze(e=>{Ie(),Ue(),Be(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=NA(),s=$s(),o=class _A extends t.HashContainerIterator{constructor(u,f,h,m){super(u,f,m),this.container=h}get pointer(){return this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o.u}copy(){return new _A(this.o,this.h,this.container,this.iteratorType)}},i=class extends t.HashContainer{constructor(c=[]){super();let u=this;c.forEach(function(f){u.insert(f)})}begin(){return new o(this.p,this.h,this)}end(){return new o(this.h,this.h,this)}rBegin(){return new o(this._,this.h,this,1)}rEnd(){return new o(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(c,u){return this.M(c,void 0,u)}getElementByPos(c){if(c<0||c>this.i-1)throw new RangeError;let u=this.p;for(;c--;)u=u.B;return u.u}find(c,u){let f=this.I(c,u);return new o(f,this.h,this)}forEach(c){let u=0,f=this.p;for(;f!==this.h;)c(f.u,u++,this),f=f.B}[Symbol.iterator](){return(function*(){let c=this.p;for(;c!==this.h;)yield c.u,c=c.B}).bind(this)()}},a=i;e.default=a}),MU=ze(e=>{Ie(),Ue(),Be(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=NA(),s=i(jA()),o=$s();function i(f){return f&&f.t?f:{default:f}}var a=class EA extends t.HashContainerIterator{constructor(h,m,g,b){super(h,m,b),this.container=g}get pointer(){this.o===this.h&&(0,o.throwIteratorAccessError)();let h=this;return new Proxy([],{get(m,g){if(g==="0")return h.o.u;if(g==="1")return h.o.l},set(m,g,b){if(g!=="1")throw new TypeError("props must be 1");return h.o.l=b,!0}})}copy(){return new EA(this.o,this.h,this.container,this.iteratorType)}},c=class extends t.HashContainer{constructor(f=[]){super();let h=this;f.forEach(function(m){h.setElement(m[0],m[1])})}begin(){return new a(this.p,this.h,this)}end(){return new a(this.h,this.h,this)}rBegin(){return new a(this._,this.h,this,1)}rEnd(){return new a(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(f,h,m){return this.M(f,h,m)}getElementByKey(f,h){if(h===void 0&&(h=(0,s.default)(f)),h){let g=f[this.HASH_TAG];return g!==void 0?this.H[g].l:void 0}let m=this.g[f];return m?m.l:void 0}getElementByPos(f){if(f<0||f>this.i-1)throw new RangeError;let h=this.p;for(;f--;)h=h.B;return[h.u,h.l]}find(f,h){let m=this.I(f,h);return new a(m,this.h,this)}forEach(f){let h=0,m=this.p;for(;m!==this.h;)f([m.u,m.l],h++,this),m=m.B}[Symbol.iterator](){return(function*(){let f=this.p;for(;f!==this.h;)yield[f.u,f.l],f=f.B}).bind(this)()}},u=c;e.default=u}),kU=ze(e=>{Ie(),Ue(),Be(),Object.defineProperty(e,"t",{value:!0}),Object.defineProperty(e,"Deque",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"HashMap",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(e,"HashSet",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"LinkList",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"OrderedMap",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"OrderedSet",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"PriorityQueue",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"Queue",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"Stack",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return i.default}});var t=g(wU()),s=g(SU()),o=g(jU()),i=g(NU()),a=g(_U()),c=g(EU()),u=g(TU()),f=g(CU()),h=g(RU()),m=g(MU());function g(b){return b&&b.t?b:{default:b}}}),OU=ze((e,t)=>{Ie(),Ue(),Be();var s=kU().OrderedSet,o=Is()("number-allocator:trace"),i=Is()("number-allocator:error");function a(u,f){this.low=u,this.high=f}a.prototype.equals=function(u){return this.low===u.low&&this.high===u.high},a.prototype.compare=function(u){return this.low<u.low&&this.high<u.low?-1:u.low<this.low&&u.high<this.low?1:0};function c(u,f){if(!(this instanceof c))return new c(u,f);this.min=u,this.max=f,this.ss=new s([],(h,m)=>h.compare(m)),o("Create"),this.clear()}c.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},c.prototype.alloc=function(){if(this.ss.size()===0)return o("alloc():empty"),null;let u=this.ss.begin(),f=u.pointer.low,h=u.pointer.high,m=f;return m+1<=h?this.ss.updateKeyByIterator(u,new a(f+1,h)):this.ss.eraseElementByPos(0),o("alloc():"+m),m},c.prototype.use=function(u){let f=new a(u,u),h=this.ss.lowerBound(f);if(!h.equals(this.ss.end())){let m=h.pointer.low,g=h.pointer.high;return h.pointer.equals(f)?(this.ss.eraseElementByIterator(h),o("use():"+u),!0):m>u?!1:m===u?(this.ss.updateKeyByIterator(h,new a(m+1,g)),o("use():"+u),!0):g===u?(this.ss.updateKeyByIterator(h,new a(m,g-1)),o("use():"+u),!0):(this.ss.updateKeyByIterator(h,new a(u+1,g)),this.ss.insert(new a(m,u-1)),o("use():"+u),!0)}return o("use():failed"),!1},c.prototype.free=function(u){if(u<this.min||u>this.max){i("free():"+u+" is out of range");return}let f=new a(u,u),h=this.ss.upperBound(f);if(h.equals(this.ss.end())){if(h.equals(this.ss.begin())){this.ss.insert(f);return}h.pre();let m=h.pointer.high;h.pointer.high+1===u?this.ss.updateKeyByIterator(h,new a(m,u)):this.ss.insert(f)}else if(h.equals(this.ss.begin()))if(u+1===h.pointer.low){let m=h.pointer.high;this.ss.updateKeyByIterator(h,new a(u,m))}else this.ss.insert(f);else{let m=h.pointer.low,g=h.pointer.high;h.pre();let b=h.pointer.low;h.pointer.high+1===u?u+1===m?(this.ss.eraseElementByIterator(h),this.ss.updateKeyByIterator(h,new a(b,g))):this.ss.updateKeyByIterator(h,new a(b,u)):u+1===m?(this.ss.eraseElementByIterator(h.next()),this.ss.insert(new a(u,g))):this.ss.insert(f)}o("free():"+u)},c.prototype.clear=function(){o("clear()"),this.ss.clear(),this.ss.insert(new a(this.min,this.max))},c.prototype.intervalCount=function(){return this.ss.size()},c.prototype.dump=function(){console.log("length:"+this.ss.size());for(let u of this.ss)console.log(u)},t.exports=c}),AA=ze((e,t)=>{Ie(),Ue(),Be();var s=OU();t.exports.NumberAllocator=s}),DU=ze(e=>{Ie(),Ue(),Be(),Object.defineProperty(e,"__esModule",{value:!0});var t=vU(),s=AA(),o=class{aliasToTopic;topicToAlias;max;numberAllocator;length;constructor(i){i>0&&(this.aliasToTopic=new t.LRUCache({max:i}),this.topicToAlias={},this.numberAllocator=new s.NumberAllocator(1,i),this.max=i,this.length=0)}put(i,a){if(a===0||a>this.max)return!1;let c=this.aliasToTopic.get(a);return c&&delete this.topicToAlias[c],this.aliasToTopic.set(a,i),this.topicToAlias[i]=a,this.numberAllocator.use(a),this.length=this.aliasToTopic.size,!0}getTopicByAlias(i){return this.aliasToTopic.get(i)}getAliasByTopic(i){let a=this.topicToAlias[i];return typeof a<"u"&&this.aliasToTopic.get(a),a}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};e.default=o}),PU=ze(e=>{Ie(),Ue(),Be();var t=e&&e.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0});var s=af(),o=t(DU()),i=Ta(),a=(c,u)=>{c.log("_handleConnack");let{options:f}=c,h=f.protocolVersion===5?u.reasonCode:u.returnCode;if(clearTimeout(c.connackTimer),delete c.topicAliasSend,u.properties){if(u.properties.topicAliasMaximum){if(u.properties.topicAliasMaximum>65535){c.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}u.properties.topicAliasMaximum>0&&(c.topicAliasSend=new o.default(u.properties.topicAliasMaximum))}u.properties.serverKeepAlive&&f.keepalive&&(f.keepalive=u.properties.serverKeepAlive),u.properties.maximumPacketSize&&(f.properties||(f.properties={}),f.properties.maximumPacketSize=u.properties.maximumPacketSize)}if(h===0)c.reconnecting=!1,c._onConnect(u);else if(h>0){let m=new i.ErrorWithReasonCode(`Connection refused: ${s.ReasonCodes[h]}`,h);c.emit("error",m),c.options.reconnectOnConnackError&&c._cleanUp(!0)}};e.default=a}),IU=ze(e=>{Ie(),Ue(),Be(),Object.defineProperty(e,"__esModule",{value:!0});var t=(s,o,i)=>{s.log("handling pubrel packet");let a=typeof i<"u"?i:s.noop,{messageId:c}=o,u={cmd:"pubcomp",messageId:c};s.incomingStore.get(o,(f,h)=>{f?s._sendPacket(u,a):(s.emit("message",h.topic,h.payload,h),s.handleMessage(h,m=>{if(m)return a(m);s.incomingStore.del(h,s.noop),s._sendPacket(u,a)}))})};e.default=t}),BU=ze(e=>{Ie(),Ue(),Be();var t=e&&e.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0});var s=t(yU()),o=t(xU()),i=t(PU()),a=t(af()),c=t(IU()),u=(f,h,m)=>{let{options:g}=f;if(g.protocolVersion===5&&g.properties&&g.properties.maximumPacketSize&&g.properties.maximumPacketSize<h.length)return f.emit("error",new Error(`exceeding packets size ${h.cmd}`)),f.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),f;switch(f.log("_handlePacket :: emitting packetreceive"),f.emit("packetreceive",h),h.cmd){case"publish":(0,s.default)(f,h,m);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":f.reschedulePing(),(0,a.default)(f,h),m();break;case"pubrel":f.reschedulePing(),(0,c.default)(f,h,m);break;case"connack":(0,i.default)(f,h),m();break;case"auth":f.reschedulePing(),(0,o.default)(f,h),m();break;case"pingresp":f.log("_handlePacket :: received pingresp"),f.reschedulePing(!0),m();break;case"disconnect":f.emit("disconnect",h),m();break;default:f.log("_handlePacket :: unknown command"),m();break}};e.default=u}),TA=ze(e=>{Ie(),Ue(),Be(),Object.defineProperty(e,"__esModule",{value:!0});var t=class{nextId;constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let s=this.nextId++;return this.nextId===65536&&(this.nextId=1),s}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(s){return!0}deallocate(s){}clear(){}};e.default=t}),UU=ze(e=>{Ie(),Ue(),Be(),Object.defineProperty(e,"__esModule",{value:!0});var t=class{aliasToTopic;max;length;constructor(s){this.aliasToTopic={},this.max=s}put(s,o){return o===0||o>this.max?!1:(this.aliasToTopic[o]=s,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(s){return this.aliasToTopic[s]}clear(){this.aliasToTopic={}}};e.default=t}),LU=ze(e=>{Ie(),Ue(),Be();var t=e&&e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),e.TypedEventEmitter=void 0;var s=t((di(),Mt(Eo))),o=Ta(),i=class{};e.TypedEventEmitter=i,(0,o.applyMixin)(i,s.default)}),lf=ze((e,t)=>{Ie(),Ue(),Be();function s(o){"@babel/helpers - typeof";return t.exports=s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},t.exports.__esModule=!0,t.exports.default=t.exports,s(o)}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports}),$U=ze((e,t)=>{Ie(),Ue(),Be();var s=lf().default;function o(i,a){if(s(i)!="object"||!i)return i;var c=i[Symbol.toPrimitive];if(c!==void 0){var u=c.call(i,a||"default");if(s(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(i)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports}),zU=ze((e,t)=>{Ie(),Ue(),Be();var s=lf().default,o=$U();function i(a){var c=o(a,"string");return s(c)=="symbol"?c:c+""}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}),FU=ze((e,t)=>{Ie(),Ue(),Be();var s=zU();function o(i,a,c){return(a=s(a))in i?Object.defineProperty(i,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):i[a]=c,i}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports}),VU=ze((e,t)=>{Ie(),Ue(),Be();function s(o){if(Array.isArray(o))return o}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports}),qU=ze((e,t)=>{Ie(),Ue(),Be();function s(o,i){var a=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(a!=null){var c,u,f,h,m=[],g=!0,b=!1;try{if(f=(a=a.call(o)).next,i===0){if(Object(a)!==a)return;g=!1}else for(;!(g=(c=f.call(a)).done)&&(m.push(c.value),m.length!==i);g=!0);}catch(j){b=!0,u=j}finally{try{if(!g&&a.return!=null&&(h=a.return(),Object(h)!==h))return}finally{if(b)throw u}}return m}}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports}),HU=ze((e,t)=>{Ie(),Ue(),Be();function s(o,i){(i==null||i>o.length)&&(i=o.length);for(var a=0,c=Array(i);a<i;a++)c[a]=o[a];return c}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports}),GU=ze((e,t)=>{Ie(),Ue(),Be();var s=HU();function o(i,a){if(i){if(typeof i=="string")return s(i,a);var c={}.toString.call(i).slice(8,-1);return c==="Object"&&i.constructor&&(c=i.constructor.name),c==="Map"||c==="Set"?Array.from(i):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?s(i,a):void 0}}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports}),WU=ze((e,t)=>{Ie(),Ue(),Be();function s(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports}),KU=ze((e,t)=>{Ie(),Ue(),Be();var s=VU(),o=qU(),i=GU(),a=WU();function c(u,f){return s(u)||o(u,f)||i(u,f)||a()}t.exports=c,t.exports.__esModule=!0,t.exports.default=t.exports}),CA=ze((e,t)=>{Ie(),Ue(),Be(),(function(s,o){typeof e=="object"&&typeof t<"u"?o(e):typeof define=="function"&&define.amd?define(["exports"],o):(s=typeof globalThis<"u"?globalThis:s||self,o(s.fastUniqueNumbers={}))})(e,function(s){var o=function(j){return function(y){var w=j(y);return y.add(w),w}},i=function(j){return function(y,w){return j.set(y,w),w}},a=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,c=536870912,u=c*2,f=function(j,y){return function(w){var v=y.get(w),N=v===void 0?w.size:v<u?v+1:0;if(!w.has(N))return j(w,N);if(w.size<c){for(;w.has(N);)N=Math.floor(Math.random()*u);return j(w,N)}if(w.size>a)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;w.has(N);)N=Math.floor(Math.random()*a);return j(w,N)}},h=new WeakMap,m=i(h),g=f(m,h),b=o(g);s.addUniqueNumber=b,s.generateUniqueNumber=g})}),QU=ze((e,t)=>{Ie(),Ue(),Be();function s(i,a,c,u,f,h,m){try{var g=i[h](m),b=g.value}catch(j){return void c(j)}g.done?a(b):Promise.resolve(b).then(u,f)}function o(i){return function(){var a=this,c=arguments;return new Promise(function(u,f){var h=i.apply(a,c);function m(b){s(h,u,f,m,g,"next",b)}function g(b){s(h,u,f,m,g,"throw",b)}m(void 0)})}}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports}),RA=ze((e,t)=>{Ie(),Ue(),Be();function s(o,i){this.v=o,this.k=i}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports}),MA=ze((e,t)=>{Ie(),Ue(),Be();function s(o,i,a,c){var u=Object.defineProperty;try{u({},"",{})}catch{u=0}t.exports=s=function(f,h,m,g){function b(j,y){s(f,j,function(w){return this._invoke(j,y,w)})}h?u?u(f,h,{value:m,enumerable:!g,configurable:!g,writable:!g}):f[h]=m:(b("next",0),b("throw",1),b("return",2))},t.exports.__esModule=!0,t.exports.default=t.exports,s(o,i,a,c)}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports}),kA=ze((e,t)=>{Ie(),Ue(),Be();var s=MA();function o(){var i,a,c=typeof Symbol=="function"?Symbol:{},u=c.iterator||"@@iterator",f=c.toStringTag||"@@toStringTag";function h(N,S,_,M){var A=S&&S.prototype instanceof g?S:g,C=Object.create(A.prototype);return s(C,"_invoke",(function(R,k,U){var L,te,V,ie=0,H=U||[],re=!1,$={p:0,n:0,v:i,a:K,f:K.bind(i,4),d:function(X,ne){return L=X,te=0,V=i,$.n=ne,m}};function K(X,ne){for(te=X,V=ne,a=0;!re&&ie&&!G&&a<H.length;a++){var G,B=H[a],z=$.p,Z=B[2];X>3?(G=Z===ne)&&(V=B[(te=B[4])?5:(te=3,3)],B[4]=B[5]=i):B[0]<=z&&((G=X<2&&z<B[1])?(te=0,$.v=ne,$.n=B[1]):z<Z&&(G=X<3||B[0]>ne||ne>Z)&&(B[4]=X,B[5]=ne,$.n=Z,te=0))}if(G||X>1)return m;throw re=!0,ne}return function(X,ne,G){if(ie>1)throw TypeError("Generator is already running");for(re&&ne===1&&K(ne,G),te=ne,V=G;(a=te<2?i:V)||!re;){L||(te?te<3?(te>1&&($.n=-1),K(te,V)):$.n=V:$.v=V);try{if(ie=2,L){if(te||(X="next"),a=L[X]){if(!(a=a.call(L,V)))throw TypeError("iterator result is not an object");if(!a.done)return a;V=a.value,te<2&&(te=0)}else te===1&&(a=L.return)&&a.call(L),te<2&&(V=TypeError("The iterator does not provide a '"+X+"' method"),te=1);L=i}else if((a=(re=$.n<0)?V:R.call(k,$))!==m)break}catch(B){L=i,te=1,V=B}finally{ie=1}}return{value:a,done:re}}})(N,_,M),!0),C}var m={};function g(){}function b(){}function j(){}a=Object.getPrototypeOf;var y=[][u]?a(a([][u]())):(s(a={},u,function(){return this}),a),w=j.prototype=g.prototype=Object.create(y);function v(N){return Object.setPrototypeOf?Object.setPrototypeOf(N,j):(N.__proto__=j,s(N,f,"GeneratorFunction")),N.prototype=Object.create(w),N}return b.prototype=j,s(w,"constructor",j),s(j,"constructor",b),b.displayName="GeneratorFunction",s(j,f,"GeneratorFunction"),s(w),s(w,f,"Generator"),s(w,u,function(){return this}),s(w,"toString",function(){return"[object Generator]"}),(t.exports=o=function(){return{w:h,m:v}},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports}),OA=ze((e,t)=>{Ie(),Ue(),Be();var s=RA(),o=MA();function i(a,c){function u(h,m,g,b){try{var j=a[h](m),y=j.value;return y instanceof s?c.resolve(y.v).then(function(w){u("next",w,g,b)},function(w){u("throw",w,g,b)}):c.resolve(y).then(function(w){j.value=w,g(j)},function(w){return u("throw",w,g,b)})}catch(w){b(w)}}var f;this.next||(o(i.prototype),o(i.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),o(this,"_invoke",function(h,m,g){function b(){return new c(function(j,y){u(h,g,j,y)})}return f=f?f.then(b,b):b()},!0)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}),DA=ze((e,t)=>{Ie(),Ue(),Be();var s=kA(),o=OA();function i(a,c,u,f,h){return new o(s().w(a,c,u,f),h||Promise)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}),YU=ze((e,t)=>{Ie(),Ue(),Be();var s=DA();function o(i,a,c,u,f){var h=s(i,a,c,u,f);return h.next().then(function(m){return m.done?m.value:h.next()})}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports}),XU=ze((e,t)=>{Ie(),Ue(),Be();function s(o){var i=Object(o),a=[];for(var c in i)a.unshift(c);return function u(){for(;a.length;)if((c=a.pop())in i)return u.value=c,u.done=!1,u;return u.done=!0,u}}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports}),ZU=ze((e,t)=>{Ie(),Ue(),Be();var s=lf().default;function o(i){if(i!=null){var a=i[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],c=0;if(a)return a.call(i);if(typeof i.next=="function")return i;if(!isNaN(i.length))return{next:function(){return i&&c>=i.length&&(i=void 0),{value:i&&i[c++],done:!i}}}}throw new TypeError(s(i)+" is not iterable")}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports}),JU=ze((e,t)=>{Ie(),Ue(),Be();var s=RA(),o=kA(),i=YU(),a=DA(),c=OA(),u=XU(),f=ZU();function h(){var m=o(),g=m.m(h),b=(Object.getPrototypeOf?Object.getPrototypeOf(g):g.__proto__).constructor;function j(v){var N=typeof v=="function"&&v.constructor;return!!N&&(N===b||(N.displayName||N.name)==="GeneratorFunction")}var y={throw:1,return:2,break:3,continue:3};function w(v){var N,S;return function(_){N||(N={stop:function(){return S(_.a,2)},catch:function(){return _.v},abrupt:function(M,A){return S(_.a,y[M],A)},delegateYield:function(M,A,C){return N.resultName=A,S(_.d,f(M),C)},finish:function(M){return S(_.f,M)}},S=function(M,A,C){_.p=N.prev,_.n=N.next;try{return M(A,C)}finally{N.next=_.n}}),N.resultName&&(N[N.resultName]=_.v,N.resultName=void 0),N.sent=_.v,N.next=_.n;try{return v.call(this,N)}finally{_.p=N.prev,_.n=N.next}}}return(t.exports=h=function(){return{wrap:function(v,N,S,_){return m.w(w(v),N,S,_&&_.reverse())},isGeneratorFunction:j,mark:m.m,awrap:function(v,N){return new s(v,N)},AsyncIterator:c,async:function(v,N,S,_,M){return(j(N)?a:i)(w(v),N,S,_,M)},keys:u,values:f}},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=h,t.exports.__esModule=!0,t.exports.default=t.exports}),eL=ze((e,t)=>{Ie(),Ue(),Be();var s=JU()();t.exports=s;try{regeneratorRuntime=s}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=s:Function("r","regeneratorRuntime = r")(s)}}),tL=ze((e,t)=>{Ie(),Ue(),Be(),(function(s,o){typeof e=="object"&&typeof t<"u"?o(e,FU(),KU(),CA(),QU(),eL()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/defineProperty","@babel/runtime/helpers/slicedToArray","fast-unique-numbers","@babel/runtime/helpers/asyncToGenerator","@babel/runtime/regenerator"],o):(s=typeof globalThis<"u"?globalThis:s||self,o(s.brokerFactory={},s._defineProperty,s._slicedToArray,s.fastUniqueNumbers,s._asyncToGenerator,s._regeneratorRuntime))})(e,function(s,o,i,a,c,u){var f=function(S){return typeof S.start=="function"},h=new WeakMap;function m(S,_){var M=Object.keys(S);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(S);_&&(A=A.filter(function(C){return Object.getOwnPropertyDescriptor(S,C).enumerable})),M.push.apply(M,A)}return M}function g(S){for(var _=1;_<arguments.length;_++){var M=arguments[_]!=null?arguments[_]:{};_%2?m(Object(M),!0).forEach(function(A){o(S,A,M[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(M)):m(Object(M)).forEach(function(A){Object.defineProperty(S,A,Object.getOwnPropertyDescriptor(M,A))})}return S}var b=function(S){return g(g({},S),{},{connect:function(_){var M=_.call;return c(u.mark(function A(){var C,R,k,U;return u.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return C=new MessageChannel,R=C.port1,k=C.port2,L.next=1,M("connect",{port:R},[R]);case 1:return U=L.sent,h.set(k,U),L.abrupt("return",k);case 2:case"end":return L.stop()}},A)}))},disconnect:function(_){var M=_.call;return(function(){var A=c(u.mark(function C(R){var k;return u.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(k=h.get(R),k!==void 0){U.next=1;break}throw new Error("The given port is not connected.");case 1:return U.next=2,M("disconnect",{portId:k});case 2:case"end":return U.stop()}},C)}));return function(C){return A.apply(this,arguments)}})()},isSupported:function(_){var M=_.call;return function(){return M("isSupported")}}})};function j(S,_){var M=Object.keys(S);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(S);_&&(A=A.filter(function(C){return Object.getOwnPropertyDescriptor(S,C).enumerable})),M.push.apply(M,A)}return M}function y(S){for(var _=1;_<arguments.length;_++){var M=arguments[_]!=null?arguments[_]:{};_%2?j(Object(M),!0).forEach(function(A){o(S,A,M[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(M)):j(Object(M)).forEach(function(A){Object.defineProperty(S,A,Object.getOwnPropertyDescriptor(M,A))})}return S}var w=new WeakMap,v=function(S){if(w.has(S))return w.get(S);var _=new Map;return w.set(S,_),_},N=function(S){var _=b(S);return function(M){var A=v(M);M.addEventListener("message",function(H){var re=H.data,$=re.id;if($!==null&&A.has($)){var K=A.get($),X=K.reject,ne=K.resolve;A.delete($),re.error===void 0?ne(re.result):X(new Error(re.error.message))}}),f(M)&&M.start();for(var C=function(H){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return new Promise(function(K,X){var ne=a.generateUniqueNumber(A);A.set(ne,{reject:X,resolve:K}),re===null?M.postMessage({id:ne,method:H},$):M.postMessage({id:ne,method:H,params:re},$)})},R=function(H,re){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];M.postMessage({id:null,method:H,params:re},$)},k={},U=0,L=Object.entries(_);U<L.length;U++){var te=i(L[U],2),V=te[0],ie=te[1];k=y(y({},k),{},o({},V,ie({call:C,notify:R})))}return y({},k)}};s.createBroker=N})}),rL=ze((e,t)=>{Ie(),Ue(),Be(),(function(s,o){typeof e=="object"&&typeof t<"u"?o(e,lf(),tL(),CA()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/typeof","broker-factory","fast-unique-numbers"],o):(s=typeof globalThis<"u"?globalThis:s||self,o(s.workerTimersBroker={},s._typeof,s.brokerFactory,s.fastUniqueNumbers))})(e,function(s,o,i,a){var c=new Map([[0,null]]),u=new Map([[0,null]]),f=i.createBroker({clearInterval:function(m){var g=m.call;return function(b){o(c.get(b))==="symbol"&&(c.set(b,null),g("clear",{timerId:b,timerType:"interval"}).then(function(){c.delete(b)}))}},clearTimeout:function(m){var g=m.call;return function(b){o(u.get(b))==="symbol"&&(u.set(b,null),g("clear",{timerId:b,timerType:"timeout"}).then(function(){u.delete(b)}))}},setInterval:function(m){var g=m.call;return function(b){for(var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y=arguments.length,w=new Array(y>2?y-2:0),v=2;v<y;v++)w[v-2]=arguments[v];var N=Symbol(),S=a.generateUniqueNumber(c);c.set(S,N);var _=function(){return g("set",{delay:j,now:performance.timeOrigin+performance.now(),timerId:S,timerType:"interval"}).then(function(){var M=c.get(S);if(M===void 0)throw new Error("The timer is in an undefined state.");M===N&&(b.apply(void 0,w),c.get(S)===N&&_())})};return _(),S}},setTimeout:function(m){var g=m.call;return function(b){for(var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y=arguments.length,w=new Array(y>2?y-2:0),v=2;v<y;v++)w[v-2]=arguments[v];var N=Symbol(),S=a.generateUniqueNumber(u);return u.set(S,N),g("set",{delay:j,now:performance.timeOrigin+performance.now(),timerId:S,timerType:"timeout"}).then(function(){var _=u.get(S);if(_===void 0)throw new Error("The timer is in an undefined state.");_===N&&(u.delete(S),b.apply(void 0,w))}),S}}}),h=function(m){var g=new Worker(m);return f(g)};s.load=h,s.wrap=f})}),nL=ze((e,t)=>{Ie(),Ue(),Be(),(function(s,o){typeof e=="object"&&typeof t<"u"?o(e,rL()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],o):(s=typeof globalThis<"u"?globalThis:s||self,o(s.workerTimers={},s.workerTimersBroker))})(e,function(s,o){var i=function(g,b){var j=null;return function(){if(j!==null)return j;var y=new Blob([b],{type:"application/javascript; charset=utf-8"}),w=URL.createObjectURL(y);return j=g(w),setTimeout(function(){return URL.revokeObjectURL(w)}),j}},a=`(()=>{var e={45:(e,t,r)=>{var n=r(738).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},79:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},122:(e,t,r)=>{var n=r(79);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},156:e=>{e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,u,a,i=[],s=!0,c=!1;try{if(u=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=u.call(r)).done)&&(i.push(n.value),i.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},172:e=>{e.exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports.default=e.exports},293:e=>{function t(e,t,r,n,o,u,a){try{var i=e[u](a),s=i.value}catch(e){return void r(e)}i.done?t(s):Promise.resolve(s).then(n,o)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(o,u){var a=e.apply(r,n);function i(e){t(a,o,u,i,s,"next",e)}function s(e){t(a,o,u,i,s,"throw",e)}i(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},373:e=>{e.exports=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},e.exports.__esModule=!0,e.exports.default=e.exports},389:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,u=2*o,a=function(e,t){return function(r){var a=t.get(r),i=void 0===a?r.size:a<u?a+1:0;if(!r.has(i))return e(r,i);if(r.size<o){for(;r.has(i);)i=Math.floor(Math.random()*u);return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,s=r(i),c=a(s,i),f=t(c);e.addUniqueNumber=f,e.generateUniqueNumber=c}(t)},472:function(e,t,r){!function(e,t,r,n){"use strict";var o=function(e,t){return function(r){var o=t.get(r);if(void 0===o)return Promise.resolve(!1);var u=n(o,2),a=u[0],i=u[1];return e(a),t.delete(r),i(!1),Promise.resolve(!0)}},u=function(e,t){var r=function(n,o,u,a){var i=n-e.now();i>0?o.set(a,[t(r,i,n,o,u,a),u]):(o.delete(a),u(!0))};return r},a=function(e,t,r,n){return function(o,u,a){var i=o+u-t.timeOrigin,s=i-t.now();return new Promise((function(t){e.set(a,[r(n,s,i,e,t,a),t])}))}},i=new Map,s=o(globalThis.clearTimeout,i),c=new Map,f=o(globalThis.clearTimeout,c),l=u(performance,globalThis.setTimeout),p=a(i,performance,globalThis.setTimeout,l),d=a(c,performance,globalThis.setTimeout,l);r.createWorker(self,{clear:function(){var r=e(t.mark((function e(r){var n,o,u;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.timerId,o=r.timerType,e.next=1,"interval"===o?s(n):f(n);case 1:return u=e.sent,e.abrupt("return",{result:u});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}(),set:function(){var r=e(t.mark((function e(r){var n,o,u,a,i;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.delay,o=r.now,u=r.timerId,a=r.timerType,e.next=1,("interval"===a?p:d)(n,o,u);case 1:return i=e.sent,e.abrupt("return",{result:i});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}()})}(r(293),r(756),r(623),r(715))},546:e=>{function t(r,n,o,u){var a=Object.defineProperty;try{a({},"",{})}catch(r){a=0}e.exports=t=function(e,r,n,o){if(r)a?a(e,r,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[r]=n;else{var u=function(r,n){t(e,r,(function(e){return this._invoke(r,n,e)}))};u("next",0),u("throw",1),u("return",2)}},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n,o,u)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},579:(e,t,r)=>{var n=r(738).default;e.exports=function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw new TypeError(n(e)+" is not iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},623:function(e,t,r){!function(e,t,r,n,o){"use strict";var u={INTERNAL_ERROR:-32603,INVALID_PARAMS:-32602,METHOD_NOT_FOUND:-32601},a=function(e,t){return Object.assign(new Error(e),{status:t})},i=function(e){return a('The requested method called "'.concat(e,'" is not supported.'),u.METHOD_NOT_FOUND)},s=function(e){return a('The handler of the method called "'.concat(e,'" returned no required result.'),u.INTERNAL_ERROR)},c=function(e){return a('The handler of the method called "'.concat(e,'" returned an unexpected result.'),u.INTERNAL_ERROR)},f=function(e){return a('The specified parameter called "portId" with the given value "'.concat(e,'" does not identify a port connected to this worker.'),u.INVALID_PARAMS)},l=function(e,n){return function(){var o=t(r.mark((function t(o){var u,a,f,l,p,d,v,x,y,b,h,m,_,g,w;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=o.data,a=u.id,f=u.method,l=u.params,p=n[f],t.prev=1,void 0!==p){t.next=2;break}throw i(f);case 2:if(void 0!==(d=void 0===l?p():p(l))){t.next=3;break}throw s(f);case 3:if(!(d instanceof Promise)){t.next=5;break}return t.next=4,d;case 4:g=t.sent,t.next=6;break;case 5:g=d;case 6:if(v=g,null!==a){t.next=8;break}if(void 0===v.result){t.next=7;break}throw c(f);case 7:t.next=10;break;case 8:if(void 0!==v.result){t.next=9;break}throw c(f);case 9:x=v.result,y=v.transferables,b=void 0===y?[]:y,e.postMessage({id:a,result:x},b);case 10:t.next=12;break;case 11:t.prev=11,w=t.catch(1),h=w.message,m=w.status,_=void 0===m?-32603:m,e.postMessage({error:{code:_,message:h},id:a});case 12:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return o.apply(this,arguments)}}()},p=function(){return new Promise((function(e){var t=new ArrayBuffer(0),r=new MessageChannel,n=r.port1,o=r.port2;n.onmessage=function(t){var r=t.data;return e(null!==r)},o.postMessage(t,[t])}))};function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=new Map,y=function(e,n,u){return v(v({},n),{},{connect:function(t){var r=t.port;r.start();var u=e(r,n),a=o.generateUniqueNumber(x);return x.set(a,(function(){u(),r.close(),x.delete(a)})),{result:a}},disconnect:function(e){var t=e.portId,r=x.get(t);if(void 0===r)throw f(t);return r(),{result:null}},isSupported:function(){var e=t(r.mark((function e(){var t,n,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,p();case 1:if(!e.sent){e.next=5;break}if(!((t=u())instanceof Promise)){e.next=3;break}return e.next=2,t;case 2:o=e.sent,e.next=4;break;case 3:o=t;case 4:return n=o,e.abrupt("return",{result:n});case 5:return e.abrupt("return",{result:!1});case 6:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()})},b=function(e,t){var r=y(b,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0}),n=l(e,r);return e.addEventListener("message",n),function(){return e.removeEventListener("message",n)}};e.createWorker=b,e.isSupported=p}(t,r(293),r(756),r(693),r(389))},633:(e,t,r)=>{var n=r(172),o=r(993),u=r(869),a=r(887),i=r(791),s=r(373),c=r(579);function f(){"use strict";var t=o(),r=t.m(f),l=(Object.getPrototypeOf?Object.getPrototypeOf(r):r.__proto__).constructor;function p(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===l||"GeneratorFunction"===(t.displayName||t.name))}var d={throw:1,return:2,break:3,continue:3};function v(e){var t,r;return function(n){t||(t={stop:function(){return r(n.a,2)},catch:function(){return n.v},abrupt:function(e,t){return r(n.a,d[e],t)},delegateYield:function(e,o,u){return t.resultName=o,r(n.d,c(e),u)},finish:function(e){return r(n.f,e)}},r=function(e,r,o){n.p=t.prev,n.n=t.next;try{return e(r,o)}finally{t.next=n.n}}),t.resultName&&(t[t.resultName]=n.v,t.resultName=void 0),t.sent=n.v,t.next=n.n;try{return e.call(this,t)}finally{n.p=t.prev,n.n=t.next}}}return(e.exports=f=function(){return{wrap:function(e,r,n,o){return t.w(v(e),r,n,o&&o.reverse())},isGeneratorFunction:p,mark:t.m,awrap:function(e,t){return new n(e,t)},AsyncIterator:i,async:function(e,t,r,n,o){return(p(t)?a:u)(v(e),t,r,n,o)},keys:s,values:c}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=f,e.exports.__esModule=!0,e.exports.default=e.exports},693:(e,t,r)=>{var n=r(736);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},715:(e,t,r)=>{var n=r(987),o=r(156),u=r(122),a=r(752);e.exports=function(e,t){return n(e)||o(e,t)||u(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},736:(e,t,r)=>{var n=r(738).default,o=r(45);e.exports=function(e){var t=o(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},752:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},756:(e,t,r)=>{var n=r(633)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},791:(e,t,r)=>{var n=r(172),o=r(546);e.exports=function e(t,r){function u(e,o,a,i){try{var s=t[e](o),c=s.value;return c instanceof n?r.resolve(c.v).then((function(e){u("next",e,a,i)}),(function(e){u("throw",e,a,i)})):r.resolve(c).then((function(e){s.value=e,a(s)}),(function(e){return u("throw",e,a,i)}))}catch(e){i(e)}}var a;this.next||(o(e.prototype),o(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),o(this,"_invoke",(function(e,t,n){function o(){return new r((function(t,r){u(e,n,t,r)}))}return a=a?a.then(o,o):o()}),!0)},e.exports.__esModule=!0,e.exports.default=e.exports},869:(e,t,r)=>{var n=r(887);e.exports=function(e,t,r,o,u){var a=n(e,t,r,o,u);return a.next().then((function(e){return e.done?e.value:a.next()}))},e.exports.__esModule=!0,e.exports.default=e.exports},887:(e,t,r)=>{var n=r(993),o=r(791);e.exports=function(e,t,r,u,a){return new o(n().w(e,t,r,u),a||Promise)},e.exports.__esModule=!0,e.exports.default=e.exports},987:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},993:(e,t,r)=>{var n=r(546);function o(){var t,r,u="function"==typeof Symbol?Symbol:{},a=u.iterator||"@@iterator",i=u.toStringTag||"@@toStringTag";function s(e,o,u,a){var i=o&&o.prototype instanceof f?o:f,s=Object.create(i.prototype);return n(s,"_invoke",function(e,n,o){var u,a,i,s=0,f=o||[],l=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return u=e,a=0,i=t,p.n=r,c}};function d(e,n){for(a=e,i=n,r=0;!l&&s&&!o&&r<f.length;r++){var o,u=f[r],d=p.p,v=u[2];e>3?(o=v===n)&&(i=u[(a=u[4])?5:(a=3,3)],u[4]=u[5]=t):u[0]<=d&&((o=e<2&&d<u[1])?(a=0,p.v=n,p.n=u[1]):d<v&&(o=e<3||u[0]>n||n>v)&&(u[4]=e,u[5]=n,p.n=v,a=0))}if(o||e>1)return c;throw l=!0,n}return function(o,f,v){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&d(f,v),a=f,i=v;(r=a<2?t:i)||!l;){u||(a?a<3?(a>1&&(p.n=-1),d(a,i)):p.n=i:p.v=i);try{if(s=2,u){if(a||(o="next"),r=u[o]){if(!(r=r.call(u,i)))throw TypeError("iterator result is not an object");if(!r.done)return r;i=r.value,a<2&&(a=0)}else 1===a&&(r=u.return)&&r.call(u),a<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),a=1);u=t}else if((r=(l=p.n<0)?i:e.call(n,p))!==c)break}catch(e){u=t,a=1,i=e}finally{s=1}}return{value:r,done:l}}}(e,u,a),!0),s}var c={};function f(){}function l(){}function p(){}r=Object.getPrototypeOf;var d=[][a]?r(r([][a]())):(n(r={},a,(function(){return this})),r),v=p.prototype=f.prototype=Object.create(d);function x(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,n(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e}return l.prototype=p,n(v,"constructor",p),n(p,"constructor",l),l.displayName="GeneratorFunction",n(p,i,"GeneratorFunction"),n(v),n(v,i,"Generator"),n(v,a,(function(){return this})),n(v,"toString",(function(){return"[object Generator]"})),(e.exports=o=function(){return{w:s,m:x}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var u=t[n]={exports:{}};return e[n].call(u.exports,u,u.exports,r),u.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,c=i(o.load,a),u=function(g){return c().clearInterval(g)},f=function(g){return c().clearTimeout(g)},h=function(){var g;return(g=c()).setInterval.apply(g,arguments)},m=function(){var g;return(g=c()).setTimeout.apply(g,arguments)};s.clearInterval=u,s.clearTimeout=f,s.setInterval=h,s.setTimeout=m})}),cf=ze(e=>{Ie(),Ue(),Be(),Object.defineProperty(e,"__esModule",{value:!0}),e.isReactNativeBrowser=e.isWebWorker=void 0;var t=()=>typeof window<"u"?typeof navigator<"u"&&navigator.userAgent?.toLowerCase().indexOf(" electron/")>-1&&It?.versions?!Object.prototype.hasOwnProperty.call(It.versions,"electron"):typeof window.document<"u":!1,s=()=>!!(typeof self=="object"&&self?.constructor?.name?.includes("WorkerGlobalScope")&&typeof Deno>"u"),o=()=>typeof navigator<"u"&&navigator.product==="ReactNative",i=t()||s()||o();e.isWebWorker=s(),e.isReactNativeBrowser=o(),e.default=i}),sL=ze(e=>{Ie(),Ue(),Be();var t=e&&e.__createBinding||(Object.create?function(h,m,g,b){b===void 0&&(b=g);var j=Object.getOwnPropertyDescriptor(m,g);(!j||("get"in j?!m.__esModule:j.writable||j.configurable))&&(j={enumerable:!0,get:function(){return m[g]}}),Object.defineProperty(h,b,j)}:function(h,m,g,b){b===void 0&&(b=g),h[b]=m[g]}),s=e&&e.__setModuleDefault||(Object.create?function(h,m){Object.defineProperty(h,"default",{enumerable:!0,value:m})}:function(h,m){h.default=m}),o=e&&e.__importStar||(function(){var h=function(m){return h=Object.getOwnPropertyNames||function(g){var b=[];for(var j in g)Object.prototype.hasOwnProperty.call(g,j)&&(b[b.length]=j);return b},h(m)};return function(m){if(m&&m.__esModule)return m;var g={};if(m!=null)for(var b=h(m),j=0;j<b.length;j++)b[j]!=="default"&&t(g,m,b[j]);return s(g,m),g}})();Object.defineProperty(e,"__esModule",{value:!0});var i=nL(),a=o(cf()),c={set:i.setInterval,clear:i.clearInterval},u={set:(h,m)=>setInterval(h,m),clear:h=>clearInterval(h)},f=h=>{switch(h){case"native":return u;case"worker":return c;case"auto":default:return a.default&&!a.isWebWorker&&!a.isReactNativeBrowser?c:u}};e.default=f}),PA=ze(e=>{Ie(),Ue(),Be();var t=e&&e.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0});var s=t(sL()),o=class{_keepalive;timerId;timer;destroyed=!1;counter;client;_keepaliveTimeoutTimestamp;_intervalEvery;get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(i,a){this.client=i,this.timer=typeof a=="object"&&"set"in a&&"clear"in a?a:(0,s.default)(a),this.setKeepalive(i.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(i){if(i*=1e3,isNaN(i)||i<=0||i>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${i}`);this._keepalive=i,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${i}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let i=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+i,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};e.default=o}),Zg=ze(e=>{Ie(),Ue(),Be();var t=e&&e.__createBinding||(Object.create?function(A,C,R,k){k===void 0&&(k=R);var U=Object.getOwnPropertyDescriptor(C,R);(!U||("get"in U?!C.__esModule:U.writable||U.configurable))&&(U={enumerable:!0,get:function(){return C[R]}}),Object.defineProperty(A,k,U)}:function(A,C,R,k){k===void 0&&(k=R),A[k]=C[R]}),s=e&&e.__setModuleDefault||(Object.create?function(A,C){Object.defineProperty(A,"default",{enumerable:!0,value:C})}:function(A,C){A.default=C}),o=e&&e.__importStar||(function(){var A=function(C){return A=Object.getOwnPropertyNames||function(R){var k=[];for(var U in R)Object.prototype.hasOwnProperty.call(R,U)&&(k[k.length]=U);return k},A(C)};return function(C){if(C&&C.__esModule)return C;var R={};if(C!=null)for(var k=A(C),U=0;U<k.length;U++)k[U]!=="default"&&t(R,C,k[U]);return s(R,C),R}})(),i=e&&e.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(hU()),c=hi(),u=i(mU()),f=i(Is()),h=o(gU()),m=i(dA()),g=i(BU()),b=i(TA()),j=i(UU()),y=Ta(),w=LU(),v=i(PA()),N=o(cf()),S=globalThis.setImmediate||((...A)=>{let C=A.shift();(0,y.nextTick)(()=>{C(...A)})}),_={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,subscribeBatchSize:null,writeCache:!0,timerVariant:"auto"},M=class Jg extends w.TypedEventEmitter{static VERSION=y.MQTTJS_VERSION;connected;disconnecting;disconnected;reconnecting;incomingStore;outgoingStore;options;queueQoSZero;_reconnectCount;log;messageIdProvider;outgoing;messageIdToTopic;noop;keepaliveManager;stream;queue;streamBuilder;_resubscribeTopics;connackTimer;reconnectTimer;_storeProcessing;_packetIdsDuringStoreProcessing;_storeProcessingQueue;_firstConnection;topicAliasRecv;topicAliasSend;_deferredReconnect;connackPacket;static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(C,R){super(),this.options=R||{};for(let k in _)typeof this.options[k]>"u"?this.options[k]=_[k]:this.options[k]=R[k];this.log=this.options.log||(0,f.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",Jg.VERSION),N.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",N.default?"browser":"node"),this.log("MqttClient :: options.protocol",R.protocol),this.log("MqttClient :: options.protocolVersion",R.protocolVersion),this.log("MqttClient :: options.username",R.username),this.log("MqttClient :: options.keepalive",R.keepalive),this.log("MqttClient :: options.reconnectPeriod",R.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",R.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",R.properties?R.properties.topicAliasMaximum:void 0),this.options.clientId=typeof R.clientId=="string"?R.clientId:Jg.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=R.protocolVersion===5&&R.customHandleAcks?R.customHandleAcks:(...k)=>{k[3](null,0)},this.options.writeCache||(a.default.writeToStream.cacheNumbers=!1),this.streamBuilder=C,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new b.default:this.options.messageIdProvider,this.outgoingStore=R.outgoingStore||new m.default,this.incomingStore=R.incomingStore||new m.default,this.queueQoSZero=R.queueQoSZero===void 0?!0:R.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,R.properties&&R.properties.topicAliasMaximum>0&&(R.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new j.default(R.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:k}=this,U=()=>{let L=k.shift();this.log("deliver :: entry %o",L);let te=null;if(!L){this._resubscribe();return}te=L.packet,this.log("deliver :: call _sendPacket for %o",te);let V=!0;te.messageId&&te.messageId!==0&&(this.messageIdProvider.register(te.messageId)||(V=!1)),V?this._sendPacket(te,ie=>{L.cb&&L.cb(ie),U()}):(this.log("messageId: %d has already used. The message is skipped and removed.",te.messageId),U())};this.log("connect :: sending queued packets"),U()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(C,R){R()}handleMessage(C,R){R()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){let C=new c.Writable,R=a.default.parser(this.options),k=null,U=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new m.default,this.outgoingStore=this.options.outgoingStore||new m.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),R.on("packet",H=>{this.log("parser :: on packet push to packets array."),U.push(H)});let L=()=>{this.log("work :: getting next packet in queue");let H=U.shift();if(H)this.log("work :: packet pulled from queue"),(0,g.default)(this,H,te);else{this.log("work :: no packets in queue");let re=k;k=null,this.log("work :: done flag is %s",!!re),re&&re()}},te=()=>{if(U.length)(0,y.nextTick)(L);else{let H=k;k=null,H()}};C._write=(H,re,$)=>{k=$,this.log("writable stream :: parsing buffer"),R.parse(H),L()};let V=H=>{this.log("streamErrorHandler :: error",H.message),H.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",H)):this.noop(H)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(C),this.stream.on("error",V),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let ie={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(ie.will={...this.options.will,payload:this.options.will?.payload}),this.topicAliasRecv&&(ie.properties||(ie.properties={}),this.topicAliasRecv&&(ie.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(ie),R.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let H={cmd:"auth",reasonCode:0,...this.options.authPacket};this._writePacket(H)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(C,R,k,U){this.log("publish :: message `%s` to topic `%s`",R,C);let{options:L}=this;typeof k=="function"&&(U=k,k=null),k=k||{},k={qos:0,retain:!1,dup:!1,...k};let{qos:te,retain:V,dup:ie,properties:H,cbStorePut:re}=k;if(this._checkDisconnecting(U))return this;let $=()=>{let K=0;if((te===1||te===2)&&(K=this._nextId(),K===null))return this.log("No messageId left"),!1;let X={cmd:"publish",topic:C,payload:R,qos:te,retain:V,messageId:K,dup:ie};switch(L.protocolVersion===5&&(X.properties=H),this.log("publish :: qos",te),te){case 1:case 2:this.outgoing[X.messageId]={volatile:!1,cb:U||this.noop},this.log("MqttClient:publish: packet cmd: %s",X.cmd),this._sendPacket(X,void 0,re);break;default:this.log("MqttClient:publish: packet cmd: %s",X.cmd),this._sendPacket(X,U,re);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!$())&&this._storeProcessingQueue.push({invoke:$,cbStorePut:k.cbStorePut,callback:U}),this}publishAsync(C,R,k){return new Promise((U,L)=>{this.publish(C,R,k,(te,V)=>{te?L(te):U(V)})})}subscribe(C,R,k){let U=this.options.protocolVersion;typeof R=="function"&&(k=R),k=k||this.noop;let L=!1,te=[];typeof C=="string"?(C=[C],te=C):Array.isArray(C)?te=C:typeof C=="object"&&(L=C.resubscribe,delete C.resubscribe,te=Object.keys(C));let V=h.validateTopics(te);if(V!==null)return S(k,new Error(`Invalid topic ${V}`)),this;if(this._checkDisconnecting(k))return this.log("subscribe: discconecting true"),this;let ie={qos:0};U===5&&(ie.nl=!1,ie.rap=!1,ie.rh=0),R={...ie,...R};let{properties:H}=R,re=[],$=(ne,G)=>{if(G=G||R,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,ne)||this._resubscribeTopics[ne].qos<G.qos||L){let B={topic:ne,qos:G.qos};U===5&&(B.nl=G.nl,B.rap=G.rap,B.rh=G.rh,B.properties=H),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",B.topic,B.qos),re.push(B)}};if(Array.isArray(C)?C.forEach(ne=>{this.log("subscribe: array topic %s",ne),$(ne)}):Object.keys(C).forEach(ne=>{this.log("subscribe: object topic %s, %o",ne,C[ne]),$(ne,C[ne])}),!re.length)return k(null,[]),this;let K=(ne,G)=>{let B={cmd:"subscribe",subscriptions:ne,messageId:G};if(H&&(B.properties=H),this.options.resubscribe){this.log("subscribe :: resubscribe true");let Z=[];ne.forEach(pe=>{if(this.options.reconnectPeriod>0){let he={qos:pe.qos};U===5&&(he.nl=pe.nl||!1,he.rap=pe.rap||!1,he.rh=pe.rh||0,he.properties=pe.properties),this._resubscribeTopics[pe.topic]=he,Z.push(pe.topic)}}),this.messageIdToTopic[B.messageId]=Z}let z=new Promise((Z,pe)=>{this.outgoing[B.messageId]={volatile:!0,cb(he,Ee){if(!he){let{granted:de}=Ee;for(let le=0;le<de.length;le+=1)ne[le].qos=de[le]}he?pe(new y.ErrorWithSubackPacket(he.message,Ee)):Z(Ee)}}});return this.log("subscribe :: call _sendPacket"),this._sendPacket(B),z},X=()=>{let ne=this.options.subscribeBatchSize??re.length,G=[];for(let B=0;B<re.length;B+=ne){let z=re.slice(B,B+ne),Z=this._nextId();if(Z===null)return this.log("No messageId left"),!1;G.push(K(z,Z))}return Promise.all(G).then(B=>{k(null,re,B.at(-1))}).catch(B=>{k(B,re,B.packet)}),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!X())&&this._storeProcessingQueue.push({invoke:X,callback:k}),this}subscribeAsync(C,R){return new Promise((k,U)=>{this.subscribe(C,R,(L,te)=>{L?U(L):k(te)})})}unsubscribe(C,R,k){typeof C=="string"&&(C=[C]),typeof R=="function"&&(k=R),k=k||this.noop;let U=h.validateTopics(C);if(U!==null)return S(k,new Error(`Invalid topic ${U}`)),this;if(this._checkDisconnecting(k))return this;let L=()=>{let te=this._nextId();if(te===null)return this.log("No messageId left"),!1;let V={cmd:"unsubscribe",messageId:te,unsubscriptions:[]};return typeof C=="string"?V.unsubscriptions=[C]:Array.isArray(C)&&(V.unsubscriptions=C),this.options.resubscribe&&V.unsubscriptions.forEach(ie=>{delete this._resubscribeTopics[ie]}),typeof R=="object"&&R.properties&&(V.properties=R.properties),this.outgoing[V.messageId]={volatile:!0,cb:k},this.log("unsubscribe: call _sendPacket"),this._sendPacket(V),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!L())&&this._storeProcessingQueue.push({invoke:L,callback:k}),this}unsubscribeAsync(C,R){return new Promise((k,U)=>{this.unsubscribe(C,R,(L,te)=>{L?U(L):k(te)})})}end(C,R,k){this.log("end :: (%s)",this.options.clientId),(C==null||typeof C!="boolean")&&(k=k||R,R=C,C=!1),typeof R!="object"&&(k=k||R,R=null),this.log("end :: cb? %s",!!k),(!k||typeof k!="function")&&(k=this.noop);let U=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(te=>{this.outgoingStore.close(V=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),k){let ie=te||V;this.log("end :: closeStores: invoking callback with args"),k(ie)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},L=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,C),this._cleanUp(C,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,y.nextTick)(U)},R)};return this.disconnecting?(k(),this):(this._clearReconnect(),this.disconnecting=!0,!C&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,L,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),L()),this)}endAsync(C,R){return new Promise((k,U)=>{this.end(C,R,L=>{L?U(L):k()})})}removeOutgoingMessage(C){if(this.outgoing[C]){let{cb:R}=this.outgoing[C];this._removeOutgoingAndStoreMessage(C,()=>{R(new Error("Message removed"))})}return this}reconnect(C){this.log("client reconnect");let R=()=>{C?(this.options.incomingStore=C.incomingStore,this.options.outgoingStore=C.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new m.default,this.outgoingStore=this.options.outgoingStore||new m.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=R:R(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(C=>{this.outgoing[C].volatile&&typeof this.outgoing[C].cb=="function"&&(this.outgoing[C].cb(new Error("Connection closed")),delete this.outgoing[C])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(C=>{typeof this.outgoing[C].cb=="function"&&(this.outgoing[C].cb(new Error("Connection closed")),delete this.outgoing[C])}))}_removeTopicAliasAndRecoverTopicName(C){let R;C.properties&&(R=C.properties.topicAlias);let k=C.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",R,k),k.length===0){if(typeof R>"u")return new Error("Unregistered Topic Alias");if(k=this.topicAliasSend.getTopicByAlias(R),typeof k>"u")return new Error("Unregistered Topic Alias");C.topic=k}R&&delete C.properties.topicAlias}_checkDisconnecting(C){return this.disconnecting&&(C&&C!==this.noop?C(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(C,R,k={}){if(R&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",R)),this.log("_cleanUp :: forced? %s",C),C)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let U={cmd:"disconnect",...k};this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(U,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),S(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),R&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",R),R())}_storeAndSend(C,R,k){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",C.cmd);let U=C,L;if(U.cmd==="publish"&&(U=(0,u.default)(C),L=this._removeTopicAliasAndRecoverTopicName(U),L))return R&&R(L);this.outgoingStore.put(U,te=>{if(te)return R&&R(te);k(),this._writePacket(C,R)})}_applyTopicAlias(C){if(this.options.protocolVersion===5&&C.cmd==="publish"){let R;C.properties&&(R=C.properties.topicAlias);let k=C.topic.toString();if(this.topicAliasSend)if(R){if(k.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",k,R),!this.topicAliasSend.put(k,R)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",k,R),new Error("Sending Topic Alias out of range")}else k.length!==0&&(this.options.autoAssignTopicAlias?(R=this.topicAliasSend.getAliasByTopic(k),R?(C.topic="",C.properties={...C.properties,topicAlias:R},this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",k,R)):(R=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(k,R),C.properties={...C.properties,topicAlias:R},this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",k,R))):this.options.autoUseTopicAlias&&(R=this.topicAliasSend.getAliasByTopic(k),R&&(C.topic="",C.properties={...C.properties,topicAlias:R},this.log("applyTopicAlias :: auto use topic: %s - alias: %d",k,R))));else if(R)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",k,R),new Error("Sending Topic Alias out of range")}}_noop(C){this.log("noop ::",C)}_writePacket(C,R){this.log("_writePacket :: packet: %O",C),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",C),this.log("_writePacket :: writing to stream");let k=a.default.writeToStream(C,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",k),!k&&R&&R!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",R)):R&&(this.log("_writePacket :: invoking cb"),R())}_sendPacket(C,R,k,U){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),k=k||this.noop,R=R||this.noop;let L=this._applyTopicAlias(C);if(L){R(L);return}if(!this.connected){if(C.cmd==="auth"){this._writePacket(C,R);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(C,R,k);return}if(U){this._writePacket(C,R);return}switch(C.cmd){case"publish":break;case"pubrel":this._storeAndSend(C,R,k);return;default:this._writePacket(C,R);return}switch(C.qos){case 2:case 1:this._storeAndSend(C,R,k);break;case 0:default:this._writePacket(C,R);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(C,R,k){this.log("_storePacket :: packet: %o",C),this.log("_storePacket :: cb? %s",!!R),k=k||this.noop;let U=C;if(U.cmd==="publish"){U=(0,u.default)(C);let te=this._removeTopicAliasAndRecoverTopicName(U);if(te)return R&&R(te)}let L=U.qos||0;L===0&&this.queueQoSZero||U.cmd!=="publish"?this.queue.push({packet:U,cb:R}):L>0?(R=this.outgoing[U.messageId]?this.outgoing[U.messageId].cb:null,this.outgoingStore.put(U,te=>{if(te)return R&&R(te);k()})):R&&R(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new v.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(C=!1){this.keepaliveManager&&this.options.keepalive&&(C||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let C=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&C.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let R=0;R<C.length;R++){let k={};k[C[R]]=this._resubscribeTopics[C[R]],k.resubscribe=!0,this.subscribe(k,{properties:k[C[R]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(C){if(this.disconnected){this.emit("connect",C);return}this.connackPacket=C,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let R=()=>{let k=this.outgoingStore.createStream(),U=()=>{k.destroy(),k=null,this._flushStoreProcessingQueue(),L()},L=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",U),k.on("error",V=>{L(),this._flushStoreProcessingQueue(),this.removeListener("close",U),this.emit("error",V)});let te=()=>{if(!k)return;let V=k.read(1),ie;if(!V){k.once("readable",te);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[V.messageId]){te();return}!this.disconnecting&&!this.reconnectTimer?(ie=this.outgoing[V.messageId]?this.outgoing[V.messageId].cb:null,this.outgoing[V.messageId]={volatile:!1,cb(H,re){ie&&ie(H,re),te()}},this._packetIdsDuringStoreProcessing[V.messageId]=!0,this.messageIdProvider.register(V.messageId)?this._sendPacket(V,void 0,void 0,!0):this.log("messageId: %d has already used.",V.messageId)):k.destroy&&k.destroy()};k.on("end",()=>{let V=!0;for(let ie in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[ie]){V=!1;break}this.removeListener("close",U),V?(L(),this._invokeAllStoreProcessingQueue(),this.emit("connect",C)):R()}),te()};R()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let C=this._storeProcessingQueue[0];if(C&&C.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let C of this._storeProcessingQueue)C.cbStorePut&&C.cbStorePut(new Error("Connection closed")),C.callback&&C.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(C,R){delete this.outgoing[C],this.outgoingStore.del({messageId:C},(k,U)=>{R(k,U),this.messageIdProvider.deallocate(C),this._invokeStoreProcessingQueue()})}};e.default=M}),oL=ze(e=>{Ie(),Ue(),Be(),Object.defineProperty(e,"__esModule",{value:!0});var t=AA(),s=class{numberAllocator;lastId;constructor(){this.numberAllocator=new t.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(o){return this.numberAllocator.use(o)}deallocate(o){this.numberAllocator.free(o)}clear(){this.numberAllocator.clear()}};e.default=s});function iL(){if(ey)return td;ey=!0;let e=2147483647,t=36,s=1,o=26,i=38,a=700,c=72,u=128,f="-",h=/^xn--/,m=/[^\0-\x7F]/,g=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},j=t-s,y=Math.floor,w=String.fromCharCode;function v(L){throw new RangeError(b[L])}function N(L,te){let V=[],ie=L.length;for(;ie--;)V[ie]=te(L[ie]);return V}function S(L,te){let V=L.split("@"),ie="";V.length>1&&(ie=V[0]+"@",L=V[1]),L=L.replace(g,".");let H=L.split("."),re=N(H,te).join(".");return ie+re}function _(L){let te=[],V=0,ie=L.length;for(;V<ie;){let H=L.charCodeAt(V++);if(H>=55296&&H<=56319&&V<ie){let re=L.charCodeAt(V++);(re&64512)==56320?te.push(((H&1023)<<10)+(re&1023)+65536):(te.push(H),V--)}else te.push(H)}return te}let M=L=>String.fromCodePoint(...L),A=function(L){return L>=48&&L<58?26+(L-48):L>=65&&L<91?L-65:L>=97&&L<123?L-97:t},C=function(L,te){return L+22+75*(L<26)-((te!=0)<<5)},R=function(L,te,V){let ie=0;for(L=V?y(L/a):L>>1,L+=y(L/te);L>j*o>>1;ie+=t)L=y(L/j);return y(ie+(j+1)*L/(L+i))},k=function(L){let te=[],V=L.length,ie=0,H=u,re=c,$=L.lastIndexOf(f);$<0&&($=0);for(let K=0;K<$;++K)L.charCodeAt(K)>=128&&v("not-basic"),te.push(L.charCodeAt(K));for(let K=$>0?$+1:0;K<V;){let X=ie;for(let G=1,B=t;;B+=t){K>=V&&v("invalid-input");let z=A(L.charCodeAt(K++));z>=t&&v("invalid-input"),z>y((e-ie)/G)&&v("overflow"),ie+=z*G;let Z=B<=re?s:B>=re+o?o:B-re;if(z<Z)break;let pe=t-Z;G>y(e/pe)&&v("overflow"),G*=pe}let ne=te.length+1;re=R(ie-X,ne,X==0),y(ie/ne)>e-H&&v("overflow"),H+=y(ie/ne),ie%=ne,te.splice(ie++,0,H)}return String.fromCodePoint(...te)},U=function(L){let te=[];L=_(L);let V=L.length,ie=u,H=0,re=c;for(let X of L)X<128&&te.push(w(X));let $=te.length,K=$;for($&&te.push(f);K<V;){let X=e;for(let G of L)G>=ie&&G<X&&(X=G);let ne=K+1;X-ie>y((e-H)/ne)&&v("overflow"),H+=(X-ie)*ne,ie=X;for(let G of L)if(G<ie&&++H>e&&v("overflow"),G===ie){let B=H;for(let z=t;;z+=t){let Z=z<=re?s:z>=re+o?o:z-re;if(B<Z)break;let pe=B-Z,he=t-Z;te.push(w(C(Z+pe%he,0))),B=y(pe/he)}te.push(w(C(B,0))),re=R(H,ne,K===$),H=0,++K}++H,++ie}return te.join("")};return td={version:"2.3.1",ucs2:{decode:_,encode:M},decode:k,encode:U,toASCII:function(L){return S(L,function(te){return m.test(te)?"xn--"+U(te):te})},toUnicode:function(L){return S(L,function(te){return h.test(te)?k(te.slice(4).toLowerCase()):te})}},td}var td,ey,go,aL=on(()=>{Ie(),Ue(),Be(),td={},ey=!1,go=iL(),go.decode,go.encode,go.toASCII,go.toUnicode,go.ucs2,go.version});function lL(){return ry||(ry=!0,ty=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),s=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(s)!=="[object Symbol]")return!1;var o=42;e[t]=o;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,t);if(a.value!==o||a.enumerable!==!0)return!1}return!0}),ty}function cL(){return sy||(sy=!0,ny=Error),ny}function uL(){return iy||(iy=!0,oy=EvalError),oy}function dL(){return ly||(ly=!0,ay=RangeError),ay}function fL(){return uy||(uy=!0,cy=ReferenceError),cy}function IA(){return fy||(fy=!0,dy=SyntaxError),dy}function ac(){return py||(py=!0,hy=TypeError),hy}function hL(){return gy||(gy=!0,my=URIError),my}function pL(){if(yy)return rd;yy=!0;var e=typeof Symbol<"u"&&Symbol,t=lL();return rd=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},rd}function mL(){if(by)return nd;by=!0;var e={__proto__:null,foo:{}},t=Object;return nd=function(){return{__proto__:e}.foo===e.foo&&!(e instanceof t)},nd}function gL(){if(xy)return sd;xy=!0;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,s=Math.max,o="[object Function]",i=function(u,f){for(var h=[],m=0;m<u.length;m+=1)h[m]=u[m];for(var g=0;g<f.length;g+=1)h[g+u.length]=f[g];return h},a=function(u,f){for(var h=[],m=f,g=0;m<u.length;m+=1,g+=1)h[g]=u[m];return h},c=function(u,f){for(var h="",m=0;m<u.length;m+=1)h+=u[m],m+1<u.length&&(h+=f);return h};return sd=function(u){var f=this;if(typeof f!="function"||t.apply(f)!==o)throw new TypeError(e+f);for(var h=a(arguments,1),m,g=function(){if(this instanceof m){var v=f.apply(this,i(h,arguments));return Object(v)===v?v:this}return f.apply(u,i(h,arguments))},b=s(0,f.length-h.length),j=[],y=0;y<b;y++)j[y]="$"+y;if(m=Function("binder","return function ("+c(j,",")+"){ return binder.apply(this,arguments); }")(g),f.prototype){var w=function(){};w.prototype=f.prototype,m.prototype=new w,w.prototype=null}return m},sd}function o0(){if(vy)return od;vy=!0;var e=gL();return od=Function.prototype.bind||e,od}function yL(){if(wy)return id;wy=!0;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,s=o0();return id=s.call(e,t),id}function Ca(){if(Sy)return ad;Sy=!0;var e,t=cL(),s=uL(),o=dL(),i=fL(),a=IA(),c=ac(),u=hL(),f=Function,h=function(K){try{return f('"use strict"; return ('+K+").constructor;")()}catch{}},m=Object.getOwnPropertyDescriptor;if(m)try{m({},"")}catch{m=null}var g=function(){throw new c},b=m?(function(){try{return arguments.callee,g}catch{try{return m(arguments,"callee").get}catch{return g}}})():g,j=pL()(),y=mL()(),w=Object.getPrototypeOf||(y?function(K){return K.__proto__}:null),v={},N=typeof Uint8Array>"u"||!w?e:w(Uint8Array),S={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":j&&w?w([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":v,"%AsyncGenerator%":v,"%AsyncGeneratorFunction%":v,"%AsyncIteratorPrototype%":v,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":s,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":f,"%GeneratorFunction%":v,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":j&&w?w(w([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!j||!w?e:w(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":o,"%ReferenceError%":i,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!j||!w?e:w(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":j&&w?w(""[Symbol.iterator]()):e,"%Symbol%":j?Symbol:e,"%SyntaxError%":a,"%ThrowTypeError%":b,"%TypedArray%":N,"%TypeError%":c,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":u,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet};if(w)try{null.error}catch(K){var _=w(w(K));S["%Error.prototype%"]=_}var M=function K(X){var ne;if(X==="%AsyncFunction%")ne=h("async function () {}");else if(X==="%GeneratorFunction%")ne=h("function* () {}");else if(X==="%AsyncGeneratorFunction%")ne=h("async function* () {}");else if(X==="%AsyncGenerator%"){var G=K("%AsyncGeneratorFunction%");G&&(ne=G.prototype)}else if(X==="%AsyncIteratorPrototype%"){var B=K("%AsyncGenerator%");B&&w&&(ne=w(B.prototype))}return S[X]=ne,ne},A={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},C=o0(),R=yL(),k=C.call(Function.call,Array.prototype.concat),U=C.call(Function.apply,Array.prototype.splice),L=C.call(Function.call,String.prototype.replace),te=C.call(Function.call,String.prototype.slice),V=C.call(Function.call,RegExp.prototype.exec),ie=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,H=/\\(\\)?/g,re=function(K){var X=te(K,0,1),ne=te(K,-1);if(X==="%"&&ne!=="%")throw new a("invalid intrinsic syntax, expected closing `%`");if(ne==="%"&&X!=="%")throw new a("invalid intrinsic syntax, expected opening `%`");var G=[];return L(K,ie,function(B,z,Z,pe){G[G.length]=Z?L(pe,H,"$1"):z||B}),G},$=function(K,X){var ne=K,G;if(R(A,ne)&&(G=A[ne],ne="%"+G[0]+"%"),R(S,ne)){var B=S[ne];if(B===v&&(B=M(ne)),typeof B>"u"&&!X)throw new c("intrinsic "+K+" exists, but is not available. Please file an issue!");return{alias:G,name:ne,value:B}}throw new a("intrinsic "+K+" does not exist!")};return ad=function(K,X){if(typeof K!="string"||K.length===0)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof X!="boolean")throw new c('"allowMissing" argument must be a boolean');if(V(/^%?[^%]*%?$/,K)===null)throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ne=re(K),G=ne.length>0?ne[0]:"",B=$("%"+G+"%",X),z=B.name,Z=B.value,pe=!1,he=B.alias;he&&(G=he[0],U(ne,k([0,1],he)));for(var Ee=1,de=!0;Ee<ne.length;Ee+=1){var le=ne[Ee],Se=te(le,0,1),be=te(le,-1);if((Se==='"'||Se==="'"||Se==="`"||be==='"'||be==="'"||be==="`")&&Se!==be)throw new a("property names with quotes must have matching quotes");if((le==="constructor"||!de)&&(pe=!0),G+="."+le,z="%"+G+"%",R(S,z))Z=S[z];else if(Z!=null){if(!(le in Z)){if(!X)throw new c("base intrinsic for "+K+" exists, but the property is not available.");return}if(m&&Ee+1>=ne.length){var ve=m(Z,le);de=!!ve,de&&"get"in ve&&!("originalValue"in ve.get)?Z=ve.get:Z=Z[le]}else de=R(Z,le),Z=Z[le];de&&!pe&&(S[z]=Z)}}return Z},ad}function i0(){if(jy)return ld;jy=!0;var e=Ca(),t=e("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return ld=t,ld}function BA(){if(Ny)return cd;Ny=!0;var e=Ca(),t=e("%Object.getOwnPropertyDescriptor%",!0);if(t)try{t([],"length")}catch{t=null}return cd=t,cd}function bL(){if(_y)return ud;_y=!0;var e=i0(),t=IA(),s=ac(),o=BA();return ud=function(i,a,c){if(!i||typeof i!="object"&&typeof i!="function")throw new s("`obj` must be an object or a function`");if(typeof a!="string"&&typeof a!="symbol")throw new s("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new s("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new s("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new s("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new s("`loose`, if provided, must be a boolean");var u=arguments.length>3?arguments[3]:null,f=arguments.length>4?arguments[4]:null,h=arguments.length>5?arguments[5]:null,m=arguments.length>6?arguments[6]:!1,g=!!o&&o(i,a);if(e)e(i,a,{configurable:h===null&&g?g.configurable:!h,enumerable:u===null&&g?g.enumerable:!u,value:c,writable:f===null&&g?g.writable:!f});else if(m||!u&&!f&&!h)i[a]=c;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},ud}function xL(){if(Ey)return dd;Ey=!0;var e=i0(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},dd=t,dd}function vL(){if(Ay)return fd;Ay=!0;var e=Ca(),t=bL(),s=xL()(),o=BA(),i=ac(),a=e("%Math.floor%");return fd=function(c,u){if(typeof c!="function")throw new i("`fn` is not a function");if(typeof u!="number"||u<0||u>4294967295||a(u)!==u)throw new i("`length` must be a positive 32-bit integer");var f=arguments.length>2&&!!arguments[2],h=!0,m=!0;if("length"in c&&o){var g=o(c,"length");g&&!g.configurable&&(h=!1),g&&!g.writable&&(m=!1)}return(h||m||!f)&&(s?t(c,"length",u,!0,!0):t(c,"length",u)),c},fd}function wL(){if(Ty)return ta;Ty=!0;var e=o0(),t=Ca(),s=vL(),o=ac(),i=t("%Function.prototype.apply%"),a=t("%Function.prototype.call%"),c=t("%Reflect.apply%",!0)||e.call(a,i),u=i0(),f=t("%Math.max%");ta=function(m){if(typeof m!="function")throw new o("a function is required");var g=c(e,a,arguments);return s(g,1+f(0,m.length-(arguments.length-1)),!0)};var h=function(){return c(e,i,arguments)};return u?u(ta,"apply",{value:h}):ta.apply=h,ta}function SL(){if(Cy)return hd;Cy=!0;var e=Ca(),t=wL(),s=t(e("String.prototype.indexOf"));return hd=function(o,i){var a=e(o,!!i);return typeof a=="function"&&s(o,".prototype.")>-1?t(a):a},hd}var ty,ry,ny,sy,oy,iy,ay,ly,cy,uy,dy,fy,hy,py,my,gy,rd,yy,nd,by,sd,xy,od,vy,id,wy,ad,Sy,ld,jy,cd,Ny,ud,_y,dd,Ey,fd,Ay,ta,Ty,hd,Cy,jL=on(()=>{Ie(),Ue(),Be(),ty={},ry=!1,ny={},sy=!1,oy={},iy=!1,ay={},ly=!1,cy={},uy=!1,dy={},fy=!1,hy={},py=!1,my={},gy=!1,rd={},yy=!1,nd={},by=!1,sd={},xy=!1,od={},vy=!1,id={},wy=!1,ad={},Sy=!1,ld={},jy=!1,cd={},Ny=!1,ud={},_y=!1,dd={},Ey=!1,fd={},Ay=!1,ta={},Ty=!1,hd={},Cy=!1});function a0(e){throw new Error("Node.js process "+e+" is not supported by JSPM core outside of Node.js")}function NL(){!oi||!ei||(oi=!1,ei.length?es=ei.concat(es):Bl=-1,es.length&&UA())}function UA(){if(!oi){var e=setTimeout(NL,0);oi=!0;for(var t=es.length;t;){for(ei=es,es=[];++Bl<t;)ei&&ei[Bl].run();Bl=-1,t=es.length}ei=null,oi=!1,clearTimeout(e)}}function _L(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)t[s-1]=arguments[s];es.push(new LA(e,t)),es.length===1&&!oi&&setTimeout(UA,0)}function LA(e,t){this.fun=e,this.array=t}function Dr(){}function EL(e){a0("_linkedBinding")}function AL(e){a0("dlopen")}function TL(){return[]}function CL(){return[]}function RL(e,t){if(!e)throw new Error(t||"assertion error")}function ML(){return!1}function kL(){return Cs.now()/1e3}function tm(e){var t=Math.floor((Date.now()-Cs.now())*.001),s=Cs.now()*.001,o=Math.floor(s)+t,i=Math.floor(s%1*1e9);return e&&(o=o-e[0],i=i-e[1],i<0&&(o--,i+=pd)),[o,i]}function ho(){return l0}function OL(e){return[]}var es,oi,ei,Bl,yj,bj,xj,vj,wj,Sj,jj,Nj,_j,Ej,Aj,Tj,Cj,Rj,Mj,kj,Oj,Dj,Pj,Ij,Bj,Du,Uj,Lj,$j,zj,Fj,Vj,qj,Hj,Gj,Wj,Kj,Qj,Yj,Xj,Zj,Jj,eN,tN,rN,nN,sN,oN,iN,aN,lN,Cs,rm,pd,cN,uN,dN,fN,hN,pN,mN,gN,yN,bN,xN,l0,$A=on(()=>{Ie(),Ue(),Be(),es=[],oi=!1,Bl=-1,LA.prototype.run=function(){this.fun.apply(null,this.array)},yj="browser",bj="x64",xj="browser",vj={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},wj=["/usr/bin/node"],Sj=[],jj="v16.8.0",Nj={},_j=function(e,t){console.warn((t?t+": ":"")+e)},Ej=function(e){a0("binding")},Aj=function(e){return 0},Tj=function(){return"/"},Cj=function(e){},Rj={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},Mj=Dr,kj=[],Oj={},Dj=!1,Pj={},Ij=Dr,Bj=Dr,Du=function(){return{}},Uj=Du,Lj=Du,$j=Dr,zj=Dr,Fj=Dr,Vj={},qj={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},Hj=Dr,Gj=Dr,Wj=Dr,Kj=Dr,Qj=Dr,Yj=Dr,Xj=Dr,Zj=void 0,Jj=void 0,eN=void 0,tN=Dr,rN=2,nN=1,sN="/bin/usr/node",oN=9229,iN="node",aN=[],lN=Dr,Cs={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},Cs.now===void 0&&(rm=Date.now(),Cs.timing&&Cs.timing.navigationStart&&(rm=Cs.timing.navigationStart),Cs.now=()=>Date.now()-rm),pd=1e9,tm.bigint=function(e){var t=tm(e);return typeof BigInt>"u"?t[0]*pd+t[1]:BigInt(t[0]*pd)+BigInt(t[1])},cN=10,uN={},dN=0,fN=ho,hN=ho,pN=ho,mN=ho,gN=ho,yN=Dr,bN=ho,xN=ho,l0={version:jj,versions:Nj,arch:bj,platform:xj,release:Rj,_rawDebug:Mj,moduleLoadList:kj,binding:Ej,_linkedBinding:EL,_events:uN,_eventsCount:dN,_maxListeners:cN,on:ho,addListener:fN,once:hN,off:pN,removeListener:mN,removeAllListeners:gN,emit:yN,prependListener:bN,prependOnceListener:xN,listeners:OL,domain:Oj,_exiting:Dj,config:Pj,dlopen:AL,uptime:kL,_getActiveRequests:TL,_getActiveHandles:CL,reallyExit:Ij,_kill:Bj,cpuUsage:Du,resourceUsage:Uj,memoryUsage:Lj,kill:$j,exit:zj,openStdin:Fj,allowedNodeEnvironmentFlags:Vj,assert:RL,features:qj,_fatalExceptions:Hj,setUncaughtExceptionCaptureCallback:Gj,hasUncaughtExceptionCaptureCallback:ML,emitWarning:_j,nextTick:_L,_tickCallback:Wj,_debugProcess:Kj,_debugEnd:Qj,_startProfilerIdleNotifier:Yj,_stopProfilerIdleNotifier:Xj,stdout:Zj,stdin:eN,stderr:Jj,abort:tN,umask:Aj,chdir:Cj,cwd:Tj,env:vj,title:yj,argv:wj,execArgv:Sj,pid:rN,ppid:nN,execPath:sN,debugPort:oN,hrtime:tm,argv0:iN,_preload_modules:aN,setSourceMapsEnabled:lN}});function DL(){if(Ry)return md;Ry=!0;var e=l0;function t(a){if(typeof a!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(a))}function s(a,c){for(var u="",f=0,h=-1,m=0,g,b=0;b<=a.length;++b){if(b<a.length)g=a.charCodeAt(b);else{if(g===47)break;g=47}if(g===47){if(!(h===b-1||m===1))if(h!==b-1&&m===2){if(u.length<2||f!==2||u.charCodeAt(u.length-1)!==46||u.charCodeAt(u.length-2)!==46){if(u.length>2){var j=u.lastIndexOf("/");if(j!==u.length-1){j===-1?(u="",f=0):(u=u.slice(0,j),f=u.length-1-u.lastIndexOf("/")),h=b,m=0;continue}}else if(u.length===2||u.length===1){u="",f=0,h=b,m=0;continue}}c&&(u.length>0?u+="/..":u="..",f=2)}else u.length>0?u+="/"+a.slice(h+1,b):u=a.slice(h+1,b),f=b-h-1;h=b,m=0}else g===46&&m!==-1?++m:m=-1}return u}function o(a,c){var u=c.dir||c.root,f=c.base||(c.name||"")+(c.ext||"");return u?u===c.root?u+f:u+a+f:f}var i={resolve:function(){for(var a="",c=!1,u,f=arguments.length-1;f>=-1&&!c;f--){var h;f>=0?h=arguments[f]:(u===void 0&&(u=e.cwd()),h=u),t(h),h.length!==0&&(a=h+"/"+a,c=h.charCodeAt(0)===47)}return a=s(a,!c),c?a.length>0?"/"+a:"/":a.length>0?a:"."},normalize:function(a){if(t(a),a.length===0)return".";var c=a.charCodeAt(0)===47,u=a.charCodeAt(a.length-1)===47;return a=s(a,!c),a.length===0&&!c&&(a="."),a.length>0&&u&&(a+="/"),c?"/"+a:a},isAbsolute:function(a){return t(a),a.length>0&&a.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var a,c=0;c<arguments.length;++c){var u=arguments[c];t(u),u.length>0&&(a===void 0?a=u:a+="/"+u)}return a===void 0?".":i.normalize(a)},relative:function(a,c){if(t(a),t(c),a===c||(a=i.resolve(a),c=i.resolve(c),a===c))return"";for(var u=1;u<a.length&&a.charCodeAt(u)===47;++u);for(var f=a.length,h=f-u,m=1;m<c.length&&c.charCodeAt(m)===47;++m);for(var g=c.length,b=g-m,j=h<b?h:b,y=-1,w=0;w<=j;++w){if(w===j){if(b>j){if(c.charCodeAt(m+w)===47)return c.slice(m+w+1);if(w===0)return c.slice(m+w)}else h>j&&(a.charCodeAt(u+w)===47?y=w:w===0&&(y=0));break}var v=a.charCodeAt(u+w),N=c.charCodeAt(m+w);if(v!==N)break;v===47&&(y=w)}var S="";for(w=u+y+1;w<=f;++w)(w===f||a.charCodeAt(w)===47)&&(S.length===0?S+="..":S+="/..");return S.length>0?S+c.slice(m+y):(m+=y,c.charCodeAt(m)===47&&++m,c.slice(m))},_makeLong:function(a){return a},dirname:function(a){if(t(a),a.length===0)return".";for(var c=a.charCodeAt(0),u=c===47,f=-1,h=!0,m=a.length-1;m>=1;--m)if(c=a.charCodeAt(m),c===47){if(!h){f=m;break}}else h=!1;return f===-1?u?"/":".":u&&f===1?"//":a.slice(0,f)},basename:function(a,c){if(c!==void 0&&typeof c!="string")throw new TypeError('"ext" argument must be a string');t(a);var u=0,f=-1,h=!0,m;if(c!==void 0&&c.length>0&&c.length<=a.length){if(c.length===a.length&&c===a)return"";var g=c.length-1,b=-1;for(m=a.length-1;m>=0;--m){var j=a.charCodeAt(m);if(j===47){if(!h){u=m+1;break}}else b===-1&&(h=!1,b=m+1),g>=0&&(j===c.charCodeAt(g)?--g===-1&&(f=m):(g=-1,f=b))}return u===f?f=b:f===-1&&(f=a.length),a.slice(u,f)}else{for(m=a.length-1;m>=0;--m)if(a.charCodeAt(m)===47){if(!h){u=m+1;break}}else f===-1&&(h=!1,f=m+1);return f===-1?"":a.slice(u,f)}},extname:function(a){t(a);for(var c=-1,u=0,f=-1,h=!0,m=0,g=a.length-1;g>=0;--g){var b=a.charCodeAt(g);if(b===47){if(!h){u=g+1;break}continue}f===-1&&(h=!1,f=g+1),b===46?c===-1?c=g:m!==1&&(m=1):c!==-1&&(m=-1)}return c===-1||f===-1||m===0||m===1&&c===f-1&&c===u+1?"":a.slice(c,f)},format:function(a){if(a===null||typeof a!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof a);return o("/",a)},parse:function(a){t(a);var c={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return c;var u=a.charCodeAt(0),f=u===47,h;f?(c.root="/",h=1):h=0;for(var m=-1,g=0,b=-1,j=!0,y=a.length-1,w=0;y>=h;--y){if(u=a.charCodeAt(y),u===47){if(!j){g=y+1;break}continue}b===-1&&(j=!1,b=y+1),u===46?m===-1?m=y:w!==1&&(w=1):m!==-1&&(w=-1)}return m===-1||b===-1||w===0||w===1&&m===b-1&&m===g+1?b!==-1&&(g===0&&f?c.base=c.name=a.slice(1,b):c.base=c.name=a.slice(g,b)):(g===0&&f?(c.name=a.slice(1,m),c.base=a.slice(1,b)):(c.name=a.slice(g,m),c.base=a.slice(g,b)),c.ext=a.slice(m,b)),g>0?c.dir=a.slice(0,g-1):f&&(c.dir="/"),c},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,md=i,md}var md,Ry,My,PL=on(()=>{Ie(),Ue(),Be(),$A(),md={},Ry=!1,My=DL()}),zA={};Ea(zA,{URL:()=>XA,Url:()=>GA,default:()=>Pr,fileURLToPath:()=>VA,format:()=>WA,parse:()=>YA,pathToFileURL:()=>qA,resolve:()=>KA,resolveObject:()=>QA});function IL(){if(ky)return gd;ky=!0;var e=typeof Map=="function"&&Map.prototype,t=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,s=e&&t&&typeof t.get=="function"?t.get:null,o=e&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,a=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=i&&a&&typeof a.get=="function"?a.get:null,u=i&&Set.prototype.forEach,f=typeof WeakMap=="function"&&WeakMap.prototype,h=f?WeakMap.prototype.has:null,m=typeof WeakSet=="function"&&WeakSet.prototype,g=m?WeakSet.prototype.has:null,b=typeof WeakRef=="function"&&WeakRef.prototype,j=b?WeakRef.prototype.deref:null,y=Boolean.prototype.valueOf,w=Object.prototype.toString,v=Function.prototype.toString,N=String.prototype.match,S=String.prototype.slice,_=String.prototype.replace,M=String.prototype.toUpperCase,A=String.prototype.toLowerCase,C=RegExp.prototype.test,R=Array.prototype.concat,k=Array.prototype.join,U=Array.prototype.slice,L=Math.floor,te=typeof BigInt=="function"?BigInt.prototype.valueOf:null,V=Object.getOwnPropertySymbols,ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,H=typeof Symbol=="function"&&typeof Symbol.iterator=="object",re=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===H||!0)?Symbol.toStringTag:null,$=Object.prototype.propertyIsEnumerable,K=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(xe){return xe.__proto__}:null);function X(xe,_e){if(xe===1/0||xe===-1/0||xe!==xe||xe&&xe>-1e3&&xe<1e3||C.call(/e/,_e))return _e;var Xe=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof xe=="number"){var Ye=xe<0?-L(-xe):L(xe);if(Ye!==xe){var ot=String(Ye),ut=S.call(_e,ot.length+1);return _.call(ot,Xe,"$&_")+"."+_.call(_.call(ut,/([0-9]{3})/g,"$&_"),/_$/,"")}}return _.call(_e,Xe,"$&_")}var ne=HA,G=ne.custom,B=ve(G)?G:null;gd=function xe(_e,Xe,Ye,ot){var ut=Xe||{};if(Te(ut,"quoteStyle")&&ut.quoteStyle!=="single"&&ut.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Te(ut,"maxStringLength")&&(typeof ut.maxStringLength=="number"?ut.maxStringLength<0&&ut.maxStringLength!==1/0:ut.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var er=Te(ut,"customInspect")?ut.customInspect:!0;if(typeof er!="boolean"&&er!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Te(ut,"indent")&&ut.indent!==null&&ut.indent!=="	"&&!(parseInt(ut.indent,10)===ut.indent&&ut.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Te(ut,"numericSeparator")&&typeof ut.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var jr=ut.numericSeparator;if(typeof _e>"u")return"undefined";if(_e===null)return"null";if(typeof _e=="boolean")return _e?"true":"false";if(typeof _e=="string")return ae(_e,ut);if(typeof _e=="number"){if(_e===0)return 1/0/_e>0?"0":"-0";var Ht=String(_e);return jr?X(_e,Ht):Ht}if(typeof _e=="bigint"){var yr=String(_e)+"n";return jr?X(_e,yr):yr}var Nr=typeof ut.depth>"u"?5:ut.depth;if(typeof Ye>"u"&&(Ye=0),Ye>=Nr&&Nr>0&&typeof _e=="object")return pe(_e)?"[Array]":"[Object]";var nt=ge(ut,Ye);if(typeof ot>"u")ot=[];else if(se(ot,_e)>=0)return"[Circular]";function gt(Wr,Hn,ss){if(Hn&&(ot=U.call(ot),ot.push(Hn)),ss){var an={depth:ut.depth};return Te(ut,"quoteStyle")&&(an.quoteStyle=ut.quoteStyle),xe(Wr,an,Ye+1,ot)}return xe(Wr,ut,Ye+1,ot)}if(typeof _e=="function"&&!Ee(_e)){var Gt=Y(_e),Wt=$e(_e,gt);return"[Function"+(Gt?": "+Gt:" (anonymous)")+"]"+(Wt.length>0?" { "+k.call(Wt,", ")+" }":"")}if(ve(_e)){var qr=H?_.call(String(_e),/^(Symbol\(.*\))_[^)]*$/,"$1"):ie.call(_e);return typeof _e=="object"&&!H?T(qr):qr}if(ue(_e)){for(var oe="<"+A.call(String(_e.nodeName)),fe=_e.attributes||[],We=0;We<fe.length;We++)oe+=" "+fe[We].name+"="+z(Z(fe[We].value),"double",ut);return oe+=">",_e.childNodes&&_e.childNodes.length&&(oe+="..."),oe+="</"+A.call(String(_e.nodeName))+">",oe}if(pe(_e)){if(_e.length===0)return"[]";var Ke=$e(_e,gt);return nt&&!me(Ke)?"["+Ae(Ke,nt)+"]":"[ "+k.call(Ke,", ")+" ]"}if(de(_e)){var Qe=$e(_e,gt);return!("cause"in Error.prototype)&&"cause"in _e&&!$.call(_e,"cause")?"{ ["+String(_e)+"] "+k.call(R.call("[cause]: "+gt(_e.cause),Qe),", ")+" }":Qe.length===0?"["+String(_e)+"]":"{ ["+String(_e)+"] "+k.call(Qe,", ")+" }"}if(typeof _e=="object"&&er){if(B&&typeof _e[B]=="function"&&ne)return ne(_e,{depth:Nr-Ye});if(er!=="symbol"&&typeof _e.inspect=="function")return _e.inspect()}if(q(_e)){var Pt=[];return o&&o.call(_e,function(Wr,Hn){Pt.push(gt(Hn,_e,!0)+" => "+gt(Wr,_e))}),F("Map",s.call(_e),Pt,nt)}if(Q(_e)){var kt=[];return u&&u.call(_e,function(Wr){kt.push(gt(Wr,_e))}),F("Set",c.call(_e),kt,nt)}if(I(_e))return D("WeakMap");if(W(_e))return D("WeakSet");if(ee(_e))return D("WeakRef");if(Se(_e))return T(gt(Number(_e)));if(we(_e))return T(gt(te.call(_e)));if(be(_e))return T(y.call(_e));if(le(_e))return T(gt(String(_e)));if(typeof window<"u"&&_e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&_e===globalThis||typeof yd<"u"&&_e===yd)return"{ [object globalThis] }";if(!he(_e)&&!Ee(_e)){var Ur=$e(_e,gt),zs=K?K(_e)===Object.prototype:_e instanceof Object||_e.constructor===Object,Hr=_e instanceof Object?"":"null prototype",Kt=!zs&&re&&Object(_e)===_e&&re in _e?S.call(ce(_e),8,-1):Hr?"Object":"",fr=zs||typeof _e.constructor!="function"?"":_e.constructor.name?_e.constructor.name+" ":"",Gr=fr+(Kt||Hr?"["+k.call(R.call([],Kt||[],Hr||[]),": ")+"] ":"");return Ur.length===0?Gr+"{}":nt?Gr+"{"+Ae(Ur,nt)+"}":Gr+"{ "+k.call(Ur,", ")+" }"}return String(_e)};function z(xe,_e,Xe){var Ye=(Xe.quoteStyle||_e)==="double"?'"':"'";return Ye+xe+Ye}function Z(xe){return _.call(String(xe),/"/g,"&quot;")}function pe(xe){return ce(xe)==="[object Array]"&&(!re||!(typeof xe=="object"&&re in xe))}function he(xe){return ce(xe)==="[object Date]"&&(!re||!(typeof xe=="object"&&re in xe))}function Ee(xe){return ce(xe)==="[object RegExp]"&&(!re||!(typeof xe=="object"&&re in xe))}function de(xe){return ce(xe)==="[object Error]"&&(!re||!(typeof xe=="object"&&re in xe))}function le(xe){return ce(xe)==="[object String]"&&(!re||!(typeof xe=="object"&&re in xe))}function Se(xe){return ce(xe)==="[object Number]"&&(!re||!(typeof xe=="object"&&re in xe))}function be(xe){return ce(xe)==="[object Boolean]"&&(!re||!(typeof xe=="object"&&re in xe))}function ve(xe){if(H)return xe&&typeof xe=="object"&&xe instanceof Symbol;if(typeof xe=="symbol")return!0;if(!xe||typeof xe!="object"||!ie)return!1;try{return ie.call(xe),!0}catch{}return!1}function we(xe){if(!xe||typeof xe!="object"||!te)return!1;try{return te.call(xe),!0}catch{}return!1}var Pe=Object.prototype.hasOwnProperty||function(xe){return xe in(this||yd)};function Te(xe,_e){return Pe.call(xe,_e)}function ce(xe){return w.call(xe)}function Y(xe){if(xe.name)return xe.name;var _e=N.call(v.call(xe),/^function\s*([\w$]+)/);return _e?_e[1]:null}function se(xe,_e){if(xe.indexOf)return xe.indexOf(_e);for(var Xe=0,Ye=xe.length;Xe<Ye;Xe++)if(xe[Xe]===_e)return Xe;return-1}function q(xe){if(!s||!xe||typeof xe!="object")return!1;try{s.call(xe);try{c.call(xe)}catch{return!0}return xe instanceof Map}catch{}return!1}function I(xe){if(!h||!xe||typeof xe!="object")return!1;try{h.call(xe,h);try{g.call(xe,g)}catch{return!0}return xe instanceof WeakMap}catch{}return!1}function ee(xe){if(!j||!xe||typeof xe!="object")return!1;try{return j.call(xe),!0}catch{}return!1}function Q(xe){if(!c||!xe||typeof xe!="object")return!1;try{c.call(xe);try{s.call(xe)}catch{return!0}return xe instanceof Set}catch{}return!1}function W(xe){if(!g||!xe||typeof xe!="object")return!1;try{g.call(xe,g);try{h.call(xe,h)}catch{return!0}return xe instanceof WeakSet}catch{}return!1}function ue(xe){return!xe||typeof xe!="object"?!1:typeof HTMLElement<"u"&&xe instanceof HTMLElement?!0:typeof xe.nodeName=="string"&&typeof xe.getAttribute=="function"}function ae(xe,_e){if(xe.length>_e.maxStringLength){var Xe=xe.length-_e.maxStringLength,Ye="... "+Xe+" more character"+(Xe>1?"s":"");return ae(S.call(xe,0,_e.maxStringLength),_e)+Ye}var ot=_.call(_.call(xe,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Me);return z(ot,"single",_e)}function Me(xe){var _e=xe.charCodeAt(0),Xe={8:"b",9:"t",10:"n",12:"f",13:"r"}[_e];return Xe?"\\"+Xe:"\\x"+(_e<16?"0":"")+M.call(_e.toString(16))}function T(xe){return"Object("+xe+")"}function D(xe){return xe+" { ? }"}function F(xe,_e,Xe,Ye){var ot=Ye?Ae(Xe,Ye):k.call(Xe,", ");return xe+" ("+_e+") {"+ot+"}"}function me(xe){for(var _e=0;_e<xe.length;_e++)if(se(xe[_e],`
`)>=0)return!1;return!0}function ge(xe,_e){var Xe;if(xe.indent==="	")Xe="	";else if(typeof xe.indent=="number"&&xe.indent>0)Xe=k.call(Array(xe.indent+1)," ");else return null;return{base:Xe,prev:k.call(Array(_e+1),Xe)}}function Ae(xe,_e){if(xe.length===0)return"";var Xe=`
`+_e.prev+_e.base;return Xe+k.call(xe,","+Xe)+`
`+_e.prev}function $e(xe,_e){var Xe=pe(xe),Ye=[];if(Xe){Ye.length=xe.length;for(var ot=0;ot<xe.length;ot++)Ye[ot]=Te(xe,ot)?_e(xe[ot],xe):""}var ut=typeof V=="function"?V(xe):[],er;if(H){er={};for(var jr=0;jr<ut.length;jr++)er["$"+ut[jr]]=ut[jr]}for(var Ht in xe)Te(xe,Ht)&&(Xe&&String(Number(Ht))===Ht&&Ht<xe.length||H&&er["$"+Ht]instanceof Symbol||(C.call(/[^\w$]/,Ht)?Ye.push(_e(Ht,xe)+": "+_e(xe[Ht],xe)):Ye.push(Ht+": "+_e(xe[Ht],xe))));if(typeof V=="function")for(var yr=0;yr<ut.length;yr++)$.call(xe,ut[yr])&&Ye.push("["+_e(ut[yr])+"]: "+_e(xe[ut[yr]],xe));return Ye}return gd}function BL(){if(Oy)return bd;Oy=!0;var e=Ca(),t=SL(),s=IL(),o=ac(),i=e("%WeakMap%",!0),a=e("%Map%",!0),c=t("WeakMap.prototype.get",!0),u=t("WeakMap.prototype.set",!0),f=t("WeakMap.prototype.has",!0),h=t("Map.prototype.get",!0),m=t("Map.prototype.set",!0),g=t("Map.prototype.has",!0),b=function(v,N){for(var S=v,_;(_=S.next)!==null;S=_)if(_.key===N)return S.next=_.next,_.next=v.next,v.next=_,_},j=function(v,N){var S=b(v,N);return S&&S.value},y=function(v,N,S){var _=b(v,N);_?_.value=S:v.next={key:N,next:v.next,value:S}},w=function(v,N){return!!b(v,N)};return bd=function(){var v,N,S,_={assert:function(M){if(!_.has(M))throw new o("Side channel does not contain "+s(M))},get:function(M){if(i&&M&&(typeof M=="object"||typeof M=="function")){if(v)return c(v,M)}else if(a){if(N)return h(N,M)}else if(S)return j(S,M)},has:function(M){if(i&&M&&(typeof M=="object"||typeof M=="function")){if(v)return f(v,M)}else if(a){if(N)return g(N,M)}else if(S)return w(S,M);return!1},set:function(M,A){i&&M&&(typeof M=="object"||typeof M=="function")?(v||(v=new i),u(v,M,A)):a?(N||(N=new a),m(N,M,A)):(S||(S={key:{},next:null}),y(S,M,A))}};return _},bd}function c0(){if(Dy)return xd;Dy=!0;var e=String.prototype.replace,t=/%20/g,s={RFC1738:"RFC1738",RFC3986:"RFC3986"};return xd={default:s.RFC3986,formatters:{RFC1738:function(o){return e.call(o,t,"+")},RFC3986:function(o){return String(o)}},RFC1738:s.RFC1738,RFC3986:s.RFC3986},xd}function FA(){if(Py)return vd;Py=!0;var e=c0(),t=Object.prototype.hasOwnProperty,s=Array.isArray,o=(function(){for(var v=[],N=0;N<256;++N)v.push("%"+((N<16?"0":"")+N.toString(16)).toUpperCase());return v})(),i=function(v){for(;v.length>1;){var N=v.pop(),S=N.obj[N.prop];if(s(S)){for(var _=[],M=0;M<S.length;++M)typeof S[M]<"u"&&_.push(S[M]);N.obj[N.prop]=_}}},a=function(v,N){for(var S=N&&N.plainObjects?Object.create(null):{},_=0;_<v.length;++_)typeof v[_]<"u"&&(S[_]=v[_]);return S},c=function v(N,S,_){if(!S)return N;if(typeof S!="object"){if(s(N))N.push(S);else if(N&&typeof N=="object")(_&&(_.plainObjects||_.allowPrototypes)||!t.call(Object.prototype,S))&&(N[S]=!0);else return[N,S];return N}if(!N||typeof N!="object")return[N].concat(S);var M=N;return s(N)&&!s(S)&&(M=a(N,_)),s(N)&&s(S)?(S.forEach(function(A,C){if(t.call(N,C)){var R=N[C];R&&typeof R=="object"&&A&&typeof A=="object"?N[C]=v(R,A,_):N.push(A)}else N[C]=A}),N):Object.keys(S).reduce(function(A,C){var R=S[C];return t.call(A,C)?A[C]=v(A[C],R,_):A[C]=R,A},M)},u=function(v,N){return Object.keys(N).reduce(function(S,_){return S[_]=N[_],S},v)},f=function(v,N,S){var _=v.replace(/\+/g," ");if(S==="iso-8859-1")return _.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(_)}catch{return _}},h=1024,m=function(v,N,S,_,M){if(v.length===0)return v;var A=v;if(typeof v=="symbol"?A=Symbol.prototype.toString.call(v):typeof v!="string"&&(A=String(v)),S==="iso-8859-1")return escape(A).replace(/%u[0-9a-f]{4}/gi,function(V){return"%26%23"+parseInt(V.slice(2),16)+"%3B"});for(var C="",R=0;R<A.length;R+=h){for(var k=A.length>=h?A.slice(R,R+h):A,U=[],L=0;L<k.length;++L){var te=k.charCodeAt(L);if(te===45||te===46||te===95||te===126||te>=48&&te<=57||te>=65&&te<=90||te>=97&&te<=122||M===e.RFC1738&&(te===40||te===41)){U[U.length]=k.charAt(L);continue}if(te<128){U[U.length]=o[te];continue}if(te<2048){U[U.length]=o[192|te>>6]+o[128|te&63];continue}if(te<55296||te>=57344){U[U.length]=o[224|te>>12]+o[128|te>>6&63]+o[128|te&63];continue}L+=1,te=65536+((te&1023)<<10|k.charCodeAt(L)&1023),U[U.length]=o[240|te>>18]+o[128|te>>12&63]+o[128|te>>6&63]+o[128|te&63]}C+=U.join("")}return C},g=function(v){for(var N=[{obj:{o:v},prop:"o"}],S=[],_=0;_<N.length;++_)for(var M=N[_],A=M.obj[M.prop],C=Object.keys(A),R=0;R<C.length;++R){var k=C[R],U=A[k];typeof U=="object"&&U!==null&&S.indexOf(U)===-1&&(N.push({obj:A,prop:k}),S.push(U))}return i(N),v},b=function(v){return Object.prototype.toString.call(v)==="[object RegExp]"},j=function(v){return!v||typeof v!="object"?!1:!!(v.constructor&&v.constructor.isBuffer&&v.constructor.isBuffer(v))},y=function(v,N){return[].concat(v,N)},w=function(v,N){if(s(v)){for(var S=[],_=0;_<v.length;_+=1)S.push(N(v[_]));return S}return N(v)};return vd={arrayToObject:a,assign:u,combine:y,compact:g,decode:f,encode:m,isBuffer:j,isRegExp:b,maybeMap:w,merge:c},vd}function UL(){if(Iy)return wd;Iy=!0;var e=BL(),t=FA(),s=c0(),o=Object.prototype.hasOwnProperty,i={brackets:function(w){return w+"[]"},comma:"comma",indices:function(w,v){return w+"["+v+"]"},repeat:function(w){return w}},a=Array.isArray,c=Array.prototype.push,u=function(w,v){c.apply(w,a(v)?v:[v])},f=Date.prototype.toISOString,h=s.default,m={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:t.encode,encodeValuesOnly:!1,format:h,formatter:s.formatters[h],indices:!1,serializeDate:function(w){return f.call(w)},skipNulls:!1,strictNullHandling:!1},g=function(w){return typeof w=="string"||typeof w=="number"||typeof w=="boolean"||typeof w=="symbol"||typeof w=="bigint"},b={},j=function w(v,N,S,_,M,A,C,R,k,U,L,te,V,ie,H,re,$,K){for(var X=v,ne=K,G=0,B=!1;(ne=ne.get(b))!==void 0&&!B;){var z=ne.get(v);if(G+=1,typeof z<"u"){if(z===G)throw new RangeError("Cyclic object value");B=!0}typeof ne.get(b)>"u"&&(G=0)}if(typeof U=="function"?X=U(N,X):X instanceof Date?X=V(X):S==="comma"&&a(X)&&(X=t.maybeMap(X,function(ce){return ce instanceof Date?V(ce):ce})),X===null){if(A)return k&&!re?k(N,m.encoder,$,"key",ie):N;X=""}if(g(X)||t.isBuffer(X)){if(k){var Z=re?N:k(N,m.encoder,$,"key",ie);return[H(Z)+"="+H(k(X,m.encoder,$,"value",ie))]}return[H(N)+"="+H(String(X))]}var pe=[];if(typeof X>"u")return pe;var he;if(S==="comma"&&a(X))re&&k&&(X=t.maybeMap(X,k)),he=[{value:X.length>0?X.join(",")||null:void 0}];else if(a(U))he=U;else{var Ee=Object.keys(X);he=L?Ee.sort(L):Ee}var de=R?N.replace(/\./g,"%2E"):N,le=_&&a(X)&&X.length===1?de+"[]":de;if(M&&a(X)&&X.length===0)return le+"[]";for(var Se=0;Se<he.length;++Se){var be=he[Se],ve=typeof be=="object"&&typeof be.value<"u"?be.value:X[be];if(!(C&&ve===null)){var we=te&&R?be.replace(/\./g,"%2E"):be,Pe=a(X)?typeof S=="function"?S(le,we):le:le+(te?"."+we:"["+we+"]");K.set(v,G);var Te=e();Te.set(b,K),u(pe,w(ve,Pe,S,_,M,A,C,R,S==="comma"&&re&&a(X)?null:k,U,L,te,V,ie,H,re,$,Te))}}return pe},y=function(w){if(!w)return m;if(typeof w.allowEmptyArrays<"u"&&typeof w.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof w.encodeDotInKeys<"u"&&typeof w.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(w.encoder!==null&&typeof w.encoder<"u"&&typeof w.encoder!="function")throw new TypeError("Encoder has to be a function.");var v=w.charset||m.charset;if(typeof w.charset<"u"&&w.charset!=="utf-8"&&w.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var N=s.default;if(typeof w.format<"u"){if(!o.call(s.formatters,w.format))throw new TypeError("Unknown format option provided.");N=w.format}var S=s.formatters[N],_=m.filter;(typeof w.filter=="function"||a(w.filter))&&(_=w.filter);var M;if(w.arrayFormat in i?M=w.arrayFormat:"indices"in w?M=w.indices?"indices":"repeat":M=m.arrayFormat,"commaRoundTrip"in w&&typeof w.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var A=typeof w.allowDots>"u"?w.encodeDotInKeys===!0?!0:m.allowDots:!!w.allowDots;return{addQueryPrefix:typeof w.addQueryPrefix=="boolean"?w.addQueryPrefix:m.addQueryPrefix,allowDots:A,allowEmptyArrays:typeof w.allowEmptyArrays=="boolean"?!!w.allowEmptyArrays:m.allowEmptyArrays,arrayFormat:M,charset:v,charsetSentinel:typeof w.charsetSentinel=="boolean"?w.charsetSentinel:m.charsetSentinel,commaRoundTrip:w.commaRoundTrip,delimiter:typeof w.delimiter>"u"?m.delimiter:w.delimiter,encode:typeof w.encode=="boolean"?w.encode:m.encode,encodeDotInKeys:typeof w.encodeDotInKeys=="boolean"?w.encodeDotInKeys:m.encodeDotInKeys,encoder:typeof w.encoder=="function"?w.encoder:m.encoder,encodeValuesOnly:typeof w.encodeValuesOnly=="boolean"?w.encodeValuesOnly:m.encodeValuesOnly,filter:_,format:N,formatter:S,serializeDate:typeof w.serializeDate=="function"?w.serializeDate:m.serializeDate,skipNulls:typeof w.skipNulls=="boolean"?w.skipNulls:m.skipNulls,sort:typeof w.sort=="function"?w.sort:null,strictNullHandling:typeof w.strictNullHandling=="boolean"?w.strictNullHandling:m.strictNullHandling}};return wd=function(w,v){var N=w,S=y(v),_,M;typeof S.filter=="function"?(M=S.filter,N=M("",N)):a(S.filter)&&(M=S.filter,_=M);var A=[];if(typeof N!="object"||N===null)return"";var C=i[S.arrayFormat],R=C==="comma"&&S.commaRoundTrip;_||(_=Object.keys(N)),S.sort&&_.sort(S.sort);for(var k=e(),U=0;U<_.length;++U){var L=_[U];S.skipNulls&&N[L]===null||u(A,j(N[L],L,C,R,S.allowEmptyArrays,S.strictNullHandling,S.skipNulls,S.encodeDotInKeys,S.encode?S.encoder:null,S.filter,S.sort,S.allowDots,S.serializeDate,S.format,S.formatter,S.encodeValuesOnly,S.charset,k))}var te=A.join(S.delimiter),V=S.addQueryPrefix===!0?"?":"";return S.charsetSentinel&&(S.charset==="iso-8859-1"?V+="utf8=%26%2310003%3B&":V+="utf8=%E2%9C%93&"),te.length>0?V+te:""},wd}function LL(){if(By)return Sd;By=!0;var e=FA(),t=Object.prototype.hasOwnProperty,s=Array.isArray,o={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:e.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},i=function(b){return b.replace(/&#(\d+);/g,function(j,y){return String.fromCharCode(parseInt(y,10))})},a=function(b,j){return b&&typeof b=="string"&&j.comma&&b.indexOf(",")>-1?b.split(","):b},c="utf8=%26%2310003%3B",u="utf8=%E2%9C%93",f=function(b,j){var y={__proto__:null},w=j.ignoreQueryPrefix?b.replace(/^\?/,""):b;w=w.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var v=j.parameterLimit===1/0?void 0:j.parameterLimit,N=w.split(j.delimiter,v),S=-1,_,M=j.charset;if(j.charsetSentinel)for(_=0;_<N.length;++_)N[_].indexOf("utf8=")===0&&(N[_]===u?M="utf-8":N[_]===c&&(M="iso-8859-1"),S=_,_=N.length);for(_=0;_<N.length;++_)if(_!==S){var A=N[_],C=A.indexOf("]="),R=C===-1?A.indexOf("="):C+1,k,U;R===-1?(k=j.decoder(A,o.decoder,M,"key"),U=j.strictNullHandling?null:""):(k=j.decoder(A.slice(0,R),o.decoder,M,"key"),U=e.maybeMap(a(A.slice(R+1),j),function(te){return j.decoder(te,o.decoder,M,"value")})),U&&j.interpretNumericEntities&&M==="iso-8859-1"&&(U=i(U)),A.indexOf("[]=")>-1&&(U=s(U)?[U]:U);var L=t.call(y,k);L&&j.duplicates==="combine"?y[k]=e.combine(y[k],U):(!L||j.duplicates==="last")&&(y[k]=U)}return y},h=function(b,j,y,w){for(var v=w?j:a(j,y),N=b.length-1;N>=0;--N){var S,_=b[N];if(_==="[]"&&y.parseArrays)S=y.allowEmptyArrays&&(v===""||y.strictNullHandling&&v===null)?[]:[].concat(v);else{S=y.plainObjects?Object.create(null):{};var M=_.charAt(0)==="["&&_.charAt(_.length-1)==="]"?_.slice(1,-1):_,A=y.decodeDotInKeys?M.replace(/%2E/g,"."):M,C=parseInt(A,10);!y.parseArrays&&A===""?S={0:v}:!isNaN(C)&&_!==A&&String(C)===A&&C>=0&&y.parseArrays&&C<=y.arrayLimit?(S=[],S[C]=v):A!=="__proto__"&&(S[A]=v)}v=S}return v},m=function(b,j,y,w){if(b){var v=y.allowDots?b.replace(/\.([^.[]+)/g,"[$1]"):b,N=/(\[[^[\]]*])/,S=/(\[[^[\]]*])/g,_=y.depth>0&&N.exec(v),M=_?v.slice(0,_.index):v,A=[];if(M){if(!y.plainObjects&&t.call(Object.prototype,M)&&!y.allowPrototypes)return;A.push(M)}for(var C=0;y.depth>0&&(_=S.exec(v))!==null&&C<y.depth;){if(C+=1,!y.plainObjects&&t.call(Object.prototype,_[1].slice(1,-1))&&!y.allowPrototypes)return;A.push(_[1])}if(_){if(y.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+y.depth+" and strictDepth is true");A.push("["+v.slice(_.index)+"]")}return h(A,j,y,w)}},g=function(b){if(!b)return o;if(typeof b.allowEmptyArrays<"u"&&typeof b.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof b.decodeDotInKeys<"u"&&typeof b.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(b.decoder!==null&&typeof b.decoder<"u"&&typeof b.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof b.charset<"u"&&b.charset!=="utf-8"&&b.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var j=typeof b.charset>"u"?o.charset:b.charset,y=typeof b.duplicates>"u"?o.duplicates:b.duplicates;if(y!=="combine"&&y!=="first"&&y!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var w=typeof b.allowDots>"u"?b.decodeDotInKeys===!0?!0:o.allowDots:!!b.allowDots;return{allowDots:w,allowEmptyArrays:typeof b.allowEmptyArrays=="boolean"?!!b.allowEmptyArrays:o.allowEmptyArrays,allowPrototypes:typeof b.allowPrototypes=="boolean"?b.allowPrototypes:o.allowPrototypes,allowSparse:typeof b.allowSparse=="boolean"?b.allowSparse:o.allowSparse,arrayLimit:typeof b.arrayLimit=="number"?b.arrayLimit:o.arrayLimit,charset:j,charsetSentinel:typeof b.charsetSentinel=="boolean"?b.charsetSentinel:o.charsetSentinel,comma:typeof b.comma=="boolean"?b.comma:o.comma,decodeDotInKeys:typeof b.decodeDotInKeys=="boolean"?b.decodeDotInKeys:o.decodeDotInKeys,decoder:typeof b.decoder=="function"?b.decoder:o.decoder,delimiter:typeof b.delimiter=="string"||e.isRegExp(b.delimiter)?b.delimiter:o.delimiter,depth:typeof b.depth=="number"||b.depth===!1?+b.depth:o.depth,duplicates:y,ignoreQueryPrefix:b.ignoreQueryPrefix===!0,interpretNumericEntities:typeof b.interpretNumericEntities=="boolean"?b.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:typeof b.parameterLimit=="number"?b.parameterLimit:o.parameterLimit,parseArrays:b.parseArrays!==!1,plainObjects:typeof b.plainObjects=="boolean"?b.plainObjects:o.plainObjects,strictDepth:typeof b.strictDepth=="boolean"?!!b.strictDepth:o.strictDepth,strictNullHandling:typeof b.strictNullHandling=="boolean"?b.strictNullHandling:o.strictNullHandling}};return Sd=function(b,j){var y=g(j);if(b===""||b===null||typeof b>"u")return y.plainObjects?Object.create(null):{};for(var w=typeof b=="string"?f(b,y):b,v=y.plainObjects?Object.create(null):{},N=Object.keys(w),S=0;S<N.length;++S){var _=N[S],M=m(_,w[_],y,typeof b=="string");v=e.merge(v,M,y)}return y.allowSparse===!0?v:e.compact(v)},Sd}function $L(){if(Uy)return jd;Uy=!0;var e=UL(),t=LL(),s=c0();return jd={formats:s,parse:t,stringify:e},jd}function zL(){if(Ly)return yo;Ly=!0;var e=go;function t(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var s=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,i=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,a=["<",">",'"',"`"," ","\r",`
`,"	"],c=["{","}","|","\\","^","`"].concat(a),u=["'"].concat(c),f=["%","/","?",";","#"].concat(u),h=["/","?","#"],m=255,g=/^[+a-z0-9A-Z_-]{0,63}$/,b=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,j={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},w={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=$L();function N(A,C,R){if(A&&typeof A=="object"&&A instanceof t)return A;var k=new t;return k.parse(A,C,R),k}t.prototype.parse=function(A,C,R){if(typeof A!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof A);var k=A.indexOf("?"),U=k!==-1&&k<A.indexOf("#")?"?":"#",L=A.split(U),te=/\\/g;L[0]=L[0].replace(te,"/"),A=L.join(U);var V=A;if(V=V.trim(),!R&&A.split("#").length===1){var ie=i.exec(V);if(ie)return this.path=V,this.href=V,this.pathname=ie[1],ie[2]?(this.search=ie[2],C?this.query=v.parse(this.search.substr(1)):this.query=this.search.substr(1)):C&&(this.search="",this.query={}),this}var H=s.exec(V);if(H){H=H[0];var re=H.toLowerCase();this.protocol=re,V=V.substr(H.length)}if(R||H||V.match(/^\/\/[^@/]+@[^@/]+/)){var $=V.substr(0,2)==="//";$&&!(H&&y[H])&&(V=V.substr(2),this.slashes=!0)}if(!y[H]&&($||H&&!w[H])){for(var K=-1,X=0;X<h.length;X++){var ne=V.indexOf(h[X]);ne!==-1&&(K===-1||ne<K)&&(K=ne)}var G,B;K===-1?B=V.lastIndexOf("@"):B=V.lastIndexOf("@",K),B!==-1&&(G=V.slice(0,B),V=V.slice(B+1),this.auth=decodeURIComponent(G)),K=-1;for(var X=0;X<f.length;X++){var ne=V.indexOf(f[X]);ne!==-1&&(K===-1||ne<K)&&(K=ne)}K===-1&&(K=V.length),this.host=V.slice(0,K),V=V.slice(K),this.parseHost(),this.hostname=this.hostname||"";var z=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!z)for(var Z=this.hostname.split(/\./),X=0,pe=Z.length;X<pe;X++){var he=Z[X];if(he&&!he.match(g)){for(var Ee="",de=0,le=he.length;de<le;de++)he.charCodeAt(de)>127?Ee+="x":Ee+=he[de];if(!Ee.match(g)){var Se=Z.slice(0,X),be=Z.slice(X+1),ve=he.match(b);ve&&(Se.push(ve[1]),be.unshift(ve[2])),be.length&&(V="/"+be.join(".")+V),this.hostname=Se.join(".");break}}}this.hostname.length>m?this.hostname="":this.hostname=this.hostname.toLowerCase(),z||(this.hostname=e.toASCII(this.hostname));var we=this.port?":"+this.port:"",Pe=this.hostname||"";this.host=Pe+we,this.href+=this.host,z&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),V[0]!=="/"&&(V="/"+V))}if(!j[re])for(var X=0,pe=u.length;X<pe;X++){var Te=u[X];if(V.indexOf(Te)!==-1){var ce=encodeURIComponent(Te);ce===Te&&(ce=escape(Te)),V=V.split(Te).join(ce)}}var Y=V.indexOf("#");Y!==-1&&(this.hash=V.substr(Y),V=V.slice(0,Y));var se=V.indexOf("?");if(se!==-1?(this.search=V.substr(se),this.query=V.substr(se+1),C&&(this.query=v.parse(this.query)),V=V.slice(0,se)):C&&(this.search="",this.query={}),V&&(this.pathname=V),w[re]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var we=this.pathname||"",q=this.search||"";this.path=we+q}return this.href=this.format(),this};function S(A){return typeof A=="string"&&(A=N(A)),A instanceof t?A.format():t.prototype.format.call(A)}t.prototype.format=function(){var A=this.auth||"";A&&(A=encodeURIComponent(A),A=A.replace(/%3A/i,":"),A+="@");var C=this.protocol||"",R=this.pathname||"",k=this.hash||"",U=!1,L="";this.host?U=A+this.host:this.hostname&&(U=A+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(U+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(L=v.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var te=this.search||L&&"?"+L||"";return C&&C.substr(-1)!==":"&&(C+=":"),this.slashes||(!C||w[C])&&U!==!1?(U="//"+(U||""),R&&R.charAt(0)!=="/"&&(R="/"+R)):U||(U=""),k&&k.charAt(0)!=="#"&&(k="#"+k),te&&te.charAt(0)!=="?"&&(te="?"+te),R=R.replace(/[?#]/g,function(V){return encodeURIComponent(V)}),te=te.replace("#","%23"),C+U+R+te+k};function _(A,C){return N(A,!1,!0).resolve(C)}t.prototype.resolve=function(A){return this.resolveObject(N(A,!1,!0)).format()};function M(A,C){return A?N(A,!1,!0).resolveObject(C):C}return t.prototype.resolveObject=function(A){if(typeof A=="string"){var C=new t;C.parse(A,!1,!0),A=C}for(var R=new t,k=Object.keys(this),U=0;U<k.length;U++){var L=k[U];R[L]=this[L]}if(R.hash=A.hash,A.href==="")return R.href=R.format(),R;if(A.slashes&&!A.protocol){for(var te=Object.keys(A),V=0;V<te.length;V++){var ie=te[V];ie!=="protocol"&&(R[ie]=A[ie])}return w[R.protocol]&&R.hostname&&!R.pathname&&(R.pathname="/",R.path=R.pathname),R.href=R.format(),R}if(A.protocol&&A.protocol!==R.protocol){if(!w[A.protocol]){for(var H=Object.keys(A),re=0;re<H.length;re++){var $=H[re];R[$]=A[$]}return R.href=R.format(),R}if(R.protocol=A.protocol,!A.host&&!y[A.protocol]){for(var pe=(A.pathname||"").split("/");pe.length&&!(A.host=pe.shift()););A.host||(A.host=""),A.hostname||(A.hostname=""),pe[0]!==""&&pe.unshift(""),pe.length<2&&pe.unshift(""),R.pathname=pe.join("/")}else R.pathname=A.pathname;if(R.search=A.search,R.query=A.query,R.host=A.host||"",R.auth=A.auth,R.hostname=A.hostname||A.host,R.port=A.port,R.pathname||R.search){var K=R.pathname||"",X=R.search||"";R.path=K+X}return R.slashes=R.slashes||A.slashes,R.href=R.format(),R}var ne=R.pathname&&R.pathname.charAt(0)==="/",G=A.host||A.pathname&&A.pathname.charAt(0)==="/",B=G||ne||R.host&&A.pathname,z=B,Z=R.pathname&&R.pathname.split("/")||[],pe=A.pathname&&A.pathname.split("/")||[],he=R.protocol&&!w[R.protocol];if(he&&(R.hostname="",R.port=null,R.host&&(Z[0]===""?Z[0]=R.host:Z.unshift(R.host)),R.host="",A.protocol&&(A.hostname=null,A.port=null,A.host&&(pe[0]===""?pe[0]=A.host:pe.unshift(A.host)),A.host=null),B=B&&(pe[0]===""||Z[0]==="")),G)R.host=A.host||A.host===""?A.host:R.host,R.hostname=A.hostname||A.hostname===""?A.hostname:R.hostname,R.search=A.search,R.query=A.query,Z=pe;else if(pe.length)Z||(Z=[]),Z.pop(),Z=Z.concat(pe),R.search=A.search,R.query=A.query;else if(A.search!=null){if(he){R.host=Z.shift(),R.hostname=R.host;var Ee=R.host&&R.host.indexOf("@")>0?R.host.split("@"):!1;Ee&&(R.auth=Ee.shift(),R.hostname=Ee.shift(),R.host=R.hostname)}return R.search=A.search,R.query=A.query,(R.pathname!==null||R.search!==null)&&(R.path=(R.pathname?R.pathname:"")+(R.search?R.search:"")),R.href=R.format(),R}if(!Z.length)return R.pathname=null,R.search?R.path="/"+R.search:R.path=null,R.href=R.format(),R;for(var de=Z.slice(-1)[0],le=(R.host||A.host||Z.length>1)&&(de==="."||de==="..")||de==="",Se=0,be=Z.length;be>=0;be--)de=Z[be],de==="."?Z.splice(be,1):de===".."?(Z.splice(be,1),Se++):Se&&(Z.splice(be,1),Se--);if(!B&&!z)for(;Se--;Se)Z.unshift("..");B&&Z[0]!==""&&(!Z[0]||Z[0].charAt(0)!=="/")&&Z.unshift(""),le&&Z.join("/").substr(-1)!=="/"&&Z.push("");var ve=Z[0]===""||Z[0]&&Z[0].charAt(0)==="/";if(he){R.hostname=ve?"":Z.length?Z.shift():"",R.host=R.hostname;var Ee=R.host&&R.host.indexOf("@")>0?R.host.split("@"):!1;Ee&&(R.auth=Ee.shift(),R.hostname=Ee.shift(),R.host=R.hostname)}return B=B||R.host&&Z.length,B&&!ve&&Z.unshift(""),Z.length>0?R.pathname=Z.join("/"):(R.pathname=null,R.path=null),(R.pathname!==null||R.search!==null)&&(R.path=(R.pathname?R.pathname:"")+(R.search?R.search:"")),R.auth=A.auth||R.auth,R.slashes=R.slashes||A.slashes,R.href=R.format(),R},t.prototype.parseHost=function(){var A=this.host,C=o.exec(A);C&&(C=C[0],C!==":"&&(this.port=C.substr(1)),A=A.substr(0,A.length-C.length)),A&&(this.hostname=A)},yo.parse=N,yo.resolve=_,yo.resolveObject=M,yo.format=S,yo.Url=t,yo}function VA(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Bd?FL(e):VL(e)}function FL(e){let t=e.hostname,s=e.pathname;for(let o=0;o<s.length;o++)if(s[o]==="%"){let i=s.codePointAt(o+2)||32;if(s[o+1]==="2"&&i===102||s[o+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(s=s.replace(rT,"\\"),s=decodeURIComponent(s),t!=="")return`\\\\${t}${s}`;{let o=s.codePointAt(1)|32,i=s[2];if(o<eT||o>tT||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return s.slice(1)}}function VL(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let t=e.pathname;for(let s=0;s<t.length;s++)if(t[s]==="%"){let o=t.codePointAt(s+2)||32;if(t[s+1]==="2"&&o===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function qA(e){let t=My.resolve(e),s=e.charCodeAt(e.length-1);(s===JA||Bd&&s===ZA)&&t[t.length-1]!==My.sep&&(t+="/");let o=new URL("file://");return t.includes("%")&&(t=t.replace(nT,"%25")),!Bd&&t.includes("\\")&&(t=t.replace(sT,"%5C")),t.includes(`
`)&&(t=t.replace(oT,"%0A")),t.includes("\r")&&(t=t.replace(iT,"%0D")),t.includes("	")&&(t=t.replace(aT,"%09")),o.pathname=t,o}var HA,gd,ky,yd,bd,Oy,xd,Dy,vd,Py,wd,Iy,Sd,By,jd,Uy,yo,Ly,Pr,vN,GA,WA,KA,QA,YA,XA,ZA,JA,eT,tT,Bd,rT,nT,sT,oT,iT,aT,qL=on(()=>{Ie(),Ue(),Be(),aL(),jL(),PL(),$A(),HA=Object.freeze(Object.create(null)),gd={},ky=!1,yd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,bd={},Oy=!1,xd={},Dy=!1,vd={},Py=!1,wd={},Iy=!1,Sd={},By=!1,jd={},Uy=!1,yo={},Ly=!1,Pr=zL(),Pr.parse,Pr.resolve,Pr.resolveObject,Pr.format,Pr.Url,vN=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Pr.URL=typeof URL<"u"?URL:null,Pr.pathToFileURL=qA,Pr.fileURLToPath=VA,GA=Pr.Url,WA=Pr.format,KA=Pr.resolve,QA=Pr.resolveObject,YA=Pr.parse,XA=Pr.URL,ZA=92,JA=47,eT=97,tT=122,Bd=vN==="win32",rT=/\//g,nT=/%/g,sT=/\\/g,oT=/\n/g,iT=/\r/g,aT=/\t/g}),HL=ze((e,t)=>{Ie(),Ue(),Be(),t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),u0=ze(e=>{Ie(),Ue(),Be(),Object.defineProperty(e,"__esModule",{value:!0}),e.BufferedDuplex=void 0,e.writev=o;var t=hi(),s=(Sr(),Mt(wr));function o(a,c){let u=new Array(a.length);for(let f=0;f<a.length;f++)typeof a[f].chunk=="string"?u[f]=s.Buffer.from(a[f].chunk,"utf8"):u[f]=a[f].chunk;this._write(s.Buffer.concat(u),"binary",c)}var i=class extends t.Duplex{socket;proxy;isSocketOpen;writeQueue;constructor(a,c,u){super({objectMode:!0}),this.proxy=c,this.socket=u,this.writeQueue=[],a.objectMode||(this._writev=o.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",f=>{!this.destroyed&&this.readable&&this.push(f)})}_read(a){this.proxy.read(a)}_write(a,c,u){this.isSocketOpen?this.writeToProxy(a,c,u):this.writeQueue.push({chunk:a,encoding:c,cb:u})}_final(a){this.writeQueue=[],this.proxy.end(a)}_destroy(a,c){this.writeQueue=[],this.proxy.destroy(),c(a)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(a,c,u){this.proxy.write(a,c)===!1?this.proxy.once("drain",u):u()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:a,encoding:c,cb:u}=this.writeQueue.shift();this.writeToProxy(a,c,u)}}};e.BufferedDuplex=i}),Pu=ze(e=>{Ie(),Ue(),Be();var t=e&&e.__importDefault||function(N){return N&&N.__esModule?N:{default:N}};Object.defineProperty(e,"__esModule",{value:!0}),e.streamBuilder=e.browserStreamBuilder=void 0;var s=(Sr(),Mt(wr)),o=t(HL()),i=t(Is()),a=hi(),c=t(cf()),u=u0(),f=(0,i.default)("mqttjs:ws"),h=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function m(N,S){let _=`${N.protocol}://${N.hostname}:${N.port}${N.path}`;return typeof N.transformWsUrl=="function"&&(_=N.transformWsUrl(_,N,S)),_}function g(N){let S=N;return N.port||(N.protocol==="wss"?S.port=443:S.port=80),N.path||(S.path="/"),N.wsOptions||(S.wsOptions={}),!c.default&&!N.forceNativeWebSocket&&N.protocol==="wss"&&h.forEach(_=>{Object.prototype.hasOwnProperty.call(N,_)&&!Object.prototype.hasOwnProperty.call(N.wsOptions,_)&&(S.wsOptions[_]=N[_])}),S}function b(N){let S=g(N);if(S.hostname||(S.hostname=S.host),!S.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let _=new URL(document.URL);S.hostname=_.hostname,S.port||(S.port=Number(_.port))}return S.objectMode===void 0&&(S.objectMode=!(S.binary===!0||S.binary===void 0)),S}function j(N,S,_){f("createWebSocket"),f(`protocol: ${_.protocolId} ${_.protocolVersion}`);let M=_.protocolId==="MQIsdp"&&_.protocolVersion===3?"mqttv3.1":"mqtt";f(`creating new Websocket for url: ${S} and protocol: ${M}`);let A;return _.createWebsocket?A=_.createWebsocket(S,[M],_):A=new o.default(S,[M],_.wsOptions),A}function y(N,S){let _=S.protocolId==="MQIsdp"&&S.protocolVersion===3?"mqttv3.1":"mqtt",M=m(S,N),A;return S.createWebsocket?A=S.createWebsocket(M,[_],S):A=new WebSocket(M,[_]),A.binaryType="arraybuffer",A}var w=(N,S)=>{f("streamBuilder");let _=g(S);_.hostname=_.hostname||_.host||"localhost";let M=m(_,N),A=j(N,M,_),C=o.default.createWebSocketStream(A,_.wsOptions);return C.url=M,A.on("close",()=>{C.destroy()}),C};e.streamBuilder=w;var v=(N,S)=>{f("browserStreamBuilder");let _,M=b(S).browserBufferSize||1024*512,A=S.browserBufferTimeout||1e3,C=!S.objectMode,R=y(N,S),k=L(S,re,$);S.objectMode||(k._writev=u.writev.bind(k)),k.on("close",()=>{R.close()});let U=typeof R.addEventListener<"u";R.readyState===R.OPEN?(_=k,_.socket=R):(_=new u.BufferedDuplex(S,k,R),U?R.addEventListener("open",te):R.onopen=te),U?(R.addEventListener("close",V),R.addEventListener("error",ie),R.addEventListener("message",H)):(R.onclose=V,R.onerror=ie,R.onmessage=H);function L(K,X,ne){let G=new a.Transform({objectMode:K.objectMode});return G._write=X,G._flush=ne,G}function te(){f("WebSocket onOpen"),_ instanceof u.BufferedDuplex&&_.socketReady()}function V(K){f("WebSocket onClose",K),_.end(),_.destroy()}function ie(K){f("WebSocket onError",K);let X=new Error("WebSocket error");X.event=K,_.destroy(X)}async function H(K){if(!k||!k.readable||!k.writable)return;let{data:X}=K;X instanceof ArrayBuffer?X=s.Buffer.from(X):X instanceof Blob?X=s.Buffer.from(await new Response(X).arrayBuffer()):X=s.Buffer.from(X,"utf8"),k.push(X)}function re(K,X,ne){if(R.bufferedAmount>M){setTimeout(re,A,K,X,ne);return}C&&typeof K=="string"&&(K=s.Buffer.from(K,"utf8"));try{R.send(K)}catch(G){return ne(G)}ne()}function $(K){R.close(),K()}return _};e.browserStreamBuilder=v}),d0={};Ea(d0,{Server:()=>zt,Socket:()=>zt,Stream:()=>zt,_createServerHandle:()=>zt,_normalizeArgs:()=>zt,_setSimultaneousAccepts:()=>zt,connect:()=>zt,createConnection:()=>zt,createServer:()=>zt,default:()=>lT,isIP:()=>zt,isIPv4:()=>zt,isIPv6:()=>zt});function zt(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var lT,cT=on(()=>{Ie(),Ue(),Be(),lT={_createServerHandle:zt,_normalizeArgs:zt,_setSimultaneousAccepts:zt,connect:zt,createConnection:zt,createServer:zt,isIP:zt,isIPv4:zt,isIPv6:zt,Server:zt,Socket:zt,Stream:zt}}),uT=ze((e,t)=>{Ie(),Ue(),Be(),t.exports={}}),wN=ze(e=>{Ie(),Ue(),Be();var t=e&&e.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0});var s=t((cT(),Mt(d0))),o=t(Is()),i=t(uT()),a=(0,o.default)("mqttjs:tcp"),c=(u,f)=>{if(f.port=f.port||1883,f.hostname=f.hostname||f.host||"localhost",f.socksProxy)return(0,i.default)(f.hostname,f.port,f.socksProxy,{timeout:f.socksTimeout});let{port:h,path:m}=f,g=f.hostname;return a("port %d and host %s",h,g),s.default.createConnection({port:h,host:g,path:m})};e.default=c}),dT={};Ea(dT,{default:()=>fT});var fT,GL=on(()=>{Ie(),Ue(),Be(),fT={}}),SN=ze(e=>{Ie(),Ue(),Be();var t=e&&e.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0});var s=(GL(),Mt(dT)),o=t((cT(),Mt(d0))),i=t(Is()),a=t(uT()),c=(0,i.default)("mqttjs:tls");function u(h){let{host:m,port:g,socksProxy:b,...j}=h;if(b!==void 0){let y=(0,a.default)(m,g,b,{timeout:h.socksTimeout});return(0,s.connect)({...j,socket:y})}return(0,s.connect)(h)}var f=(h,m)=>{m.port=m.port||8883,m.host=m.hostname||m.host||"localhost",o.default.isIP(m.host)===0&&(m.servername=m.host),m.rejectUnauthorized=m.rejectUnauthorized!==!1,delete m.path,c("port %d host %s rejectUnauthorized %b",m.port,m.host,m.rejectUnauthorized);let g=u(m);g.on("secureConnect",()=>{m.rejectUnauthorized&&!g.authorized?g.emit("error",new Error("TLS not authorized")):g.removeListener("error",b)});function b(j){m.rejectUnauthorized&&h.emit("error",j),g.end()}return g.on("error",b),g};e.default=f}),jN=ze(e=>{Ie(),Ue(),Be(),Object.defineProperty(e,"__esModule",{value:!0});var t=(Sr(),Mt(wr)),s=hi(),o=u0(),i,a,c;function u(){let b=new s.Transform;return b._write=(j,y,w)=>{i.send({data:j.buffer,success(){w()},fail(v){w(new Error(v))}})},b._flush=j=>{i.close({success(){j()}})},b}function f(b){b.hostname||(b.hostname="localhost"),b.path||(b.path="/"),b.wsOptions||(b.wsOptions={})}function h(b,j){let y=b.protocol==="wxs"?"wss":"ws",w=`${y}://${b.hostname}${b.path}`;return b.port&&b.port!==80&&b.port!==443&&(w=`${y}://${b.hostname}:${b.port}${b.path}`),typeof b.transformWsUrl=="function"&&(w=b.transformWsUrl(w,b,j)),w}function m(){i.onOpen(()=>{c.socketReady()}),i.onMessage(b=>{let{data:j}=b;j instanceof ArrayBuffer?j=t.Buffer.from(j):j=t.Buffer.from(j,"utf8"),a.push(j)}),i.onClose(()=>{c.emit("close"),c.end(),c.destroy()}),i.onError(b=>{let j=new Error(b.errMsg);c.destroy(j)})}var g=(b,j)=>{if(j.hostname=j.hostname||j.host,!j.hostname)throw new Error("Could not determine host. Specify host manually.");let y=j.protocolId==="MQIsdp"&&j.protocolVersion===3?"mqttv3.1":"mqtt";f(j);let w=h(j,b);i=wx.connectSocket({url:w,protocols:[y]}),a=u(),c=new o.BufferedDuplex(j,a,i),c._destroy=(N,S)=>{i.close({success(){S&&S(N)}})};let v=c.destroy;return c.destroy=(N,S)=>(c.destroy=v,setTimeout(()=>{i.close({fail(){c._destroy(N,S)}})},0),c),m(),c};e.default=g}),NN=ze(e=>{Ie(),Ue(),Be(),Object.defineProperty(e,"__esModule",{value:!0});var t=(Sr(),Mt(wr)),s=hi(),o=u0(),i,a,c,u=!1;function f(){let j=new s.Transform;return j._write=(y,w,v)=>{i.sendSocketMessage({data:y.buffer,success(){v()},fail(){v(new Error)}})},j._flush=y=>{i.closeSocket({success(){y()}})},j}function h(j){j.hostname||(j.hostname="localhost"),j.path||(j.path="/"),j.wsOptions||(j.wsOptions={})}function m(j,y){let w=j.protocol==="alis"?"wss":"ws",v=`${w}://${j.hostname}${j.path}`;return j.port&&j.port!==80&&j.port!==443&&(v=`${w}://${j.hostname}:${j.port}${j.path}`),typeof j.transformWsUrl=="function"&&(v=j.transformWsUrl(v,j,y)),v}function g(){u||(u=!0,i.onSocketOpen(()=>{c.socketReady()}),i.onSocketMessage(j=>{if(typeof j.data=="string"){let y=t.Buffer.from(j.data,"base64");a.push(y)}else{let y=new FileReader;y.addEventListener("load",()=>{if(y.result instanceof ArrayBuffer){a.push(t.Buffer.from(y.result));return}a.push(t.Buffer.from(y.result,"utf-8"))}),y.readAsArrayBuffer(j.data)}}),i.onSocketClose(()=>{c.end(),c.destroy()}),i.onSocketError(j=>{c.destroy(j)}))}var b=(j,y)=>{if(y.hostname=y.hostname||y.host,!y.hostname)throw new Error("Could not determine host. Specify host manually.");let w=y.protocolId==="MQIsdp"&&y.protocolVersion===3?"mqttv3.1":"mqtt";h(y);let v=m(y,j);return i=y.my,i.connectSocket({url:v,protocols:w}),a=f(),c=new o.BufferedDuplex(y,a,i),g(),c};e.default=b}),WL=ze(e=>{Ie(),Ue(),Be();var t=e&&e.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(e,"__esModule",{value:!0}),e.connectAsync=m;var s=t(Is()),o=t((qL(),Mt(zA))),i=t(Zg()),a=t(cf());typeof It?.nextTick!="function"&&(It.nextTick=setImmediate);var c=(0,s.default)("mqttjs"),u=null;function f(g){let b;if(g.auth)if(b=g.auth.match(/^(.+):(.+)$/),b){let[,j,y]=b;g.username=j,g.password=y}else g.username=g.auth}function h(g,b){if(c("connecting to an MQTT broker..."),typeof g=="object"&&!b&&(b=g,g=""),b=b||{},g&&typeof g=="string"){let w=o.default.parse(g,!0),v={};if(w.port!=null&&(v.port=Number(w.port)),v.host=w.hostname,v.query=w.query,v.auth=w.auth,v.protocol=w.protocol,v.path=w.path,b={...v,...b},!b.protocol)throw new Error("Missing protocol");b.protocol=b.protocol.replace(/:$/,"")}if(b.unixSocket=b.unixSocket||b.protocol?.includes("+unix"),b.unixSocket?b.protocol=b.protocol.replace("+unix",""):!b.protocol?.startsWith("ws")&&!b.protocol?.startsWith("wx")&&delete b.path,f(b),b.query&&typeof b.query.clientId=="string"&&(b.clientId=b.query.clientId),a.default||b.unixSocket?b.socksProxy=void 0:b.socksProxy===void 0&&typeof It<"u"&&(b.socksProxy=It.env.MQTTJS_SOCKS_PROXY),b.cert&&b.key)if(b.protocol){if(["mqtts","wss","wxs","alis"].indexOf(b.protocol)===-1)switch(b.protocol){case"mqtt":b.protocol="mqtts";break;case"ws":b.protocol="wss";break;case"wx":b.protocol="wxs";break;case"ali":b.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${b.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(u||(u={},!a.default&&!b.forceNativeWebSocket?(u.ws=Pu().streamBuilder,u.wss=Pu().streamBuilder,u.mqtt=wN().default,u.tcp=wN().default,u.ssl=SN().default,u.tls=u.ssl,u.mqtts=SN().default):(u.ws=Pu().browserStreamBuilder,u.wss=Pu().browserStreamBuilder,u.wx=jN().default,u.wxs=jN().default,u.ali=NN().default,u.alis=NN().default)),!u[b.protocol]){let w=["mqtts","wss"].indexOf(b.protocol)!==-1;b.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((v,N)=>w&&N%2===0?!1:typeof u[v]=="function")[0]}if(b.clean===!1&&!b.clientId)throw new Error("Missing clientId for unclean clients");b.protocol&&(b.defaultProtocol=b.protocol);function j(w){return b.servers&&((!w._reconnectCount||w._reconnectCount===b.servers.length)&&(w._reconnectCount=0),b.host=b.servers[w._reconnectCount].host,b.port=b.servers[w._reconnectCount].port,b.protocol=b.servers[w._reconnectCount].protocol?b.servers[w._reconnectCount].protocol:b.defaultProtocol,b.hostname=b.host,w._reconnectCount++),c("calling streambuilder for",b.protocol),u[b.protocol](w,b)}let y=new i.default(j,b);return y.on("error",()=>{}),y}function m(g,b,j=!0){return new Promise((y,w)=>{let v=h(g,b),N={connect:_=>{S(),y(v)},end:()=>{S(),y(v)},error:_=>{S(),v.end(),w(_)}};j===!1&&(N.close=()=>{N.error(new Error("Couldn't connect to server"))});function S(){Object.keys(N).forEach(_=>{v.off(_,N[_])})}Object.keys(N).forEach(_=>{v.on(_,N[_])})})}e.default=h}),_N=ze(e=>{Ie(),Ue(),Be();var t=e&&e.__createBinding||(Object.create?function(j,y,w,v){v===void 0&&(v=w);var N=Object.getOwnPropertyDescriptor(y,w);(!N||("get"in N?!y.__esModule:N.writable||N.configurable))&&(N={enumerable:!0,get:function(){return y[w]}}),Object.defineProperty(j,v,N)}:function(j,y,w,v){v===void 0&&(v=w),j[v]=y[w]}),s=e&&e.__setModuleDefault||(Object.create?function(j,y){Object.defineProperty(j,"default",{enumerable:!0,value:y})}:function(j,y){j.default=y}),o=e&&e.__importStar||(function(){var j=function(y){return j=Object.getOwnPropertyNames||function(w){var v=[];for(var N in w)Object.prototype.hasOwnProperty.call(w,N)&&(v[v.length]=N);return v},j(y)};return function(y){if(y&&y.__esModule)return y;var w={};if(y!=null)for(var v=j(y),N=0;N<v.length;N++)v[N]!=="default"&&t(w,y,v[N]);return s(w,y),w}})(),i=e&&e.__exportStar||function(j,y){for(var w in j)w!=="default"&&!Object.prototype.hasOwnProperty.call(y,w)&&t(y,j,w)},a=e&&e.__importDefault||function(j){return j&&j.__esModule?j:{default:j}};Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=e.KeepaliveManager=e.UniqueMessageIdProvider=e.DefaultMessageIdProvider=e.Store=e.MqttClient=e.connectAsync=e.connect=e.Client=void 0;var c=a(Zg());e.MqttClient=c.default;var u=a(TA());e.DefaultMessageIdProvider=u.default;var f=a(oL());e.UniqueMessageIdProvider=f.default;var h=a(dA());e.Store=h.default;var m=o(WL());e.connect=m.default,Object.defineProperty(e,"connectAsync",{enumerable:!0,get:function(){return m.connectAsync}});var g=a(PA());e.KeepaliveManager=g.default,e.Client=c.default,i(Zg(),e),i(Ta(),e);var b=af();Object.defineProperty(e,"ReasonCodes",{enumerable:!0,get:function(){return b.ReasonCodes}})}),KL=ze(e=>{Ie(),Ue(),Be();var t=e&&e.__createBinding||(Object.create?function(c,u,f,h){h===void 0&&(h=f);var m=Object.getOwnPropertyDescriptor(u,f);(!m||("get"in m?!u.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return u[f]}}),Object.defineProperty(c,h,m)}:function(c,u,f,h){h===void 0&&(h=f),c[h]=u[f]}),s=e&&e.__setModuleDefault||(Object.create?function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}:function(c,u){c.default=u}),o=e&&e.__importStar||(function(){var c=function(u){return c=Object.getOwnPropertyNames||function(f){var h=[];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(h[h.length]=m);return h},c(u)};return function(u){if(u&&u.__esModule)return u;var f={};if(u!=null)for(var h=c(u),m=0;m<h.length;m++)h[m]!=="default"&&t(f,u,h[m]);return s(f,u),f}})(),i=e&&e.__exportStar||function(c,u){for(var f in c)f!=="default"&&!Object.prototype.hasOwnProperty.call(u,f)&&t(u,c,f)};Object.defineProperty(e,"__esModule",{value:!0});var a=o(_N());e.default=a,i(_N(),e)});const uf=KL();/*! Bundled license information:

@jspm/core/nodelibs/browser/chunk-DtuTasat.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@babel/runtime/helpers/regenerator.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE *)
*/const hT=O.createContext();function QL({children:e}){const{userRole:t,projectName:s}=ci(),[o,i]=O.useState({}),[a,c]=O.useState([]),[u,f]=O.useState([]),[h,m]=O.useState(!1),[g,b]=O.useState([]),[j,y]=O.useState([]),[w,v]=O.useState([]),N="http://localhost/robots_api/api",S=O.useRef([]),_=O.useRef([]),M=O.useRef([]),A=O.useRef({}),C=O.useRef(new Map),R=O.useRef(new Map);O.useRef(null);const k=O.useRef(new Set),U=O.useRef(t),L=O.useRef(s);O.useEffect(()=>{U.current=t,L.current=s,console.log(" Updated user info in MqttContext:",{userRole:t,projectNameFromCookie:s})},[t,s]);const te=O.useCallback(async()=>{try{console.log(" Fetching initial data from API...");const Y=await rt.get(`${N}/robots.php`),se=Array.isArray(Y.data)?Y.data:[];S.current=se,b(se),console.log(` Loaded ${se.length} robots`);try{const q=await rt.get(`${N}/projects.php`),I=Array.isArray(q.data)?q.data:[];y(I),_.current=I,console.log(` Loaded ${I.length} projects`)}catch(q){console.warn("Could not fetch projects:",q.message),y([])}try{const q=await rt.get(`${N}/users.php`),I=Array.isArray(q.data)?q.data:[];v(I),M.current=I,console.log(` Loaded ${I.length} users`)}catch(q){console.warn("Could not fetch users:",q.message),v([])}return se}catch(Y){return console.error(" Failed to fetch initial data:",Y),[]}},[N]),V=Y=>{if(!Y||!Y.Sections)return[];const se=[],q=Y.id,I=Y.RobotName||Y.robotName;return Object.entries(Y.Sections).forEach(([ee,Q])=>{Q&&Q.mqttUrl&&Q.mqttUsername&&Q.mqttPassword&&se.push({robotId:q,robotName:I,sectionName:ee,sectionData:Q,host:Q.mqttUrl.replace(/^wss?:\/\//,"").split("/")[0],port:8884,username:Q.mqttUsername,password:Q.mqttPassword,clientId:`robot-${q}-${ee}-${Date.now()}`,topicSubscribe:Q.Topic_subscribe,topicMain:Q.Topic_main,topics:[Q.Topic_subscribe]})}),se},ie=Y=>{if(!Y)return!1;const se=Y.toLowerCase(),q=["error","alert","warning","critical","fatal","fail","failed","stopped","emergency","fault","danger","issue","problem","shutdown","offline","error code","alarm","malfunction","broken"],I=["info","information","started","running","online","completed","success","ready","normal","ok","initialized","connected","active","operational"],ee=q.some(W=>se.includes(W)),Q=I.some(W=>se.includes(W));return ee&&!Q},H=(Y,se,q,I)=>{const ee=btoa(unescape(encodeURIComponent(`${Y}:${se}`)));return`${q}:${I}:${ee}`},re=(Y,se,q,I)=>{const ee=H(Y,se,q,I),Q=Date.now();if(R.current.has(ee)){const W=R.current.get(ee);if(Q-W<3e3)return!0}return!1},$=(Y,se,q,I)=>{const ee=H(Y,se,q,I);R.current.set(ee,Date.now()),setTimeout(()=>{R.current.delete(ee)},1e4)},K=(Y,se,q,I=null)=>{const ee=I?`danger-${se}-${q}-${I}`:`danger-${se}-${q}-${Y}`;return k.current.has(ee)?!0:(k.current.add(ee),setTimeout(()=>{k.current.delete(ee)},3e4),!1)},X=O.useCallback(Y=>{for(const se of S.current)if(se.Sections)for(const q in se.Sections){const I=se.Sections[q];if(I.Topic_subscribe===Y)return I.Topic_main}return Y},[]),ne=O.useCallback(Y=>{if(!S.current.length)return null;for(const se of S.current)if(se.Sections){for(const[q,I]of Object.entries(se.Sections))if(I.Topic_subscribe===Y)return{robot:se,sectionName:q,section:I,direction:"fromRobot",topicType:"subscribe"}}return null},[]),G=O.useCallback(async Y=>{try{const se=U.current,q=L.current;if(console.log(" CHECKING USER PROJECT FILTER:",{userRole:se,projectNameFromCookie:q,robotProjectId:Y?.robot?.projectId}),se!=="user")return console.log(" Admin/Dashboard user - showing all messages"),!0;if(!Y||!Y.robot)return console.log(" No robot info - cannot filter"),!1;const I=Y.robot.projectId;if(console.log(" Robot's projectId from database:",I),!I)return console.log(" Robot has no projectId assigned"),!1;if(!q)return console.log(" No project name in cookies"),!1;try{const ee=await rt.get(`${N}/projects.php`),W=(Array.isArray(ee.data)?ee.data:[]).find(Me=>{const T=Me.ProjectName||Me.projectName;return T&&T.trim()===q.trim()});if(!W)return console.log(" No matching project found for cookie name:",q),!1;const ue=W.id||W.projectId;console.log(" Found user's project ID:",ue);const ae=String(I)===String(ue);return console.log(` Project comparison: ${I} === ${ue} => ${ae}`),ae}catch(ee){return console.error(" Error fetching projects for comparison:",ee),!1}}catch(se){return console.error(" Error in shouldShowMessageToUser:",se),!1}},[N]),B=O.useCallback(async(Y,se,q,I,ee=!1,Q=null,W=null,ue=null,ae="info")=>{try{if(re(Y,se,q,I))return console.log(" Skipping duplicate message (already processed)"),null;$(Y,se,q,I);let Me;const T=new Date().toISOString().slice(0,10),D=new Date().toISOString().slice(11,19);let F=typeof se=="string"?se.trim():String(se);F.startsWith('"')&&F.endsWith('"')&&(F=F.slice(1,-1)),console.log(" PROCESSING MESSAGE (ONCE):",{topic:Y,message:F,robotId:q,sectionName:I,robotName:ue,messageType:ae}),W||(W=ne(Y));let me;if(W&&W.section&&W.section.Topic_main?me=W.section.Topic_main:me=X(Y),console.log(" Topic resolution:",{inputTopic:Y,topicMain:me,hasRobotInfo:!!W,robotName:W?.robot?.RobotName}),Me={topic_main:me,message:F,type:ae,date:T,time:D,RobotId:q||W?.robot?.id,robotName:ue||W?.robot?.RobotName||W?.robot?.robotName,sectionName:I||W?.sectionName},(Me.message.includes("voltage is critically low")||Me.message.includes("Danger Alert")||Me.message.includes(" Danger"))&&K(Me.message,Me.RobotId,Me.sectionName))return console.log(" Skipping duplicate danger message"),null;const Ae=`save-${Me.topic_main}-${Me.message}-${Me.date}-${Me.time}`;if(R.current.has(Ae))return console.log(" Skipping duplicate message save (final check)"),null;R.current.set(Ae,Date.now()),console.log(" SAVING MESSAGE (ONCE):",Me);try{const $e=await rt.post(`${N}/notifications.php`,Me);console.log(" Notification saved to database with topic_main:",Me.topic_main);try{await rt.post(`${N}/logs.php`,Me),console.log(" Log saved to database with topic_main:",Me.topic_main)}catch(_e){console.warn("Could not save to logs:",_e.message)}const xe={...Me,notificationId:$e.data.notificationId||$e.data.id||`mqtt-${Date.now()}-${Math.random().toString(16).slice(2)}`,timestamp:new Date().getTime(),isAlert:ie(Me.message),isMqtt:!0,source:"mqtt",displayMessage:`${Me.robotName||"Unknown Robot"} (${Me.sectionName||"Unknown Section"}): ${Me.message}`};return c(_e=>_e.some(ot=>ot.topic_main===xe.topic_main&&ot.message===xe.message&&ot.date===xe.date&&ot.time===xe.time)?(console.log(" Skipping duplicate notification in state"),_e):[xe,..._e].slice(0,1e3)),Me}catch($e){return console.error(" Failed to save message to database:",$e?.response?.data||$e),null}}catch(Me){return console.error(" Error in processAndSaveMessage:",Me),null}},[N,X,ne]),z=O.useCallback(async(Y,se,q)=>{try{const I=_.current.find(ue=>ue.projectId===Y||ue.id===Y);if(!I){console.log(" Project not found for email sending");return}const ee=I.ProjectName||I.projectName,Q=M.current.filter(ue=>{const ae=ue.ProjectName||ue.projectName;return ae&&ae.trim()===ee.trim()});if(Q.length===0){console.log(" No users found for project:",ee);return}const W=` Danger Alert: Robot "${se}" voltage is critically low (${q}V)!`;for(const ue of Q)if(ue.Email||ue.email){const ae=ue.Email||ue.email;try{await rt.post(`${N}/sendEmail.php`,{email:ae,message:W,subject:`Alert: Robot ${se} Low Voltage`})}catch(Me){console.error(` Failed to send email to ${ae}:`,Me)}}}catch(I){console.error(" Error in sendEmailToProjectUsers:",I)}},[N]),Z=O.useCallback(async(Y,se,q,I)=>{try{console.log(` LOW VOLTAGE ALERT: ${se}V in robot ${Y}`);const ee=`voltage-alert-${I?.robot?.id}-${se}`;if(k.current.has(ee)){console.log(" Skipping duplicate voltage alert");return}await G(I)&&qe.error(` Danger Alert: Robot "${Y}" voltage is critically low (${se}V)!`,{duration:1e4});const W=` Danger: Robot "${Y}" voltage is critically low (${se}V)!`,ue=await B(q,W,I?.robot?.id,I?.sectionName,!1,null,I,Y);if(ue&&!K(W,I?.robot?.id,I?.sectionName,se)?(console.log(" Low voltage alert saved to notifications and logs with topic_main:",ue.topic_main),k.current.add(ee),setTimeout(()=>{k.current.delete(ee)},3e4)):console.log(" Skipping duplicate voltage alert (already processed)"),I&&I.robot){const ae=I.robot.projectId;await z(ae,Y,se)}}catch(ee){console.error(" Failed to send low voltage alert:",ee)}},[N,z,G,B,K]),pe=O.useCallback(async(Y,se,q,I,ee)=>{try{const Q=`halfcycle-${Y}-${se}`;if(C.current.has(Q)){console.log(" Skipping duplicate half-cycle processing");return}C.current.set(Q,!0),setTimeout(()=>{C.current.delete(Q)},5e3),console.log(` HANDLING HALF CYCLE FINISHED for ${Y}-${se}`);let W;try{W=(await rt.get(`${N}/robots/${Y}`)).data}catch(D){console.error(" Failed to fetch robot data:",D),W=S.current.find(F=>F.id===Y)}if(!W||!W.Sections||!W.Sections[se]){console.error(" Robot or section not found");return}const ue=W.Sections[se]?.Cycles||0,ae=parseFloat(ue)+.5;console.log(` Increasing cycles: ${ue}  ${ae}`);const Me={...W.Sections,[se]:{...W.Sections[se],Cycles:ae}},T={...W,Sections:Me};try{const D=await rt.put(`${N}/robots.php/${Y}`,T);console.log(" HALF CYCLE UPDATE SUCCESS:",D.data);const F=D.data,me=S.current.findIndex(Ae=>Ae.id===Y);if(me!==-1&&(S.current[me]=F,b(Ae=>{const $e=[...Ae];return $e[me]=F,$e})),await G(ee)){const Ae=`Half cycle finished for ${W.RobotName}. Cycles: ${ae}`;await B(q,Ae,Y,se,!1,null,ee,W.RobotName),qe.success(`Half cycle finished for ${W.RobotName}. Cycles: ${ae}`)}else console.log(" Skipping half-cycle toast (user not in same project)")}catch(D){console.error(" HALF CYCLE UPDATE FAILED:",D)}}catch(Q){console.error(" Error in handleHalfCycleFinished:",Q)}},[N,G,B]),he=O.useCallback((Y,se)=>{for(const q of S.current)if(!(!q||!q.Sections))for(const I in q.Sections){const ee=q.Sections[I];if(ee&&(ee.Topic_main===Y||ee.Topic_subscribe===Y)){if(ee.ActiveBtns&&Array.isArray(ee.ActiveBtns)){for(const Q of ee.ActiveBtns)if(Q&&Q.Name&&Q.Name.toLowerCase()===se.toLowerCase()||Q&&Q.Command&&Q.Command===se)return Q.Name}return se}}return se},[]),Ee=O.useCallback(Y=>{const se={};try{const Q=JSON.parse(Y);if(Q.type&&Q.message)return{isJsonMessage:!0,type:Q.type,message:Q.message}}catch{}const q=[/voltage:\s*(\d+)/i,/voltage\s*=\s*(\d+)/i,/"voltage":\s*(\d+)/i,/volt.*?(\d+)/i];for(const Q of q){const W=Y.match(Q);if(W&&W[1]){se.voltage=parseInt(W[1]);break}}const I=[/mode:\s*([a-zA-Z]+)/i,/mode\s*=\s*([a-zA-Z]+)/i,/"mode":\s*"([a-zA-Z]+)"/i,/status:\s*([a-zA-Z]+)/i];for(const Q of I){const W=Y.match(Q);if(W&&W[1]){se.mode=W[1];break}}const ee=U.current;if(ee==="user"&&Y.includes("message_status:{cycles:"))return console.log(" Skipping cycles message_status for user"),null;if(ee!=="user"){const Q=[/cycles:\s*(\d+)/i,/cycles\s*=\s*(\d+)/i,/"cycles":\s*(\d+)/i,/cycle.*?(\d+)/i];for(const W of Q){const ue=Y.match(W);if(ue&&ue[1]){se.cycles=parseInt(ue[1]);break}}}if(Y.includes("message_status:")){const Q=Y.match(/message_status:\s*\{([^}]+)\}/i);if(Q&&Q[1]){const W=Q[1],ue=W.match(/voltage:\s*(\d+)/i),ae=W.match(/mode:\s*([a-zA-Z]+)/i);if(ue&&ue[1]&&(se.voltage=parseInt(ue[1])),ae&&ae[1]&&(se.mode=ae[1]),ee!=="user"){const Me=W.match(/cycles:\s*(\d+)/i);Me&&Me[1]&&(se.cycles=parseInt(Me[1]))}}}return Object.keys(se).length>0?se:null},[]),de=O.useCallback(async(Y,se,q)=>{try{const ee=(await rt.get(`${N}/robots/${Y}`)).data,Q=[];if(q.voltage!==void 0){const W={...ee,Sections:{...ee.Sections,[se]:{...ee.Sections[se],Voltage:q.voltage}}};Q.push(rt.put(`${N}/robots.php/${Y}`,W))}if(q.mode!==void 0){const W={...ee,Sections:{...ee.Sections,[se]:{...ee.Sections[se],Status:q.mode}}};Q.push(rt.put(`${N}/robots.php/${Y}`,W))}for(let W=0;W<Q.length;W++)await new Promise(ue=>setTimeout(ue,200)),await Q[W]}catch(I){console.error(" SEPARATE UPDATES FAILED:",I)}},[N]),le=O.useCallback(async(Y,se,q,I,ee,Q)=>{try{const ue=(await rt.get(`${N}/robots/${Y}`)).data,ae={...ue.Sections,[se]:{...ue.Sections[se],Voltage:q.voltage!==void 0?q.voltage:ue.Sections[se].Voltage,Status:q.mode!==void 0?q.mode:ue.Sections[se].Status}},Me={...ue,Sections:ae},T=await rt.put(`${N}/robots.php/${Y}`,Me);return q.voltage!==void 0&&q.voltage<15&&await Z(I,q.voltage,ee,Q),setTimeout(async()=>{await de(Y,se,q)},500),T.data}catch(W){throw await de(Y,se,q),q.voltage!==void 0&&q.voltage<15&&await Z(I,q.voltage,ee,Q),W}},[N,de,Z]),Se=O.useCallback(async()=>{if(!h)try{console.log("Fetching robots from API for MQTT connections...");const Y=await te();if(!Y.length){console.log("No robots data available yet"),m(!0);return}console.log(`Found ${Y.length} robots from API`);let se=[];const q={};if(Y.forEach(I=>{const ee=V(I);se=[...se,...ee]}),console.log(`Extracted ${se.length} MQTT connections from robots`),se.length===0){console.log("No MQTT connections found in robot data"),m(!0);return}se.forEach(I=>{try{const ee=`wss://${I.host}:${I.port}/mqtt`;console.log(`Connecting to MQTT for ${I.robotName} - ${I.sectionName}...`);const Q=uf.connect(ee,{clientId:I.clientId,username:I.username,password:I.password,clean:!0,reconnectPeriod:5e3,connectTimeout:1e4,keepalive:30});Q.on("connect",()=>{console.log(` MQTT Connected to: ${I.robotName} - ${I.sectionName}`),f(W=>[...W.filter(ae=>ae.robotId!==I.robotId||ae.sectionName!==I.sectionName),{...I,connected:!0,lastSeen:new Date().toISOString()}]),I.topicSubscribe&&Q.subscribe(I.topicSubscribe,W=>{W?console.error(`Subscribe error for ${I.robotName}:`,W):console.log(` Subscribed ONLY to Topic_subscribe: ${I.topicSubscribe} for ${I.robotName}`)})}),Q.on("message",async(W,ue)=>{try{const ae=ue.toString();if(re(W,ae,I.robotId,I.sectionName)){console.log(" Skipping duplicate message in MQTT handler");return}console.log(` MQTT Message from ${I.robotName}:`,{topic:W,message:ae,robotId:I.robotId,robotName:I.robotName,sectionName:I.sectionName});const Me=ae.toLowerCase(),T=ae.trim(),D=Me.includes("half cycle finished")||T==="Half cycle finished"||Me.includes("half-cycle finished"),F=ne(W);try{const ge=JSON.parse(ae);if(ge.type&&ge.message){console.log(" PROCESSING JSON MESSAGE WITH TYPE:",ge.type);const Ae=await B(W,ge.message,I.robotId,I.sectionName,!1,null,F,I.robotName,ge.type);if(Ae&&(console.log(" JSON message processed and saved:",Ae),await G(F))){const xe=Ae.robotName||I.robotName;ge.type.toLowerCase()==="alert"||ge.type.toLowerCase()==="error"||ge.type.toLowerCase()==="warning"?qe.error(` ${xe}`,{description:ge.message.length>100?`${ge.message.substring(0,100)}...`:ge.message,duration:8e3}):qe.info(` ${xe} (${ge.type})`,{description:ge.message.length>80?`${ge.message.substring(0,80)}...`:ge.message,duration:5e3})}return}}catch{}if(D){console.log(` HALF CYCLE FINISHED DETECTED for ${I.robotName}`),await pe(I.robotId,I.sectionName,W,I,F);return}const me=Ee(ae);if(me){console.log(" PROCESSING MESSAGE_STATUS DATA:",me);try{if(F){const{robot:ge,sectionName:Ae,section:$e}=F;await le(ge.id,Ae,me,ge.RobotName,W,F)}else console.log(" No matching robot found for topic:",W)}catch(ge){console.error(" Error processing message update:",ge)}}else{console.log(" PROCESSING NORMAL MESSAGE...");const ge=await B(W,ae,I.robotId,I.sectionName,!1,null,F,I.robotName);if(ge){console.log(" Message processed and saved (ONCE):",ge);const Ae=await G(F),$e=ae.toLowerCase().includes("schedule");if(Ae&&!(U.current==="user"&&$e)){const xe=ge.message.toLowerCase(),_e=ge.robotName||I.robotName;ge.type==="alert"||xe.includes("alert")||xe.includes("error")||xe.includes("critical")||xe.includes("warning")||xe.includes("fail")?qe.error(` ${_e}`,{description:ge.message.length>100?`${ge.message.substring(0,100)}...`:ge.message,duration:8e3}):qe.info(` ${_e}`,{description:ge.message.length>80?`${ge.message.substring(0,80)}...`:ge.message,duration:5e3})}else console.log(" Skipping toast (user not in same project or schedule message for user)")}}}catch(ae){console.error("Error processing MQTT message:",ae)}}),Q.on("error",W=>{console.error(` MQTT Error for ${I.robotName} - ${I.sectionName}:`,W),f(ue=>ue.map(ae=>ae.robotId===I.robotId&&ae.sectionName===I.sectionName?{...ae,connected:!1,error:W.message}:ae))}),Q.on("close",()=>{console.log(` MQTT Disconnected from ${I.robotName} - ${I.sectionName}`),f(W=>W.map(ue=>ue.robotId===I.robotId&&ue.sectionName===I.sectionName?{...ue,connected:!1}:ue))}),Q.on("offline",()=>{console.log(` ${I.robotName} - ${I.sectionName} is offline`),f(W=>W.map(ue=>ue.robotId===I.robotId&&ue.sectionName===I.sectionName?{...ue,connected:!1}:ue))}),q[`${I.robotId}-${I.sectionName}`]=Q,A.current[`${I.robotId}-${I.sectionName}`]=Q}catch(ee){console.error(`Failed to create MQTT connection for ${I.robotName} - ${I.sectionName}:`,ee)}}),i(q),f(se.map(I=>({...I,connected:!1}))),m(!0)}catch(Y){console.error("Failed to fetch robots from API:",Y),m(!0)}},[N,h,te,Ee,le,B,ne,pe,G]),be=O.useCallback((Y,se)=>{const q=`${Y}-${se}`,I=A.current[q];I&&(console.log(`Reconnecting ${Y}-${se}...`),I.end(),setTimeout(()=>{Se()},2e3))},[Se]),ve=O.useCallback(()=>{console.log("Reconnecting all MQTT connections..."),Object.values(A.current).forEach(Y=>{Y&&Y.end&&Y.end()}),i({}),A.current={},f([]),m(!1),setTimeout(()=>{Se()},3e3)},[Se]),we=O.useCallback((Y,se,q,I)=>{const ee=`${Y}-${se}`,Q=A.current[ee];if(!Q||!Q.connected)return console.error(`Cannot publish: No connected client for ${Y}-${se}`),!1;try{return Q.publish(q,I),console.log(` Published to ${Y}-${se}: ${q} -> ${I}`),!0}catch(W){return console.error(`Publish failed for ${Y}-${se}:`,W),!1}},[]),Pe=O.useCallback((Y,se,q,I)=>{try{console.log(" publishButtonMessage CALLED:",{robotId:Y,sectionName:se,topic:q,buttonValue:I});const ee=he(q,I),Q=ee;console.log(" SENDING FINAL MESSAGE:",Q);const W=we(Y,se,q,Q),ue=ee.toLowerCase().includes("schedule"),ae=U.current;if(W&&ae==="user"&&ue&&qe.success(`Schedule command sent successfully to ${Y}-${se}`,{duration:3e3}),W){const Me=ne(q);if(U.current==="user"?Me&&Me.robot&&Me.robot.projectId:!0){const D={topic_main:X(q),message:`Button pressed: ${ee}`,type:"info",date:new Date().toISOString().slice(0,10),time:new Date().toISOString().slice(11,19),RobotId:Y,sectionName:se,direction:"outgoing"};rt.post(`${N}/logs.php`,D).catch(F=>{console.error(" Failed to save button press log:",F)})}}return W}catch(ee){return console.error("publishButtonMessage error:",ee),!1}},[we,he,X,N]),Te=(Y,se)=>{const q=`${Y}-${se}`,I=A.current[q];return I?I.connected?"connected":"connecting":"disconnected"};O.useEffect(()=>{h||Se()},[Se,h]),O.useEffect(()=>()=>{console.log("Cleaning up all MQTT connections..."),Object.values(A.current).forEach(Y=>{if(Y&&Y.end)try{Y.end()}catch(se){console.error("Error ending client:",se)}})},[]);const ce={clients:A.current,activeConnections:u,notifications:a,reconnectAll:ve,reconnectConnection:be,publishMessage:we,publishButtonMessage:Pe,getConnectionStatus:Te,isInitialized:h,connectionCount:Object.keys(A.current).length,connectedCount:u.filter(Y=>Y.connected).length};return d.jsx(hT.Provider,{value:ce,children:e})}const df=()=>{const e=O.useContext(hT);if(!e)throw new Error("useMqtt must be used within an MqttProvider");return e},YL=async(e,t,s,o,i)=>{try{const a=uf.connect(`wss://${e}:8884/mqtt`,{username:t,password:s,clientId:`clientId-${Math.random().toString(16).substr(2,8)}`,reconnectPeriod:0});return new Promise((c,u)=>{a.on("connect",()=>{a.publish(o,i,f=>{a.end(),f?u(f):c()})}),a.on("error",f=>{a.end(),u(f)}),setTimeout(()=>{a.end(),u(new Error("MQTT connection timeout"))},1e4)})}catch(a){throw a}};function XL({scheduleButton:e,loading:t=!1}){const{id:s}=Mr(),o=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],[i,a]=O.useState({days:[],hour:"",minute:0,active:!0}),[c,u]=O.useState(!1),[f,h]=O.useState(!1),[m,g]=O.useState(null),[b,j]=O.useState(!0),y=200,w=y/2-20,v="http://localhost/robots_api/api";O.useEffect(()=>{(async()=>{if(s)try{j(!0);const G=await Dt(`${v}/robots/${s}`);g(G)}catch(G){console.error("Error fetching robot data:",G)}finally{j(!1)}})()},[s,v]);const S=(()=>{if(!m?.Sections?.car)return null;const ne=m.Sections.car;return{mqttUrl:ne.mqttUrl,mqttUsername:ne.mqttUsername,mqttPassword:ne.mqttPassword,topic:ne.Topic_main}})(),_=()=>`robot_${s}_schedule_visibility`,M=()=>{try{const ne=localStorage.getItem(_());return ne?JSON.parse(ne):!0}catch(ne){return console.error("Error loading schedule visibility:",ne),!0}};O.useEffect(()=>{if(e?.BtnName){const ne=A(e.BtnName);ne&&a({days:C(ne.daysBinary),hour:ne.hour.toString(),minute:ne.minute,active:!0})}},[e]);const A=ne=>{if(!ne)return null;try{const G=ne.split("_");return G.length<10||G[0]!=="schedule"?(console.warn("Invalid schedule format:",ne),null):{hour:parseInt(G[1]),minute:parseInt(G[2]),daysBinary:G.slice(3,10).join(""),rawData:ne}}catch(G){return console.error("Error parsing schedule:",G),null}},C=ne=>{if(!ne||ne.length!==7)return[];const G=[];for(let B=0;B<7;B++)ne[B]==="1"&&G.push(o[B]);return G},R=()=>o.map(ne=>i.days.includes(ne)?"1":"0").join("_"),k=ne=>{const G=i.days.includes(ne)?i.days.filter(B=>B!==ne):[...i.days,ne];a({...i,days:G})},U=(ne,G)=>{const B=ne.currentTarget.getBoundingClientRect(),z=B.left+B.width/2,Z=B.top+B.height/2,pe=ne.clientX-z,he=ne.clientY-Z;let Ee=Math.atan2(he,pe)*(180/Math.PI)+90;if(Ee<0&&(Ee+=360),G==="hour"){const de=Math.round(Ee/360*12)%12||12;a({...i,hour:de.toString()})}else if(G==="minute"){let de=Math.round(Ee/360*60/5)*5;de===60&&(de=0),a({...i,minute:de})}},L=ne=>{if(ne==="")return!0;const G=parseInt(ne);return!isNaN(G)&&G>=0&&G<=23},te=ne=>{const G=ne.target.value;(G===""||/^\d+$/.test(G))&&G.length<=2&&a({...i,hour:G})},V=ne=>{const G=ne.target.value;if(G&&L(G)){const B=parseInt(G);B>=0&&B<=23&&a({...i,hour:B.toString()})}else G&&!L(G)&&(qe.error("Please enter a valid hour (0-23)"),a({...i,hour:""}))},ie=async()=>{if(!i.days.length){qe.error("Please select at least one day");return}if(!i.hour||i.hour===""){qe.error("Please enter the hour");return}if(!L(i.hour)){qe.error("Please enter a valid hour (0-23)");return}try{u(!0),h(!0);const ne=parseInt(i.hour),G=String(ne).padStart(2,"0");let B=!1;if(S&&S.mqttUrl&&S.mqttUsername&&S.mqttPassword&&S.topic)try{const Z=`${G}_${String(i.minute).padStart(2,"0")}`,pe=R(),he=`schedule_${Z}_${pe}`;await YL(S.mqttUrl,S.mqttUsername,S.mqttPassword,S.topic,he),B=!0,console.log(`Schedule sent via MQTT: ${he} to topic: ${S.topic}`)}catch(Z){console.error("MQTT publish failed:",Z)}if(e?.id){const Z=o.map(Ee=>i.days.includes(Ee)?1:0),pe=`schedule_${G}_${String(i.minute).padStart(2,"0")}_${Z.join("_")}`,he={...e,BtnName:pe,Color:"#0d9488",Operation:"/start"};await rf(`${v}/buttons.php?section=car&id=${e.id}`,he)}const z=B?"Schedule sent successfully via MQTT":"Schedule sent successfully";qe.success(z)}catch(ne){console.error("Failed to save schedule:",ne),qe.error("Failed to save schedule")}finally{u(!1),h(!1)}},H=Array.from({length:12},(ne,G)=>G+1),re=Array.from({length:12},(ne,G)=>G*5);if(!M())return null;if(t||b)return d.jsxs("div",{className:"text-center py-8",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-main-color mx-auto"}),d.jsx("p",{className:"text-gray-500 mt-2",children:"Checking for schedule..."})]});const K=i.hour===""?"":i.hour,X=String(i.minute).padStart(2,"0");return d.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:[d.jsx("h4",{className:"text-md font-semibold text-main-color mb-3",children:"Schedule Settings"}),S?d.jsxs("div",{className:"mb-3 p-2 bg-green-50 rounded-lg border border-green-200",children:[d.jsxs("div",{className:"text-sm text-green-700",children:[d.jsx("strong",{children:"MQTT Connected:"})," Using car section credentials"]}),d.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Topic: ",S.topic]})]}):d.jsx("div",{className:"mb-3 p-2 bg-yellow-50 rounded-lg border border-yellow-200",children:d.jsxs("div",{className:"text-sm text-yellow-700",children:[d.jsx("strong",{children:"MQTT Not Configured:"})," No car section MQTT credentials found"]})}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:o.map(ne=>d.jsx("button",{onClick:()=>k(ne),className:`px-3 py-2 rounded-md text-sm ${i.days.includes(ne)?"bg-main-color text-white":"bg-white border border-gray-200 text-gray-700"}`,children:ne},ne))}),d.jsxs("div",{className:"flex max-md:flex-wrap gap-6 items-center",children:[d.jsxs("svg",{width:y,height:y,onClick:ne=>U(ne,"minute"),className:"cursor-pointer",children:[d.jsx("circle",{cx:y/2,cy:y/2,r:w+10,fill:"#f3f4f6",stroke:"#d1d5db",strokeWidth:"2"}),H.map(ne=>{const G=ne%12/12*2*Math.PI-Math.PI/2,B=y/2+w*.75*Math.cos(G),z=y/2+w*.75*Math.sin(G);return d.jsx("text",{x:B,y:z,textAnchor:"middle",dominantBaseline:"middle",fontSize:"12",fontWeight:"bold",onClick:Z=>U(Z,"hour"),className:"cursor-pointer select-none",children:ne},ne)}),re.map(ne=>{const G=ne/60*2*Math.PI-Math.PI/2,B=y/2+w*.9*Math.cos(G),z=y/2+w*.9*Math.sin(G),Z=y/2+w*Math.cos(G),pe=y/2+w*Math.sin(G);return d.jsx("line",{x1:B,y1:z,x2:Z,y2:pe,stroke:"#9ca3af",strokeWidth:"1"},ne)}),d.jsx("line",{x1:y/2,y1:y/2,x2:y/2+w*.5*Math.cos(parseInt(i.hour||12)%12/12*2*Math.PI-Math.PI/2),y2:y/2+w*.5*Math.sin(parseInt(i.hour||12)%12/12*2*Math.PI-Math.PI/2),stroke:"#3b82f6",strokeWidth:"4",strokeLinecap:"round"}),d.jsx("line",{x1:y/2,y1:y/2,x2:y/2+w*.8*Math.cos(i.minute/60*2*Math.PI-Math.PI/2),y2:y/2+w*.8*Math.sin(i.minute/60*2*Math.PI-Math.PI/2),stroke:"#f97316",strokeWidth:"2",strokeLinecap:"round"}),d.jsx("circle",{cx:y/2,cy:y/2,r:"4",fill:"#000"})]}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs("div",{className:"text-gray-700 font-medium",children:["Selected Time: ",K||"__",":",X,d.jsx("br",{}),d.jsx("span",{className:"text-sm text-gray-500",children:"(24-hour format, enter 0-23)"})]}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsx("label",{className:"text-sm text-gray-600",children:"Hour:"}),d.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:"2",placeholder:"00",value:i.hour,onChange:te,onBlur:V,className:"border rounded-lg p-1 w-16 text-center",title:"Enter hour (0-23)"})]}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsx("label",{className:"text-sm text-gray-600",children:"Minute:"}),d.jsx("input",{type:"number",min:"0",max:"59",step:"5",value:i.minute,onChange:ne=>{const G=Math.max(0,Math.min(59,Number(ne.target.value)));a({...i,minute:G})},className:"border rounded-lg p-1 w-16 text-center"})]}),d.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[i.hour&&!L(i.hour)&&d.jsx("span",{className:"text-red-500",children:"Please enter a valid hour (0-23)"}),i.hour&&L(i.hour)&&d.jsxs("span",{children:["Will be sent as: ",String(parseInt(i.hour)).padStart(2,"0"),":",X]})]})]})]}),d.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[d.jsxs("div",{className:"text-sm text-gray-600",children:["Current:"," ",d.jsxs("span",{className:"font-medium",children:[i.days.length?i.days.join(", "):""," @ ",K||"__",":",X]})]}),d.jsx(He,{onClick:ie,disabled:c||f||!i.days.length||!i.hour||!L(i.hour),className:"bg-second-color text-white",children:c||f?"Saving...":"Send Schedule"})]})]})}const ZL="http://localhost/robots_api/uploads",JL=e=>!e||e===""||e==="Array"||e==="null"?"/default-robot.jpg":e.startsWith("http")?e:`${ZL}/${e}`;function e8({src:e,alt:t,className:s,fallbackSrc:o}){const[i,a]=O.useState(e),[c,u]=O.useState(!1);O.useEffect(()=>{a(e),u(!1)},[e]);const f=()=>{c||(u(!0),a(o))};return d.jsx("img",{src:i,alt:t,className:s,onError:f,loading:"lazy"})}const t8=(e,t)=>{try{const s=t==="main"?`robot_${e}_button_visibility`:`robot_${e}_trolley_button_visibility`,o=localStorage.getItem(s);return o?JSON.parse(o):{}}catch(s){return console.error("Error loading button visibility:",s),{}}},EN=(e,t)=>{try{const s=t==="main"?`robot_${e}_value_visibility`:`robot_${e}_trolley_value_visibility`,o=localStorage.getItem(s);return o?JSON.parse(o):{}}catch(s){return console.error("Error loading value visibility:",s),{}}},nm=(e,t)=>{try{const s=`robot_${e}_timer_end`;localStorage.setItem(s,t.toString())}catch(s){console.error("Error saving timer end time:",s)}},r8=e=>{try{const t=`robot_${e}_timer_end`,s=localStorage.getItem(t);return s?parseInt(s,10):null}catch(t){return console.error("Error loading timer end time:",t),null}};function n8(){const{id:e}=Mr(),t=qt(),s=vr(),[o,i]=O.useState(null),[a,c]=O.useState(!0),[u,f]=O.useState({}),[h,m]=O.useState("controls"),[g,b]=O.useState("controls"),[j,y]=O.useState(!1),[w,v]=O.useState([]),[N,S]=O.useState(null),[_,M]=O.useState("24:00:00"),A=O.useRef(null),C=O.useRef(null),R="http://localhost/robots_api/api",{publishButtonMessage:k,getConnectionStatus:U}=df(),[L,te]=O.useState(null),[V,ie]=O.useState(!1),H=I=>I==="controls",re=()=>H(g)&&H(h),$=()=>{const I=o?.isTrolley==1||o?.isTrolley==="true"||o?.isTrolley===!0;return H(h)&&H(g)&&I},K=()=>H(h)&&H(g),X=()=>!H(h)||!H(g),ne=()=>H(h)?H(g)?null:"trolley":"robot",G=O.useCallback(()=>{console.log(" Publishing status messages via MQTT Context");let I=!1;const ee=o?.Sections?.main;ee?.Topic_main?(console.log(" Sending status to robot section:",ee.Topic_main),k(e,"main",ee.Topic_main,"status")?I=!0:console.log(" Failed to send status to robot")):console.log(" Robot MQTT topic not available for status message");const Q=o?.Sections?.car;Q?.Topic_main?(console.log(" Sending status to trolley section:",Q.Topic_main),k(e,"car",Q.Topic_main,"status")?I=!0:console.log(" Failed to send status to trolley")):console.log(" Trolley MQTT topic not available for status message"),I?qe.success("Status requests sent"):qe.error("No MQTT topics configured or connection failed")},[o,e,k]),B=O.useCallback(async()=>{try{console.log(" Fetching robot data for ID:",e);let I;if(s.state?.robot){if(I=await Dt(`${R}/robots/${e}`),!I)return console.warn("Robot not found in API"),null}else if(I=await Dt(`${R}/robots/${e}`),!I)return qe.error("Robot not found in API"),null;console.log(" Robot data fetched:",I),i(I);const ee=U(e,"main"),Q=U(e,"car");return console.log(" Robot MQTT Connection Status:",ee),console.log(" Trolley MQTT Connection Status:",Q),I}catch(I){return console.error(" Failed to load robot details:",I),null}},[e,s.state,R,U]),z=O.useCallback(async()=>{try{const I=await rt.get(`${R}/buttons.php`),ee={},Q=I.data||[];Q.forEach(W=>{ee[W.BtnID]=W.Color}),f(ee),v(Q),console.log(" Button colors updated")}catch(I){console.error(" Failed to load button colors:",I)}},[R]),Z=O.useCallback(async()=>{try{console.log(" Auto-refreshing all data...");const I=await B();return await z(),await he(),console.log(" All data refreshed successfully"),I}catch(I){return console.error(" Error in auto-refresh:",I),null}},[B,z]),pe=async(I=null)=>{try{ie(!0);const ee=I||o;if(!ee)return;const Q=ee?.Sections?.car;if(!Q||!Q.ActiveBtns){te(null);return}let W=[];try{Array.isArray(Q.ActiveBtns)?W=Q.ActiveBtns:typeof Q.ActiveBtns=="string"&&(W=JSON.parse(Q.ActiveBtns))}catch{W=[]}const ue=W.find(ae=>ae?.Name?.toLowerCase().includes("schedule"));if(ue&&ue.id){const ae=await Dt(`${R}/buttons/${ue.id}`);te(ae)}else te(null)}catch(ee){console.error("Error fetching schedule button:",ee),te(null)}finally{ie(!1)}};O.useEffect(()=>{o&&(o?.isTrolley==1||o?.isTrolley==="true"||o?.isTrolley===!0?pe():te(null))},[o]),O.useEffect(()=>((async()=>{try{c(!0),await B(),await z(),await he()}catch{qe.error("Failed to load robot details")}finally{c(!1)}})(),de(),()=>{C.current&&clearInterval(C.current),A.current&&clearInterval(A.current)}),[]),O.useEffect(()=>(C.current&&clearInterval(C.current),C.current=setInterval(()=>{e&&!a&&(console.log(" Auto-refreshing all robot data..."),Z())},1e4),()=>{C.current&&clearInterval(C.current)}),[e,a,Z]);const he=async()=>{try{if(o?.isTrolley==1||o?.isTrolley==="true"||o?.isTrolley===!0){const ee=await Dt(`${R}/schedule/${e}`);S(ee||{days:[],hour:8,minute:0,active:!0})}else S(null)}catch(I){console.error("Failed to load schedule data:",I),S({days:[],hour:8,minute:0,active:!0})}},Ee=async()=>{y(!0),A.current&&clearInterval(A.current),G(),await new Promise(ee=>setTimeout(ee,2e3)),await Z(),i(ee=>ee?{...ee}:null);const I=Date.now()+1440*60*1e3;nm(e,I),de(),setTimeout(()=>{y(!1)},600)},de=()=>{A.current&&clearInterval(A.current);let I=r8(e);I||(I=Date.now()+1440*60*1e3,nm(e,I));const ee=()=>{const Q=Date.now(),W=I-Q;if(W>0){const ue=Math.floor(W/1e3),ae=Math.floor(ue/3600),Me=Math.floor(ue%3600/60),T=ue%60;M(`${String(ae).padStart(2,"0")}:${String(Me).padStart(2,"0")}:${String(T).padStart(2,"0")}`)}else console.log(" 24-hour timer completed, sending automatic status messages..."),G(),setTimeout(()=>{Z()},2e3),I=Date.now()+1440*60*1e3,nm(e,I),M(`${String(24).padStart(2,"0")}:${String(0).padStart(2,"0")}:${String(0).padStart(2,"0")}`)};ee(),A.current=setInterval(ee,1e3)};O.useEffect(()=>{o&&console.log(" Robot data updated:",{robotVoltage:o.Sections?.main?.Voltage,robotStatus:o.Sections?.main?.Status,robotCycles:o.Sections?.main?.Cycles,trolleyVoltage:o.Sections?.car?.Voltage,trolleyStatus:o.Sections?.car?.Status,trolleyCycles:o.Sections?.car?.Cycles,isTrolley:o.isTrolley})},[o]);const le=I=>{const Q=o?.Sections?.main?.Topic_main;if(!Q){console.error("No topic found for robot section"),qe.error("No topic configured for robot section");return}k(e,"main",Q,I)?(qe.success(`Robot: ${I}`),setTimeout(()=>{Z()},2e3)):(console.log(`Failed to publish to robot ${Q}: ${I}`),qe.error("Failed to send command via MQTT"))},Se=I=>{const Q=o?.Sections?.car?.Topic_main;if(!Q){console.error("No topic found for trolley section"),qe.error("No topic configured for trolley section");return}k(e,"car",Q,I)?(qe.success(`Trolley: ${I}`),setTimeout(()=>{Z()},2e3)):(console.log(`Failed to publish to trolley ${Q}: ${I}`),qe.error("Failed to send command via MQTT"))},be=[{id:"controls",label:"Controls"},{id:"notifications",label:"Notifications and alerts"},{id:"logs",label:"Logs"}],ve=[{id:"controls",label:"Controls"},{id:"notifications",label:"Notifications and alerts"},{id:"logs",label:"Logs"}],we=(I,ee="main")=>{if(!I||!I.ActiveBtns)return[];let Q=[];try{Array.isArray(I.ActiveBtns)?Q=I.ActiveBtns:typeof I.ActiveBtns=="string"&&(Q=JSON.parse(I.ActiveBtns))}catch{Q=[]}const W=t8(e,ee);return Q.filter(ae=>{const Me=ae?.Name||ae?.name||"",T=ae.id||Me,D=W[T]!==!1;return ee==="car"?D&&!Me.toLowerCase().includes("schedule"):D}).map((ae,Me)=>{const T=ae?.Name||ae?.name||`Button ${Me+1}`,D=u[ae.id]||"#4F46E5";return d.jsxs("button",{onClick:()=>ee==="main"?le(T):Se(T),className:"px-6 py-4 rounded-xl text-lg font-semibold text-white border shadow-lg transition-all duration-300 transform hover:scale-105 hover:opacity-90 min-w-[150px] sm:min-w-[180px] lg:min-w-[200px] cursor-pointer",style:{backgroundColor:D,borderColor:D},children:[T," "]},ae?.id||Me)})},Pe=()=>{if(!o)return null;const{Sections:I={}}=o,ee=I?.main||{},Q=EN(e,"main");return d.jsxs(ct.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4 sm:gap-0",children:[d.jsxs("div",{className:"flex flex-col text-left text-base sm:text-lg font-medium text-gray-800 gap-2",children:[Q.voltage!==!1&&d.jsxs("div",{children:["Voltage: ",d.jsxs("span",{className:"font-semibold",children:[ee.Voltage||"0","V"]})]}),Q.cycles!==!1&&d.jsxs("div",{children:["Cycles: ",d.jsx("span",{className:"font-semibold",children:ee.Cycles||"0"})]}),Q.status!==!1&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Bm,{className:`w-5 h-5 ${ee.Status==="Running"?"text-gray-800 animate-spin-slow":"text-gray-800"}`}),d.jsxs("span",{children:["Status: ",d.jsx("span",{className:`font-semibold ml-1 ${ee.Status==="Running"||ee.Status==="Idle","text-gray-800"}`,children:ee.Status||"Unknown"})]})]})]}),d.jsxs("div",{className:"flex flex-col items-end gap-2",children:[d.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Auto-refresh in"}),d.jsxs("div",{className:"flex items-center gap-3 text-lg sm:text-2xl font-bold text-gray-900",children:[d.jsxs("span",{children:[" ",_]}),d.jsx(QS,{className:`w-6 sm:w-8 h-6 sm:h-8 text-main-color cursor-pointer hover:text-main-color/70 transition-transform duration-600 ${j?"rotate-180":""}`,onClick:Ee,title:"Reset timer and send status messages"})]})]})]}),ee.ActiveBtns&&ee.ActiveBtns.length>0&&d.jsx("div",{className:"mb-8",children:d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6 justify-items-center",children:we(ee,"main")})})]})},Te=()=>{if(!o)return null;const{Sections:I={}}=o,ee=I?.car||{},Q=EN(e,"car");return d.jsxs(ct.div,{className:"bg-white p-6 sm:p-10 pt-0",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4 sm:gap-0",children:[d.jsxs("div",{className:"flex flex-col text-left text-base sm:text-lg font-medium text-gray-800 gap-2",children:[Q["voltage-trolley"]!==!1&&d.jsxs("div",{children:["Voltage: ",d.jsxs("span",{className:"font-semibold",children:[ee.Voltage||"0","V"]})]}),Q["cycles-trolley"]!==!1&&d.jsxs("div",{children:["Cycles: ",d.jsx("span",{className:"font-semibold",children:ee.Cycles||"0"})]}),Q["status-trolley"]!==!1&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Bm,{className:`w-5 h-5 ${ee.Status==="Running"?"text-green-500 animate-spin-slow":"text-gray-400"}`}),d.jsxs("span",{children:["Status: ",d.jsx("span",{className:`font-semibold ml-1 ${ee.Status==="Running"?"text-green-600":ee.Status==="Idle"?"text-yellow-600":"text-gray-600"}`,children:ee.Status||"Unknown"})]})]})]}),d.jsxs("div",{className:"flex flex-col items-end gap-2",children:[d.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Auto-refresh in"}),d.jsxs("div",{className:"flex items-center gap-3 text-lg sm:text-2xl font-bold text-gray-900",children:[d.jsxs("span",{children:[" ",_]}),d.jsx(QS,{className:`w-6 sm:w-8 h-6 sm:h-8 text-second-color cursor-pointer hover:text-second-color/70 transition-transform duration-600 ${j?"rotate-180":""}`,onClick:Ee,title:"Reset timer and send status messages"})]})]})]}),ee.ActiveBtns&&ee.ActiveBtns.length>0&&d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 justify-items-center",children:we(ee,"car")})]})};if(a)return d.jsx("div",{className:"flex flex-col min-h-screen bg-linear-to-b from-white to-gray-50",children:d.jsx("main",{className:"flex-1 container mx-auto px-4 sm:px-6 lg:px-8 pt-24 pb-16",children:d.jsxs("div",{className:"max-w-3xl mx-auto text-center bg-white rounded-3xl shadow-lg p-10 border border-gray-100",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-main-color mx-auto"}),d.jsx("p",{className:"mt-4 text-gray-600",children:"Loading robot details..."})]})})});if(!o)return d.jsx("div",{className:"flex flex-col min-h-screen bg-linear-to-b from-white to-gray-50",children:d.jsx("main",{className:"flex-1 container mx-auto px-4 sm:px-6 lg:px-8 pt-24 pb-16",children:d.jsxs("div",{className:"max-w-3xl mx-auto text-center bg-white rounded-3xl shadow-lg p-10 border border-gray-100",children:[d.jsx("p",{className:"text-gray-500 text-lg",children:"Robot not found"}),d.jsx(He,{onClick:()=>t("/robots"),className:"mt-4 border-main-color text-main-color hover:bg-main-color hover:text-white rounded-full px-6 py-3",children:"Back to Robots"})]})})});const{Sections:ce={}}=o,Y=ce?.car&&(ce.car.Voltage||ce.car.Cycles||ce.car.Status||ce.car.ActiveBtns&&ce.car.ActiveBtns.length>0),se=o?.isTrolley==1||o?.isTrolley==="true"||o?.isTrolley===!0,q=ne();return d.jsx("div",{className:"flex flex-col min-h-screen bg-linear-to-b from-white to-gray-50",children:d.jsxs("main",{className:"flex-1 container mx-auto px-4 sm:px-6 lg:px-8 pt-24 pb-16",children:[d.jsxs(He,{onClick:()=>t(-1),className:"left-0 flex my-5 items-center gap-2 bg-transparent text-main-color border border-main-color hover:bg-main-color/10 cursor-pointer",children:[d.jsx(mn,{size:18}),"Back"]}),d.jsxs(ct.div,{className:"max-w-6xl mx-auto relative",initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.6},children:[d.jsx("h1",{className:"text-2xl sm:text-4xl md:text-5xl font-bold tracking-wider mb-6 text-gray-900 text-center",children:o.RobotName||"Unnamed Robot"}),d.jsx("div",{className:"relative mb-12 flex justify-center",children:d.jsx(e8,{src:JL(o.Image),alt:o.RobotName||"Robot",className:"w-full max-w-md h-48 sm:h-56 object-cover rounded-2xl shadow-md",fallbackSrc:"/default-robot.jpg"})}),X()?d.jsxs(d.Fragment,{children:[q==="trolley"&&Y&&se&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"mb-6",children:d.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-second-color text-center",children:"Trolley Section"})}),d.jsx("div",{className:"bg-white rounded-t-3xl shadow-lg p-6 ",children:d.jsx(aa,{tabs:ve,active:g,onChange:b,accent:"second"})}),d.jsxs("div",{className:"bg-white rounded-b-3xl shadow-lg p-6 sm:p-10 border border-gray-100 border-t-0",children:[g==="notifications"&&d.jsx(ku,{robotId:e,sectionName:"car",publish:(I,ee)=>k(e,"car",I,ee)}),g==="logs"&&d.jsx(Ou,{sectionName:"car",publish:(I,ee)=>k(e,"car",I,ee)})]})]}),q==="robot"&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"mb-6",children:d.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-main-color text-center",children:"Robot Section"})}),d.jsx("div",{className:"bg-white rounded-t-3xl shadow-lg p-6 ",children:d.jsx(aa,{tabs:be,active:h,onChange:m,accent:"main"})}),d.jsxs("div",{className:"bg-white rounded-b-3xl shadow-lg p-6 sm:p-10 border border-gray-100 border-t-0",children:[h==="notifications"&&d.jsx(ku,{robotId:e,sectionName:"main",publish:(I,ee)=>k(e,"main",I,ee)}),h==="logs"&&d.jsx(Ou,{sectionName:"main",publish:(I,ee)=>k(e,"main",I,ee)})]})]})]}):d.jsxs(d.Fragment,{children:[re()&&Y&&se&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"mb-6",children:d.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-second-color text-center",children:"Trolley Section"})}),d.jsx("div",{className:"bg-white rounded-t-3xl shadow-lg p-6 ",children:d.jsx(aa,{tabs:ve,active:g,onChange:b,accent:"second"})}),d.jsxs("div",{className:"bg-white rounded-b-3xl shadow-lg p-6 sm:p-10 border border-gray-100 border-t-0",children:[g==="controls"&&Te(),g==="notifications"&&d.jsx(ku,{robotId:e,sectionName:"car",publish:(I,ee)=>k(e,"car",I,ee)}),g==="logs"&&d.jsx(Ou,{sectionName:"car",publish:(I,ee)=>k(e,"car",I,ee)})]})]}),$()&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"mb-6 mt-16",children:d.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-green-600 text-center",children:"Schedule Settings"})}),d.jsx("div",{className:"bg-white rounded-3xl shadow-lg p-6 sm:p-10 border border-gray-100",children:d.jsx(XL,{scheduleButton:L,publish:(I,ee)=>k(e,"car",I,ee),topic:o?.Sections?.car?.Topic_main,loading:V})})]}),K()&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"mb-6 mt-16",children:d.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-main-color text-center",children:"Robot Section"})}),d.jsx("div",{className:"bg-white rounded-t-3xl shadow-lg p-6 ",children:d.jsx(aa,{tabs:be,active:h,onChange:m,accent:"main"})}),d.jsxs("div",{className:"bg-white rounded-b-3xl shadow-lg p-6 sm:p-10 border border-gray-100 border-t-0",children:[h==="controls"&&Pe(),h==="notifications"&&d.jsx(ku,{robotId:e,sectionName:"main",publish:(I,ee)=>k(e,"main",I,ee)}),h==="logs"&&d.jsx(Ou,{sectionName:"main",publish:(I,ee)=>k(e,"main",I,ee)})]})]})]}),d.jsx("div",{className:"mt-8 text-center",children:d.jsx(He,{variant:"outline",onClick:()=>t("/robots"),className:"border-main-color text-main-color hover:bg-main-color hover:text-white rounded-full px-8 py-4 text-lg font-semibold transition-all",children:"Back to Robots"})})]})]})})}function s8(){return d.jsx("footer",{className:"relative bg-white text-blue-900 py-12 px-6 overflow-hidden border-t border-blue-900",children:d.jsxs("div",{className:"container lg:w-3/4 mx-auto grid grid-cols-1 md:grid-cols-3 gap-10 md:gap-12 items-start text-center md:text-left",children:[d.jsxs("div",{children:[d.jsx("div",{className:"flex flex-col items-center md:items-start mb-5",children:d.jsx("div",{className:"flex items-center justify-center md:justify-start gap-3 cursor-pointer select-none",children:d.jsx("img",{src:ca,alt:"Omega Engineering Industries Logo",className:"h-12 w-auto object-contain drop-shadow-lg"})})}),d.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-5",children:"Contact Us"}),d.jsx("ul",{className:"space-y-4 text-sm text-blue-800",children:d.jsxs("li",{className:"flex justify-center md:justify-start gap-3",children:[d.jsx("div",{className:"pt-1",children:d.jsx(IP,{size:18,className:"text-second-color"})}),d.jsxs("div",{className:"flex flex-col text-left",children:[d.jsx("span",{className:"font-medium text-blue-600",children:"Mobile:"}),d.jsx("span",{children:"+962 777970321"}),d.jsx("span",{children:"+962 798878411"})]})]})})]}),d.jsx("div",{}),d.jsxs("div",{className:"flex flex-col items-center md:items-start justify-between text-sm text-blue-800",children:[d.jsxs("div",{className:"flex justify-center md:justify-start gap-4 mb-5",children:[d.jsx(ct.a,{href:"https://www.omega-jordan.com/",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.15},className:"p-2 rounded-full border border-second-color text-second-color hover:border-main-color hover:text-main-color transition-all duration-300",children:d.jsx(dP,{size:18})}),d.jsx(ct.a,{href:"mailto:omega.jo@gmail.com",whileHover:{scale:1.15},className:"p-2 rounded-full border border-second-color text-second-color hover:border-main-color hover:text-main-color transition-all duration-300",children:d.jsx(CP,{size:18})}),d.jsx(ct.a,{href:"https://api.whatsapp.com/send?phone=962790603862",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.15},className:"p-2 rounded-full border border-second-color text-second-color hover:border-main-color hover:text-main-color transition-all duration-300",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor",viewBox:"0 0 16 16",children:[d.jsx("path",{d:"M13.601 2.326a7.875 7.875 0 0 0-11.045 0 7.875 7.875 0 0 0-2.311 5.572c0 1.394.386 2.767 1.119 3.963l-1.15 4.196 4.29-1.133a7.87 7.87 0 0 0 3.964 1.12h.003a7.875 7.875 0 0 0 5.572-2.311 7.875 7.875 0 0 0 0-11.045zM8 14.875a6.88 6.88 0 0 1-3.543-.986l-.25-.147-2.54.669.678-2.485-.164-.263A6.876 6.876 0 1 1 8 14.875z"}),d.jsx("path",{d:"M11.154 10.846c-.155-.078-.917-.453-1.06-.506-.143-.052-.247-.078-.351.078-.104.155-.403.505-.494.607-.09.104-.18.116-.335.039-.155-.078-.65-.24-1.238-.76-.458-.409-.767-.915-.855-1.07-.088-.156-.009-.24.068-.317.07-.069.155-.18.232-.27.077-.09.103-.156.155-.26.052-.104.026-.195-.013-.273-.039-.078-.351-.844-.48-1.155-.127-.31-.257-.27-.351-.274-.09-.005-.195-.006-.3-.006s-.273.039-.416.195c-.143.156-.546.533-.546 1.3 0 .766.56 1.506.638 1.61.077.104 1.105 1.69 2.678 2.373 1.572.683 1.572.455 1.855.426.282-.03.916-.374 1.046-.734.13-.36.13-.668.091-.734-.039-.065-.143-.104-.3-.182z"})]})})]}),d.jsxs("div",{className:"text-center md:text-left",children:[d.jsx("p",{className:"mb-1 font-semibold",children:" Copyright Omega Engineering Industries"}),d.jsxs("p",{children:[new Date().getFullYear()," All rights reserved."]})]})]})]})})}function Ms(e,t,{checkForDefaultPrevented:s=!0}={}){return function(i){if(e?.(i),s===!1||!i.defaultPrevented)return t?.(i)}}function f0(e,t=[]){let s=[];function o(a,c){const u=O.createContext(c),f=s.length;s=[...s,c];const h=g=>{const{scope:b,children:j,...y}=g,w=b?.[e]?.[f]||u,v=O.useMemo(()=>y,Object.values(y));return d.jsx(w.Provider,{value:v,children:j})};h.displayName=a+"Provider";function m(g,b){const j=b?.[e]?.[f]||u,y=O.useContext(j);if(y)return y;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[h,m]}const i=()=>{const a=s.map(c=>O.createContext(c));return function(u){const f=u?.[e]||a;return O.useMemo(()=>({[`__scope${e}`]:{...u,[e]:f}}),[u,f])}};return i.scopeName=e,[o,o8(i,...t)]}function o8(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const o=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const c=o.reduce((u,{useScope:f,scopeName:h})=>{const g=f(a)[`__scope${h}`];return{...u,...g}},{});return O.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return s.scopeName=t.scopeName,s}function AN(e){const t=i8(e),s=O.forwardRef((o,i)=>{const{children:a,...c}=o,u=O.Children.toArray(a),f=u.find(l8);if(f){const h=f.props.children,m=u.map(g=>g===f?O.Children.count(h)>1?O.Children.only(null):O.isValidElement(h)?h.props.children:null:g);return d.jsx(t,{...c,ref:i,children:O.isValidElement(h)?O.cloneElement(h,void 0,m):null})}return d.jsx(t,{...c,ref:i,children:a})});return s.displayName=`${e}.Slot`,s}function i8(e){const t=O.forwardRef((s,o)=>{const{children:i,...a}=s;if(O.isValidElement(i)){const c=u8(i),u=c8(a,i.props);return i.type!==O.Fragment&&(u.ref=o?Kd(o,c):c),O.cloneElement(i,u)}return O.Children.count(i)>1?O.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var a8=Symbol("radix.slottable");function l8(e){return O.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===a8}function c8(e,t){const s={...t};for(const o in t){const i=e[o],a=t[o];/^on[A-Z]/.test(o)?i&&a?s[o]=(...u)=>{const f=a(...u);return i(...u),f}:i&&(s[o]=i):o==="style"?s[o]={...i,...a}:o==="className"&&(s[o]=[i,a].filter(Boolean).join(" "))}return{...e,...s}}function u8(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function d8(e){const t=e+"CollectionProvider",[s,o]=f0(t),[i,a]=s(t,{collectionRef:{current:null},itemMap:new Map}),c=w=>{const{scope:v,children:N}=w,S=Ge.useRef(null),_=Ge.useRef(new Map).current;return d.jsx(i,{scope:v,itemMap:_,collectionRef:S,children:N})};c.displayName=t;const u=e+"CollectionSlot",f=AN(u),h=Ge.forwardRef((w,v)=>{const{scope:N,children:S}=w,_=a(u,N),M=Rd(v,_.collectionRef);return d.jsx(f,{ref:M,children:S})});h.displayName=u;const m=e+"CollectionItemSlot",g="data-radix-collection-item",b=AN(m),j=Ge.forwardRef((w,v)=>{const{scope:N,children:S,..._}=w,M=Ge.useRef(null),A=Rd(v,M),C=a(m,N);return Ge.useEffect(()=>(C.itemMap.set(M,{ref:M,..._}),()=>void C.itemMap.delete(M))),d.jsx(b,{[g]:"",ref:A,children:S})});j.displayName=m;function y(w){const v=a(e+"CollectionConsumer",w);return Ge.useCallback(()=>{const S=v.collectionRef.current;if(!S)return[];const _=Array.from(S.querySelectorAll(`[${g}]`));return Array.from(v.itemMap.values()).sort((C,R)=>_.indexOf(C.ref.current)-_.indexOf(R.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:c,Slot:h,ItemSlot:j},y,o]}var Ud=globalThis?.document?O.useLayoutEffect:()=>{},f8=eb[" useId ".trim().toString()]||(()=>{}),h8=0;function pT(e){const[t,s]=O.useState(f8());return Ud(()=>{s(o=>o??String(h8++))},[e]),e||(t?`radix-${t}`:"")}function p8(e){const t=O.useRef(e);return O.useEffect(()=>{t.current=e}),O.useMemo(()=>(...s)=>t.current?.(...s),[])}var m8=eb[" useInsertionEffect ".trim().toString()]||Ud;function mT({prop:e,defaultProp:t,onChange:s=()=>{},caller:o}){const[i,a,c]=g8({defaultProp:t,onChange:s}),u=e!==void 0,f=u?e:i;{const m=O.useRef(e!==void 0);O.useEffect(()=>{const g=m.current;g!==u&&console.warn(`${o} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,o])}const h=O.useCallback(m=>{if(u){const g=y8(m)?m(e):m;g!==e&&c.current?.(g)}else a(m)},[u,e,a,c]);return[f,h]}function g8({defaultProp:e,onChange:t}){const[s,o]=O.useState(e),i=O.useRef(s),a=O.useRef(t);return m8(()=>{a.current=t},[t]),O.useEffect(()=>{i.current!==s&&(a.current?.(s),i.current=s)},[s,i]),[s,o,a]}function y8(e){return typeof e=="function"}var b8=O.createContext(void 0);function gT(e){const t=O.useContext(b8);return e||t||"ltr"}var sm="rovingFocusGroup.onEntryFocus",x8={bubbles:!1,cancelable:!0},lc="RovingFocusGroup",[$y,yT,v8]=d8(lc),[w8,bT]=f0(lc,[v8]),[S8,j8]=w8(lc),xT=O.forwardRef((e,t)=>d.jsx($y.Provider,{scope:e.__scopeRovingFocusGroup,children:d.jsx($y.Slot,{scope:e.__scopeRovingFocusGroup,children:d.jsx(N8,{...e,ref:t})})}));xT.displayName=lc;var N8=O.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:o,loop:i=!1,dir:a,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:f,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...g}=e,b=O.useRef(null),j=Rd(t,b),y=gT(a),[w,v]=mT({prop:c,defaultProp:u??null,onChange:f,caller:lc}),[N,S]=O.useState(!1),_=p8(h),M=yT(s),A=O.useRef(!1),[C,R]=O.useState(0);return O.useEffect(()=>{const k=b.current;if(k)return k.addEventListener(sm,_),()=>k.removeEventListener(sm,_)},[_]),d.jsx(S8,{scope:s,orientation:o,dir:y,loop:i,currentTabStopId:w,onItemFocus:O.useCallback(k=>v(k),[v]),onItemShiftTab:O.useCallback(()=>S(!0),[]),onFocusableItemAdd:O.useCallback(()=>R(k=>k+1),[]),onFocusableItemRemove:O.useCallback(()=>R(k=>k-1),[]),children:d.jsx(ui.div,{tabIndex:N||C===0?-1:0,"data-orientation":o,...g,ref:j,style:{outline:"none",...e.style},onMouseDown:Ms(e.onMouseDown,()=>{A.current=!0}),onFocus:Ms(e.onFocus,k=>{const U=!A.current;if(k.target===k.currentTarget&&U&&!N){const L=new CustomEvent(sm,x8);if(k.currentTarget.dispatchEvent(L),!L.defaultPrevented){const te=M().filter($=>$.focusable),V=te.find($=>$.active),ie=te.find($=>$.id===w),re=[V,ie,...te].filter(Boolean).map($=>$.ref.current);ST(re,m)}}A.current=!1}),onBlur:Ms(e.onBlur,()=>S(!1))})})}),vT="RovingFocusGroupItem",wT=O.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:o=!0,active:i=!1,tabStopId:a,children:c,...u}=e,f=pT(),h=a||f,m=j8(vT,s),g=m.currentTabStopId===h,b=yT(s),{onFocusableItemAdd:j,onFocusableItemRemove:y,currentTabStopId:w}=m;return O.useEffect(()=>{if(o)return j(),()=>y()},[o,j,y]),d.jsx($y.ItemSlot,{scope:s,id:h,focusable:o,active:i,children:d.jsx(ui.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...u,ref:t,onMouseDown:Ms(e.onMouseDown,v=>{o?m.onItemFocus(h):v.preventDefault()}),onFocus:Ms(e.onFocus,()=>m.onItemFocus(h)),onKeyDown:Ms(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){m.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const N=A8(v,m.orientation,m.dir);if(N!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let _=b().filter(M=>M.focusable).map(M=>M.ref.current);if(N==="last")_.reverse();else if(N==="prev"||N==="next"){N==="prev"&&_.reverse();const M=_.indexOf(v.currentTarget);_=m.loop?T8(_,M+1):_.slice(M+1)}setTimeout(()=>ST(_))}}),children:typeof c=="function"?c({isCurrentTabStop:g,hasTabStop:w!=null}):c})})});wT.displayName=vT;var _8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function E8(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function A8(e,t,s){const o=E8(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return _8[o]}function ST(e,t=!1){const s=document.activeElement;for(const o of e)if(o===s||(o.focus({preventScroll:t}),document.activeElement!==s))return}function T8(e,t){return e.map((s,o)=>e[(t+o)%e.length])}var C8=xT,R8=wT;function M8(e,t){return O.useReducer((s,o)=>t[s][o]??s,e)}var jT=e=>{const{present:t,children:s}=e,o=k8(t),i=typeof s=="function"?s({present:o.isPresent}):O.Children.only(s),a=Rd(o.ref,O8(i));return typeof s=="function"||o.isPresent?O.cloneElement(i,{ref:a}):null};jT.displayName="Presence";function k8(e){const[t,s]=O.useState(),o=O.useRef(null),i=O.useRef(e),a=O.useRef("none"),c=e?"mounted":"unmounted",[u,f]=M8(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return O.useEffect(()=>{const h=Iu(o.current);a.current=u==="mounted"?h:"none"},[u]),Ud(()=>{const h=o.current,m=i.current;if(m!==e){const b=a.current,j=Iu(h);e?f("MOUNT"):j==="none"||h?.display==="none"?f("UNMOUNT"):f(m&&b!==j?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,f]),Ud(()=>{if(t){let h;const m=t.ownerDocument.defaultView??window,g=j=>{const w=Iu(o.current).includes(CSS.escape(j.animationName));if(j.target===t&&w&&(f("ANIMATION_END"),!i.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",h=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},b=j=>{j.target===t&&(a.current=Iu(o.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{m.clearTimeout(h),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:O.useCallback(h=>{o.current=h?getComputedStyle(h):null,s(h)},[])}}function Iu(e){return e?.animationName||"none"}function O8(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var ff="Tabs",[D8]=f0(ff,[bT]),NT=bT(),[P8,h0]=D8(ff),_T=O.forwardRef((e,t)=>{const{__scopeTabs:s,value:o,onValueChange:i,defaultValue:a,orientation:c="horizontal",dir:u,activationMode:f="automatic",...h}=e,m=gT(u),[g,b]=mT({prop:o,onChange:i,defaultProp:a??"",caller:ff});return d.jsx(P8,{scope:s,baseId:pT(),value:g,onValueChange:b,orientation:c,dir:m,activationMode:f,children:d.jsx(ui.div,{dir:m,"data-orientation":c,...h,ref:t})})});_T.displayName=ff;var ET="TabsList",AT=O.forwardRef((e,t)=>{const{__scopeTabs:s,loop:o=!0,...i}=e,a=h0(ET,s),c=NT(s);return d.jsx(C8,{asChild:!0,...c,orientation:a.orientation,dir:a.dir,loop:o,children:d.jsx(ui.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});AT.displayName=ET;var TT="TabsTrigger",CT=O.forwardRef((e,t)=>{const{__scopeTabs:s,value:o,disabled:i=!1,...a}=e,c=h0(TT,s),u=NT(s),f=MT(c.baseId,o),h=kT(c.baseId,o),m=o===c.value;return d.jsx(R8,{asChild:!0,...u,focusable:!i,active:m,children:d.jsx(ui.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":h,"data-state":m?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:f,...a,ref:t,onMouseDown:Ms(e.onMouseDown,g=>{!i&&g.button===0&&g.ctrlKey===!1?c.onValueChange(o):g.preventDefault()}),onKeyDown:Ms(e.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&c.onValueChange(o)}),onFocus:Ms(e.onFocus,()=>{const g=c.activationMode!=="manual";!m&&!i&&g&&c.onValueChange(o)})})})});CT.displayName=TT;var RT="TabsContent",I8=O.forwardRef((e,t)=>{const{__scopeTabs:s,value:o,forceMount:i,children:a,...c}=e,u=h0(RT,s),f=MT(u.baseId,o),h=kT(u.baseId,o),m=o===u.value,g=O.useRef(m);return O.useEffect(()=>{const b=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(b)},[]),d.jsx(jT,{present:i||m,children:({present:b})=>d.jsx(ui.div,{"data-state":m?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":f,hidden:!b,id:h,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:g.current?"0s":void 0},children:b&&a})})});I8.displayName=RT;function MT(e,t){return`${e}-trigger-${t}`}function kT(e,t){return`${e}-content-${t}`}var B8=_T,U8=AT,L8=CT;function $8({className:e,...t}){return d.jsx(B8,{"data-slot":"tabs",className:gn("flex flex-col gap-2",e),...t})}function z8({className:e,...t}){return d.jsx(U8,{"data-slot":"tabs-list",className:gn("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function Bu({className:e,...t}){return d.jsx(L8,{"data-slot":"tabs-trigger",className:gn("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function TN({onClose:e,mode:t="dropdown",position:s="header"}){const[o,i]=O.useState([]),[a,c]=O.useState([]),[u,f]=O.useState(!0),[h,m]=O.useState(null),[g,b]=O.useState([]),[j,y]=O.useState(""),[w,v]=O.useState("all"),[N,S]=O.useState("all"),[_,M]=O.useState(null),[A,C]=O.useState(!1),{notifications:R,activeConnections:k,connectionCount:U,connectedCount:L,reconnectAll:te,reconnectRobot:V}=df(),ie="http://localhost/robots_api/api",H=qt(),re=O.useRef(null);O.useEffect(()=>{(async()=>{try{f(!0);const ue=await rt.get(`${ie}/notifications.php`,{headers:{"Content-Type":"application/json"}});let ae=Array.isArray(ue.data)?ue.data:[];const Me=Se(ae),T=[...R,...Me],F=$(T).sort((me,ge)=>{try{const Ae=me.timestamp||new Date(`${me.date}T${me.time}`).getTime();return(ge.timestamp||new Date(`${ge.date}T${ge.time}`).getTime())-Ae}catch{return 0}});i(F),m(null)}catch(ue){console.error("Error fetching notifications:",ue),m("Failed to load notifications: "+(ue.message||"Unknown error"));const ae=[...R].sort((Me,T)=>{try{return(T.timestamp||0)-(Me.timestamp||0)}catch{return 0}});i(ae)}finally{f(!1)}})()},[R,ie]),O.useEffect(()=>{ve()},[o,j,w,N]);const $=W=>{const ue=new Set;return W.filter(ae=>{const Me=`${ae.topic_main}-${ae.message}-${ae.date}-${ae.time}-${ae.robotId||"no-robot"}`;return ue.has(Me)?!1:(ue.add(Me),!0)})},K=()=>{try{const W=document.cookie.split(";");for(let ue of W){const[ae,Me]=ue.trim().split("=");if(ae==="projectName")return decodeURIComponent(Me)}return null}catch{return null}},X=async W=>{try{if(!W)return null;const ue=await rt.get(`${ie}/projects.php`);return(Array.isArray(ue.data)?ue.data:[]).find(T=>T.ProjectName&&T.ProjectName.trim().toLowerCase()===W.trim().toLowerCase())||null}catch{return null}},ne=async()=>{try{const W=await rt.get(`${ie}/robots.php`),ue=Array.isArray(W.data)?W.data:[];return b(ue),ue}catch(W){return console.error("Failed to fetch robots:",W),[]}},G=W=>{if(!W||!W.message)return!1;const ue=W.message.toLowerCase(),ae=["alert","error","warning","critical","fail","stopped","emergency","fault","issue","problem"],Me=["info","information","started","running","completed","success","ready"],T=ae.some(F=>ue.includes(F)),D=Me.some(F=>ue.includes(F));return T&&!D},B=(W,ue)=>{if(!W||!ue.Sections)return null;const ae=Object.entries(ue.Sections).find(([Me,T])=>T.Topic_main===W);return ae?ae[0]:null},z=W=>{if(!W||!g.length)return null;for(const ue of g)if(ue.Sections){for(const[ae,Me]of Object.entries(ue.Sections))if(Me.Topic_main===W)return ue}return null},Z=W=>{if(!W||!g.length)return null;const ue=W.toString().trim(),ae=g.find(Me=>Me.id!=null&&Me.id.toString()===ue);return ae?ae.RobotName||ae.robotName||ae.name||"Unknown Robot":null},pe=W=>{if(!W)return null;const ue=W.split("/");if(ue.length>=2){const ae=ue[1];return ae==="car"?"trolley":ae==="main"?"robot":ae}return null},he=W=>{if(!W)return null;const ue=W.split("/");if(ue.length>0){const ae=ue[0];if(ae&&ae!=="robot")return ae}return null},Ee=W=>{if(!W||!g.length)return null;const ue=g.find(ae=>ae.id!=null&&ae.id.toString()===W.toString());return ue&&ue.projectId&&_?_.ProjectName:null},de=W=>{if(!W)return{robotName:null,sectionName:null,projectName:null};let ue=null,ae=null,Me=null;if(W.RobotId&&(ue=Z(W.RobotId),Me=Ee(W.RobotId)),!ue&&W.topic_main){const T=z(W.topic_main);T&&(ue=T.RobotName||T.robotName,Me=_?_.ProjectName:null)}return!ue&&W.topic_main&&(ue=he(W.topic_main),Me=_?_.ProjectName:null),W.topic_main&&(ae=pe(W.topic_main)),!Me&&_&&(Me=_.ProjectName),{robotName:ue,sectionName:ae,projectName:Me}},le=W=>{if(!W)return"New message";const ue=[/^.+\([^)]+\):\s*(.+)$/,/^.+:\s*(.+)$/,/^.+-\s*(.+)$/];for(const ae of ue){const Me=W.match(ae);if(Me&&Me[1])return Me[1].trim()}return W},Se=W=>W.map(ue=>{const{robotName:ae,sectionName:Me,projectName:T}=de(ue),D=le(ue.message);return{...ue,robotName:ae||"Unknown Robot",sectionName:Me,projectName:T||"All Projects",displayMessage:D}}),be=async()=>{try{f(!0),m(null);const W=K(),ue=await X(W);await ne();const ae=await rt.get(`${ie}/notifications.php`,{headers:{"Content-Type":"application/json"}}),T=(Array.isArray(ae.data)?ae.data:[]).sort((Ae,$e)=>{try{const xe=new Date(`${Ae.date}T${Ae.time}`);return new Date(`${$e.date}T${$e.time}`)-xe}catch{return 0}}),D=Se(T),F=[...R,...D],ge=$(F).sort((Ae,$e)=>{try{const xe=Ae.timestamp||new Date(`${Ae.date}T${Ae.time}`).getTime();return($e.timestamp||new Date(`${$e.date}T${$e.time}`).getTime())-xe}catch{return 0}});i(ge),M(ue)}catch(W){m("Failed to load notifications: "+(W.message||"Unknown error"))}finally{f(!1)}},ve=()=>{let W=[...o];if(j.trim()){const ue=j.toLowerCase().trim();W=W.filter(ae=>ae.message&&ae.message.toLowerCase().includes(ue)||ae.topic_main&&ae.topic_main.toLowerCase().includes(ue)||ae.robotName&&ae.robotName.toLowerCase().includes(ue)||ae.sectionName&&ae.sectionName.toLowerCase().includes(ue)||ae.projectName&&ae.projectName.toLowerCase().includes(ue)||ae.displayMessage&&ae.displayMessage.toLowerCase().includes(ue))}w==="alerts"?W=W.filter(ue=>G(ue)):w==="info"&&(W=W.filter(ue=>!G(ue))),N==="realtime"?W=W.filter(ue=>ue.isMqtt||ue.source==="mqtt"):N==="history"&&(W=W.filter(ue=>!ue.isMqtt&&ue.source!=="mqtt")),c(W)},we=()=>{y(""),v("all"),S("all")},Pe=async W=>{try{let ue=W.RobotId,ae=W.sectionName,Me=W.robotName;if(!ue&&W.topic_main){const T=z(W.topic_main);T&&(ue=T.id,Me=T.RobotName,ae=B(W.topic_main,T))}if(!ue){alert("Cannot open this robot. Missing RobotId or cannot find associated robot.");return}H(`/homeDashboard/robotDetails/${ue}`,{state:{section:ae,fromNotification:!0,notificationData:W,robotName:Me}}),e&&e()}catch{alert("Error opening robot details. Please try again.")}},Te=W=>{const ue=G(W),ae="mb-2 p-3 hover:shadow-md cursor-pointer transition-all duration-200 border rounded-lg";return ue?`${ae} bg-red-50 border-red-200 hover:border-red-300`:`${ae} bg-blue-50 border-blue-200 hover:border-blue-300`},ce=W=>G(W)?"text-red-800":"text-blue-800",Y=W=>G(W)?d.jsx(or,{className:"w-4 h-4 text-red-500 mr-2"}):d.jsx(El,{className:"w-4 h-4 text-blue-500 mr-2"}),se=W=>G(W)?"Alert":"Info",q=()=>{H("/homeDashboard")},I=()=>{const W=k.filter(ae=>ae.connected).length,ue=k.length;return ue===0?d.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[d.jsx(ZS,{className:"w-3 h-3"}),d.jsx("span",{children:"No MQTT connections"})]}):d.jsx("div",{className:"flex items-center gap-2 text-xs",children:d.jsx("div",{className:"flex items-center gap-1",children:W===ue?d.jsxs(d.Fragment,{children:[d.jsx(Ns,{className:"w-3 h-3 text-green-500"}),d.jsxs("span",{className:"text-green-600 font-medium",children:[ue," connected"]})]}):d.jsxs(d.Fragment,{children:[d.jsx(ZS,{className:"w-3 h-3 text-amber-500"}),d.jsxs("span",{className:"text-amber-600 font-medium",children:[W,"/",ue," connected"]})]})})})},ee=()=>d.jsxs(mr,{className:"mb-4 border-gray-200",children:[d.jsx(kn,{className:"py-3",children:d.jsxs(On,{className:"text-sm font-medium flex items-center justify-between",children:[d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(Ns,{className:"w-4 h-4"}),"MQTT Connections"]}),d.jsxs(He,{variant:"ghost",size:"sm",onClick:()=>te(),className:"h-7 text-xs",children:[d.jsx(Zn,{className:"w-3 h-3 mr-1"}),"Reconnect All"]})]})}),d.jsx(gr,{className:"pt-0",children:d.jsx("div",{className:"space-y-2",children:k.length===0?d.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No active MQTT connections"}):k.map((W,ue)=>d.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50 rounded",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[W.connected?d.jsx(rP,{className:"w-4 h-4 text-green-500"}):d.jsx(Hb,{className:"w-4 h-4 text-red-500"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:W.robotName||`Robot ${W.robotId}`}),d.jsx("p",{className:"text-xs text-gray-500",children:W.connected?"Connected":"Disconnected"})]})]}),!W.connected&&d.jsx(He,{variant:"outline",size:"sm",onClick:()=>V(W.robotId),className:"h-7 text-xs",children:"Reconnect"})]},W.robotId||ue))})})]}),Q=O.useMemo(()=>{const W=o.length,ue=o.filter(D=>G(D)).length,ae=W-ue,Me=o.filter(D=>D.isMqtt).length,T=W-Me;return{total:W,alerts:ue,info:ae,realtime:Me,history:T}},[o]);return t==="page"?d.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:d.jsxs("div",{className:"max-w-6xl mx-auto",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs(He,{variant:"outline",size:"sm",onClick:q,className:"flex items-center gap-2 border-main-color text-main-color hover:bg-main-color hover:text-white",children:[d.jsx(mn,{className:"w-4 h-4"}),"Back to Dashboard"]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(sr,{className:"w-8 h-8 text-main-color"}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Notifications Dashboard"}),d.jsx("p",{className:"text-gray-600",children:"Real-time & historical notifications"})]})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs(He,{variant:"outline",size:"sm",onClick:()=>C(!A),className:"flex items-center gap-2",children:[d.jsx(Ns,{className:"w-4 h-4"}),L,"/",U," Connected"]}),d.jsxs(He,{onClick:be,className:"flex items-center gap-2 bg-main-color hover:bg-second-color text-white",children:[d.jsx(Zn,{className:"w-4 h-4"}),"Refresh"]})]})]}),A&&ee(),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[d.jsx(mr,{className:"bg-white border-l-4 border-l-main-color",children:d.jsx(gr,{className:"p-4",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Notifications"}),d.jsx("p",{className:"text-2xl font-bold text-gray-800",children:Q.total})]}),d.jsx(sr,{className:"w-8 h-8 text-main-color"})]})})}),d.jsx(mr,{className:"bg-white border-l-4 border-l-red-500",children:d.jsx(gr,{className:"p-4",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Alert Notifications"}),d.jsx("p",{className:"text-2xl font-bold text-gray-800",children:Q.alerts})]}),d.jsx(or,{className:"w-8 h-8 text-red-500"})]})})}),d.jsx(mr,{className:"bg-white border-l-4 border-l-blue-500",children:d.jsx(gr,{className:"p-4",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Info Notifications"}),d.jsx("p",{className:"text-2xl font-bold text-gray-800",children:Q.info})]}),d.jsx(El,{className:"w-8 h-8 text-blue-500"})]})})}),d.jsx(mr,{className:"bg-white border-l-4 border-l-green-500",children:d.jsx(gr,{className:"p-4",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Real-time"}),d.jsx("p",{className:"text-2xl font-bold text-gray-800",children:Q.realtime})]}),d.jsx(Ns,{className:"w-8 h-8 text-green-500"})]})})})]}),d.jsx($8,{value:N,onValueChange:S,className:"mb-6",children:d.jsxs(z8,{className:"grid grid-cols-4 w-full md:w-auto",children:[d.jsx(Bu,{value:"all",children:"All Notifications"}),d.jsx(Bu,{value:"realtime",children:d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(Ns,{className:"w-3 h-3"}),"Real-time"]})}),d.jsx(Bu,{value:"history",children:"History"}),d.jsx(Bu,{value:"alerts",children:d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(or,{className:"w-3 h-3"}),"Alerts"]})})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4 mb-6",children:d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsxs("div",{className:"flex-1 relative",children:[d.jsx(Dd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 w-4 h-4"}),d.jsx(ir,{placeholder:"Search notifications...",value:j,onChange:W=>y(W.target.value),className:"pl-10 border-gray-300 text-gray-700 focus:border-main-color focus:ring-main-color"}),j&&d.jsx("button",{onClick:()=>y(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:d.jsx(bo,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(He,{variant:w==="all"?"default":"outline",onClick:()=>v("all"),className:`flex items-center gap-2 ${w==="all"?"bg-main-color text-white hover:bg-second-color":"border-main-color text-main-color hover:bg-main-color hover:text-white"}`,children:[d.jsx(dE,{className:"w-4 h-4"}),"All Types"]}),d.jsxs(He,{variant:w==="alerts"?"default":"outline",onClick:()=>v("alerts"),className:`flex items-center gap-2 ${w==="alerts"?"bg-red-600 text-white hover:bg-red-700":"border-red-200 text-red-700 hover:bg-red-50"}`,children:[d.jsx(or,{className:"w-4 h-4"}),"Alerts Only"]}),d.jsxs(He,{variant:w==="info"?"default":"outline",onClick:()=>v("info"),className:`flex items-center gap-2 ${w==="info"?"bg-blue-600 text-white hover:bg-blue-700":"border-blue-200 text-blue-700 hover:bg-blue-50"}`,children:[d.jsx(El,{className:"w-4 h-4"}),"Info Only"]})]}),(j||w!=="all"||N!=="all")&&d.jsxs(He,{variant:"outline",onClick:we,className:"flex items-center gap-2 border-gray-300 text-gray-700 hover:bg-gray-50",children:[d.jsx(bo,{className:"w-4 h-4"}),"Clear Filters"]})]})}),d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[u&&d.jsxs("div",{className:"flex justify-center items-center py-12",children:[d.jsx(pa,{className:"w-8 h-8 animate-spin text-main-color mr-3"}),d.jsx("span",{className:"text-gray-500 text-lg",children:"Loading notifications..."})]}),h&&d.jsxs("div",{className:"p-8 text-center",children:[d.jsx(or,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),d.jsx("p",{className:"text-red-500 text-lg mb-4",children:h}),d.jsx(He,{onClick:be,className:"bg-main-color hover:bg-second-color text-white",children:"Try Again"})]}),!u&&!h&&a.length===0&&d.jsxs("div",{className:"p-12 text-center",children:[d.jsx(sr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500 text-lg mb-2",children:j||w!=="all"||N!=="all"?"No notifications match your filters":"No notifications found"}),(j||w!=="all"||N!=="all")&&d.jsx(He,{variant:"outline",onClick:we,className:"mt-2 border-main-color text-main-color hover:bg-main-color hover:text-white",children:"Clear Filters"})]}),!u&&!h&&a.length>0&&d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[d.jsxs("p",{className:"text-gray-600",children:["Showing ",a.length," of ",o.length," notifications"]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ln,{variant:"secondary",className:"text-sm bg-main-color text-white",children:"Sorted by: Newest First"}),N==="realtime"&&d.jsxs(Ln,{variant:"outline",className:"text-sm border-green-500 text-green-600",children:[d.jsx(Ns,{className:"w-3 h-3 mr-1"}),"Real-time"]})]})]}),d.jsx("div",{className:"space-y-4",children:a.map((W,ue)=>{const ae=G(W),Me=W.isMqtt;return d.jsxs(mr,{className:Te(W),onClick:()=>Pe(W),children:[d.jsx(kn,{className:"p-0 pb-3",children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs(On,{className:`text-base font-semibold line-clamp-2 flex items-start ${ce(W)}`,children:[Y(W),d.jsx("span",{className:"flex-1",children:W.displayMessage})]}),d.jsxs("div",{className:"flex gap-2",children:[Me&&d.jsxs(Ln,{variant:"outline",className:"border-green-500 text-green-600 bg-green-50",children:[d.jsx(Ns,{className:"w-3 h-3 mr-1"}),"Live"]}),d.jsx(Ln,{variant:ae?"destructive":"secondary",className:`${ae?"bg-red-100 text-red-800 hover:bg-red-200":"bg-blue-100 text-blue-800 hover:bg-blue-200"}`,children:se(W)})]})]})}),d.jsxs(gr,{className:"p-0",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("p",{className:`text-sm ${ae?"text-red-600":"text-blue-600"}`,children:[W.date,"  ",W.time,Me&&d.jsx("span",{className:"ml-2 text-xs bg-green-100 text-green-800 px-2 py-0.5 rounded",children:"Just now"})]}),W.topic_main&&d.jsx("span",{className:`text-xs px-2 py-1 rounded ${ae?"bg-red-200 text-red-800":"bg-blue-200 text-blue-800"}`,children:W.topic_main.split("/").slice(-1)[0]})]}),d.jsx("div",{className:"mt-2 space-y-1",children:d.jsxs("div",{className:"flex flex-wrap gap-4",children:[W.robotName&&W.robotName!=="Unknown Robot"&&d.jsxs("p",{className:"text-sm text-gray-500",children:[d.jsx("strong",{children:"Robot:"})," ",W.robotName]}),W.sectionName&&d.jsxs("p",{className:"text-sm text-gray-500",children:[d.jsx("strong",{children:"Section:"})," ",W.sectionName]})]})}),d.jsxs("div",{className:"flex items-center justify-between mt-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[ae&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(or,{className:"w-4 h-4 text-red-500"}),d.jsx("span",{className:"text-sm text-red-600 font-medium",children:"Priority Alert"})]}),Me&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),d.jsx("span",{className:"text-sm text-green-600",children:"Active"})]})]}),d.jsx(He,{variant:"outline",size:"sm",className:`text-xs ${ae?"border-red-300 text-red-700 hover:bg-red-50":"border-blue-300 text-blue-700 hover:bg-blue-50"}`,children:"View Details"})]})]})]},W.notificationId||ue)})})]})]})]})}):d.jsxs("div",{ref:re,className:`
        fixed md:absolute 
        top-16 md:top-full 
        right-4 md:right-0
        left-4 md:left-auto
        h-[75vh] md:h-auto 
        w-[calc(100%-2rem)] md:w-80 lg:w-96 
        md:max-h-[80vh] 
        bg-white 
        shadow-2xl rounded-lg 
        border border-gray-200 
        overflow-hidden 
        z-50
        transform transition-all duration-300 ease-in-out
        ${s==="sidebar"?"md:left-0 md:right-auto":"md:right-0"}
      `,onClick:W=>W.stopPropagation(),children:[d.jsx("div",{className:"bg-main-color text-white p-4",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(sr,{className:"w-5 h-5"}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold",children:"Notifications"}),d.jsx("p",{className:"text-sm text-white/80",children:k.length>0?`${L}/${U} connected`:"All Projects"})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:be,className:"text-white hover:text-gray-200 transition-colors p-1",title:"Refresh notifications",children:d.jsx(Zn,{className:"w-4 h-4"})}),d.jsx("button",{onClick:e,className:"text-white hover:text-gray-200 transition-colors p-1",title:"Close notifications",children:d.jsx(bo,{className:"w-4 h-4"})})]})]})}),d.jsx("div",{className:"p-3 border-b bg-gray-50",children:d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("div",{className:"relative",children:[d.jsx(Dd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 w-4 h-4"}),d.jsx(ir,{placeholder:"Search notifications...",value:j,onChange:W=>y(W.target.value),className:"pl-10 text-sm h-9 border-gray-300 text-gray-700 focus:border-main-color focus:ring-main-color"}),j&&d.jsx("button",{onClick:()=>y(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:d.jsx(bo,{className:"w-3 h-3"})})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(He,{variant:w==="all"?"default":"outline",onClick:()=>v("all"),className:`flex-1 text-xs h-8 ${w==="all"?"bg-main-color text-white hover:bg-second-color":"border-main-color text-main-color hover:bg-main-color hover:text-white"}`,children:"All"}),d.jsxs(He,{variant:w==="alerts"?"default":"outline",onClick:()=>v("alerts"),className:`flex-1 text-xs h-8 ${w==="alerts"?"bg-red-600 text-white hover:bg-red-700":"border-red-200 text-red-700 hover:bg-red-50"}`,children:[d.jsx(or,{className:"w-3 h-3 mr-1"}),"Alerts"]}),d.jsxs(He,{variant:w==="info"?"default":"outline",onClick:()=>v("info"),className:`flex-1 text-xs h-8 ${w==="info"?"bg-blue-600 text-white hover:bg-blue-700":"border-blue-200 text-blue-700 hover:bg-blue-50"}`,children:[d.jsx(El,{className:"w-3 h-3 mr-1"}),"Info"]})]}),(j||w!=="all")&&d.jsxs(He,{variant:"outline",onClick:we,className:"text-xs h-7 border-gray-300 text-gray-700 hover:bg-gray-50",children:[d.jsx(bo,{className:"w-3 h-3 mr-1"}),"Clear Filters"]})]})}),d.jsxs("div",{className:"grid grid-cols-4 gap-1 p-3 bg-white border-b text-sm",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-lg font-bold text-main-color",children:Q.total}),d.jsx("p",{className:"text-xs text-gray-600",children:"Total"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-lg font-bold text-red-500",children:Q.alerts}),d.jsx("p",{className:"text-xs text-gray-600",children:"Alerts"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-lg font-bold text-blue-500",children:Q.info}),d.jsx("p",{className:"text-xs text-gray-600",children:"Info"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-lg font-bold text-green-500",children:Q.realtime}),d.jsx("p",{className:"text-xs text-gray-600",children:"Live"})]})]}),d.jsx("div",{className:"px-3 py-2 border-b bg-gray-50",children:I()}),d.jsxs("div",{className:"h-[calc(75vh-280px)] md:max-h-[55vh] overflow-y-auto",children:[u&&d.jsxs("div",{className:"flex justify-center items-center py-8",children:[d.jsx(pa,{className:"w-6 h-6 animate-spin text-main-color mr-2"}),d.jsx("span",{className:"text-gray-500 text-sm",children:"Loading notifications..."})]}),h&&d.jsxs("div",{className:"p-4 text-center",children:[d.jsx(or,{className:"w-8 h-8 text-red-500 mx-auto mb-2"}),d.jsx("p",{className:"text-red-500 text-sm mb-2",children:h}),d.jsx("button",{onClick:be,className:"text-main-color text-sm hover:underline font-medium",children:"Try Again"})]}),!u&&!h&&a.length===0&&d.jsxs("div",{className:"p-6 text-center",children:[d.jsx(sr,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),d.jsx("p",{className:"text-gray-500 text-sm mb-1",children:j||w!=="all"?"No notifications match your filters":"No notifications found"}),(j||w!=="all")&&d.jsx("button",{onClick:we,className:"text-main-color text-sm hover:underline font-medium mt-2",children:"Clear Filters"})]}),!u&&!h&&a.length>0&&d.jsxs("div",{className:"p-3",children:[d.jsxs("div",{className:"mb-3 flex justify-between items-center",children:[d.jsxs("p",{className:"text-gray-600 text-xs",children:["Showing ",a.length," of ",o.length," notifications"]}),d.jsx(Ln,{variant:"secondary",className:"text-xs bg-main-color text-white",children:"Newest First"})]}),d.jsx("div",{className:"space-y-2",children:a.map((W,ue)=>{const ae=G(W),Me=W.isMqtt;return d.jsxs(mr,{className:Te(W),onClick:()=>Pe(W),children:[d.jsx(kn,{className:"p-0 pb-2",children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs(On,{className:`text-sm font-semibold line-clamp-2 flex items-start ${ae?"text-red-800":"text-blue-800"}`,children:[Y(W),d.jsx("span",{className:"flex-1",children:W.displayMessage})]}),d.jsxs("div",{className:"flex gap-1",children:[Me&&d.jsxs(Ln,{variant:"outline",className:"text-xs border-green-500 text-green-600 bg-green-50",children:[d.jsx(Ns,{className:"w-2 h-2 mr-1"}),"Live"]}),d.jsx(Ln,{variant:ae?"destructive":"secondary",className:`text-xs ${ae?"bg-red-100 text-red-800 hover:bg-red-200":"bg-blue-100 text-blue-800 hover:bg-blue-200"}`,children:se(W)})]})]})}),d.jsxs(gr,{className:"p-0",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsxs("p",{className:`text-xs ${ae?"text-red-600":"text-blue-600"}`,children:[W.date,"  ",W.time,Me&&d.jsx("span",{className:"ml-1 text-xs bg-green-100 text-green-800 px-1 py-0.5 rounded",children:"now"})]}),W.topic_main&&d.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${ae?"bg-red-200 text-red-800":"bg-blue-200 text-blue-800"}`,children:W.topic_main.split("/").pop()})]}),d.jsx("div",{className:"space-y-1",children:d.jsxs("div",{className:"flex flex-wrap gap-2",children:[W.robotName&&W.robotName!=="Unknown Robot"&&d.jsxs("p",{className:"text-xs text-gray-500",children:[d.jsx("strong",{children:"Robot:"})," ",W.robotName]}),W.sectionName&&d.jsxs("p",{className:"text-xs text-gray-500",children:[d.jsx("strong",{children:"Section:"})," ",W.sectionName]})]})}),d.jsxs("div",{className:"flex items-center justify-between mt-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[ae&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(or,{className:"w-3 h-3 text-red-500"}),d.jsx("span",{className:"text-xs text-red-600 font-medium",children:"Priority"})]}),Me&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"}),d.jsx("span",{className:"text-xs text-green-600",children:"Active"})]})]}),d.jsx(He,{variant:"outline",size:"sm",className:`text-xs h-7 ${ae?"border-red-300 text-red-700 hover:bg-red-50":"border-blue-300 text-blue-700 hover:bg-blue-50"}`,children:"View"})]})]})]},W.notificationId||ue)})})]})]}),!u&&a.length>0&&d.jsx("div",{className:"border-t p-3 bg-gray-50",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("button",{onClick:be,className:"text-center text-sm text-main-color hover:text-second-color font-medium py-1 flex items-center justify-center gap-2",children:[d.jsx(Zn,{className:"w-4 h-4"}),"Refresh"]}),d.jsxs("button",{onClick:()=>C(!A),className:"text-center text-sm text-gray-600 hover:text-gray-800 font-medium py-1 flex items-center justify-center gap-2",children:[d.jsx(Ns,{className:"w-4 h-4"}),L,"/",U]})]})})]})}function F8({children:e}){const t=qt(),s=vr(),{logout:o}=ci(),[i,a]=O.useState(!0),[c,u]=O.useState(!1),[f,h]=O.useState(!1),[m,g]=O.useState([]),[b,j]=O.useState(!1),[y,w]=O.useState(null),[v,N]=O.useState(!1),[S,_]=O.useState("currentColor"),[M,A]=O.useState(!1),C=O.useRef(null),R=O.useRef(null),k=O.useRef(null),U=O.useRef(null),L="http://localhost/robots_api/api",te=G=>{try{const B=new Date(`${G.date}T${G.time}`);if(!y)return!0;const z=new Date(y);return B>z}catch{return!1}},V=()=>{if(M)return;A(!0);let G=!0;const B=setInterval(()=>{if(!M){clearInterval(B);return}v?(_(G?"#ef4444":"#3b82f6"),G=!G):(_("currentColor"),clearInterval(B),A(!1))},1e3);return()=>clearInterval(B)},ie=()=>{A(!1),_("currentColor")},H=async()=>{try{j(!0);const G=await rt.get(`${L}/notifications.php`,{headers:{"Content-Type":"application/json"}}),B=Array.isArray(G.data)?G.data:[];g(B);const z=B.some(Z=>te(Z));N(z),console.log("Dashboard notifications loaded:",B.length),console.log("Dashboard has new notifications:",z),z&&!y&&V()}catch(G){console.error("Failed to load notifications:",G)}finally{j(!1)}};O.useEffect(()=>{const G=localStorage.getItem("dashboardNotificationsLastOpened");G&&w(G)},[]),O.useEffect(()=>{v&&!y?V():ie()},[v,y]),O.useEffect(()=>{H();const G=setInterval(H,3e4);return()=>clearInterval(G)},[]);const re=[{name:"All Projects",icon:bP,path:"/homeDashboard"},{name:"Add Project",icon:Qd,path:"/homeDashboard/projectForm"},{name:"All Users",icon:nI,path:"/homeDashboard/allUsers"},{name:"Add User",icon:fE,path:"/homeDashboard/addUser"}],$=G=>t(G),K=()=>{o(),t("/login",{replace:!0})},X=()=>{const G=new Date().toISOString();w(G),localStorage.setItem("dashboardNotificationsLastOpened",G),N(!1),ie(),u(B=>!B),h(!1)},ne=()=>{const G=new Date().toISOString();w(G),localStorage.setItem("dashboardNotificationsLastOpened",G),N(!1),ie(),h(B=>!B),u(!1)};return O.useEffect(()=>{const G=B=>{c&&C.current&&!C.current.contains(B.target)&&R.current&&!R.current.contains(B.target)&&u(!1),f&&k.current&&!k.current.contains(B.target)&&U.current&&!U.current.contains(B.target)&&h(!1)};return document.addEventListener("mousedown",G),()=>document.removeEventListener("mousedown",G)},[c,f]),d.jsxs("div",{className:"flex bg-gray-50 min-h-screen max-lg:w-0 relative",children:[d.jsxs("div",{className:`hidden lg:flex fixed top-0 left-0 h-screen bg-linear-to-b from-main-color to-second-color text-white 
        shadow-2xl border-r border-main-color/20 z-40 transition-all duration-300 ease-in-out 
        ${i?"w-72":"w-16"} flex-col justify-between`,children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-right",children:d.jsx("button",{onClick:()=>a(!i),className:`p-2 mr-auto rounded-full transition shadow-md cursor-pointer 
                ${i?"hover:bg-white/20 text-white":"bg-white text-main-color hover:bg-white/90"}`,title:i?"Close Menu":"Open Menu",children:i?"":""})}),d.jsxs("div",{className:`flex items-center justify-between px-3 py-5 gap-2 border-b border-white/10 relative 
            ${i?"flex-row":"flex-col"}`,children:[i?d.jsxs("div",{className:"flex items-center gap-3 pl-2 select-none ",children:[d.jsx("img",{src:ca,alt:"Admin Logo",className:"h-10 w-10 object-contain rounded-full bg-white p-1 "}),d.jsxs("div",{className:"flex items-center gap-1 text-sm text-white/80",children:[d.jsx(YS,{size:18,className:"text-green-400"}),d.jsx("span",{className:"font-medium",children:"Admin"})]})]}):d.jsx("img",{src:ca,alt:"Logo",className:"h-10 w-10 object-contain mx-auto rounded-full bg-white p-1 select-none"}),d.jsxs("div",{className:"relative ",ref:R,children:[d.jsxs("button",{onClick:X,className:`p-2 rounded-full transition relative ${c?"bg-white/30 ":"hover:bg-white/20"}`,children:[d.jsx(sr,{size:20,style:{color:S}}),v&&d.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full animate-ping"})]}),c&&d.jsx("div",{ref:C,className:"absolute top-full left-0 mt-2 z-50",children:d.jsx(TN,{onClose:()=>u(!1),mode:"dropdown",position:"sidebar"})})]})]}),d.jsx("nav",{className:`flex flex-col gap-2 p-4 ${i?"overflow-y-auto":"overflow-hidden"}`,children:re.map((G,B)=>{const z=G.icon,Z=s.pathname===G.path;return d.jsxs("div",{className:"relative group",children:[d.jsxs("button",{onClick:()=>$(G.path),className:`flex items-center gap-3 py-2 px-2 rounded-lg font-medium w-full cursor-pointer
                    transition duration-300 ${Z?"bg-white/20 text-white":"text-white/80 hover:bg-white/15 hover:text-white"} ${i?"":"justify-center"}`,children:[d.jsx(z,{size:22}),i&&d.jsx("span",{children:G.name})]}),!i&&d.jsx("span",{className:"absolute left-1/2 -translate-x-1/2 bottom-[110%] bg-black/80 text-white text-xs px-2 rounded opacity-0 pointer-events-none group-hover:opacity-100 transition whitespace-nowrap shadow-md",children:G.name})]},B)})})]}),d.jsxs("div",{className:"border-t border-white/10 p-4 flex flex-col",children:[d.jsxs("button",{onClick:K,className:`flex items-center gap-3 text-white/90 font-medium py-2 px-1 rounded-lg hover:bg-white/15 transition w-full cursor-pointer ${i?"justify-start":"justify-center"}`,children:[d.jsx(Od,{size:20}),i&&d.jsx("span",{children:"Logout"})]}),i&&d.jsxs("div",{className:"mt-3 text-xs text-white/60 flex",children:[d.jsx(SP,{size:14,className:"mb-1 me-2"}),d.jsx("span",{children:"  2025 Dashboard"})]})]})]}),d.jsxs("header",{className:"lg:hidden fixed top-0 left-0 right-0 bg-linear-to-r from-main-color to-second-color text-white flex items-center justify-between px-4 py-3 z-40",children:[d.jsxs("div",{className:"flex items-center gap-2 select-none",children:[d.jsx("img",{src:ca,alt:"Logo",className:"h-9 w-9 object-contain rounded-full bg-white p-1"}),d.jsxs("div",{className:"flex items-center gap-1 text-sm text-white/80",children:[d.jsx(YS,{size:16,className:"text-green-400"}),d.jsx("span",{className:"font-medium text-xs sm:text-sm",children:"Admin"})]})]}),d.jsxs("nav",{className:"flex items-center gap-4 sm:gap-5 ",children:[d.jsxs("div",{className:"relative",ref:U,children:[d.jsxs("button",{onClick:ne,className:`p-2 rounded-full transition relative ${f?"bg-white/30 ":"hover:bg-white/20"}`,children:[d.jsx(sr,{size:22,style:{color:S}}),v&&d.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full animate-ping"})]}),f&&d.jsx("div",{ref:k,className:"absolute top-full right-0 mt-2 z-50",children:d.jsx(TN,{onClose:()=>h(!1),mode:"dropdown",position:"header"})})]}),re.map((G,B)=>{const z=G.icon,Z=s.pathname===G.path;return d.jsxs("button",{onClick:()=>$(G.path),title:G.name,className:`relative group transition cursor-pointer ${Z?"text-white drop-shadow-md":"text-white/70 hover:text-white"}`,children:[d.jsx(z,{size:22}),d.jsx("span",{className:"absolute bottom-[120%] left-1/2 -translate-x-1/2 text-xs bg-black/70 text-white px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition",children:G.name})]},B)}),d.jsx("button",{onClick:K,title:"Logout",className:"text-white/70 hover:text-white transition cursor-pointer",children:d.jsx(Od,{size:22})})]})]}),d.jsx("main",{className:`flex-1 transition-all duration-300 ease-in-out overflow-y-auto pt-[70px] lg:pt-0 ${i?"lg:pl-[18rem]":"lg:pl-[4rem]"}`,children:e})]})}function V8({children:e}){const[t,s]=O.useState(!0);return O.useEffect(()=>{const o=()=>{s(window.innerWidth>=1024)};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]),d.jsxs("div",{className:"flex h-screen overflow-hidden",children:[d.jsx(F8,{isOpen:t,onToggle:s}),d.jsx("div",{className:"flex flex-col flex-1 bg-gray-50 min-w-0 transition-all duration-300 ease-in-out",children:d.jsx("main",{className:"flex-1 overflow-auto   max-lg:pt-22",children:e})})]})}const li=async e=>{try{return(await ai.delete(e)).data}catch(t){throw console.error(" DELETE Error:",t),t}};function CN({project:e,onConfirm:t,onCancel:s,deleteAll:o=!1}){return d.jsx(vo,{children:(e||o)&&d.jsx(ct.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:d.jsxs(ct.div,{initial:{scale:.9,opacity:0,y:-30},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:-30},transition:{duration:.3},className:"bg-white rounded-2xl shadow-2xl p-8 w-[90%] max-w-md text-center border border-gray-200",children:[d.jsx(wo,{size:48,className:"mx-auto text-red-500 mb-4 animate-pulse"}),d.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Confirm Delete"}),d.jsx("p",{className:"text-gray-600 mb-6",children:o?d.jsxs(d.Fragment,{children:["Are you sure you want to delete"," ",d.jsx("span",{className:"font-semibold text-main-color",children:"all projects"}),"? This action cannot be undone."]}):d.jsxs(d.Fragment,{children:["Are you sure you want to delete"," ",d.jsx("span",{className:"font-semibold text-main-color",children:e?.ProjectName||"this project"}),"? This action cannot be undone."]})}),d.jsxs("div",{className:"flex justify-center gap-4",children:[d.jsx(He,{onClick:s,className:"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100 px-6 rounded-xl transition-all cursor-pointer",children:"Cancel"}),d.jsx(He,{onClick:()=>t(o?null:e?.projectId),className:"bg-red-500 text-white hover:bg-white hover:text-red-500 border border-red-500 px-6 rounded-xl transition-all cursor-pointer",children:"Confirm"})]})]})})})}function q8(){const e=qt(),[t,s]=O.useState([]),[o,i]=O.useState(null),[a,c]=O.useState(!1),u="http://localhost/robots_api/api";O.useEffect(()=>{(async()=>{try{const g=await Dt(`${u}/projects`);s(g||[])}catch(g){console.error("Failed to fetch projects:",g),qe.error("Failed to load projects")}})(),console.log("projects =",t)},[]);const f=async()=>{try{const m=await li(`${u}/projects`);m?.success||m?.message?.includes("successfully")?(qe.success("All projects deleted successfully!"),s([])):qe.error(m?.message||"Failed to delete all projects.")}catch(m){console.error("Error deleting all projects:",m),qe.error("Error deleting all projects. Please try again.")}finally{c(!1)}},h=async m=>{try{const g=await li(`${u}/projects/${m}`);g?.success||g?.message?.includes("deleted")?(qe.success("Project deleted successfully!"),s(b=>b.filter(j=>j.projectId!==m))):qe.error(g?.message||"Failed to delete project.")}catch(g){console.error("Error deleting project:",g),qe.error("Error deleting project. Please try again.")}finally{i(null)}};return d.jsxs("div",{className:"p-6 md:px-10 lg:px-14",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-10",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"All Projects"}),t.length>0&&d.jsxs(He,{className:`flex items-center justify-center gap-2 cursor-pointer\r
                       bg-second-color text-white border border-second-color \r
                       hover:bg-white hover:text-second-color transition-colors\r
                       text-sm sm:text-base md:text-lg \r
                       px-3 py-2 sm:px-4 sm:py-2 md:px-5 md:py-3\r
                       rounded-xl shadow-md hover:shadow-lg `,onClick:()=>c(!0),children:[d.jsx(No,{className:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6"}),d.jsx("span",{children:"Delete All"})]})]}),t.length>0?d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(m=>{const g=m.Image?`http://localhost/robots_api/uploads/${m.Image.replace(/^uploads\//,"")}`:"http://localhost/robots_api/uploads/default.png";return d.jsxs(mr,{className:"overflow-hidden shadow-lg pt-0 hover:shadow-xl transition rounded-xl border border-gray-200",children:[d.jsx("img",{src:g,alt:m.ProjectName||"Project Image",className:"h-56 w-full object-cover"}),d.jsxs(kn,{className:"pb-2 px-4 pt-4",children:[d.jsx(On,{className:"text-xl font-semibold text-gray-800",children:m.ProjectName||"Untitled Project"}),d.jsx(qb,{className:"text-gray-600 mt-1",children:m.Description||"No description available."})]}),d.jsxs(gr,{className:"px-4 pb-4",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-3",children:[d.jsx(MP,{size:16,className:"text-main-color"}),d.jsx("span",{children:m.Location||"Unknown Location"})]}),d.jsxs("div",{className:"flex gap-2 mt-2",children:[d.jsx(He,{className:"p-2 w-10 h-10 flex items-center cursor-pointer justify-center rounded-md bg-gray-600 text-white hover:bg-white hover:text-gray-600 hover:border-gray-600 transition-colors",onClick:()=>e(`projectDetails/${m.projectId}`),children:d.jsx(lE,{size:16})}),d.jsx(He,{className:"p-2 w-10 h-10 flex items-center cursor-pointer justify-center rounded-md bg-main-color text-white hover:bg-white hover:text-main-color hover:border-main-color transition-colors",onClick:()=>e(`projectForm/${m.projectId}`),children:d.jsx(Gb,{size:16})}),d.jsx(He,{className:"p-2 w-10 h-10 flex items-center cursor-pointer justify-center rounded-md bg-second-color text-white hover:bg-white hover:text-second-color hover:border-second-color transition-colors",onClick:()=>i(m),children:d.jsx(No,{size:16})})]})]})]},m.projectId)})}):d.jsx("div",{className:"text-center text-gray-500 italic mt-20 text-lg",children:"No projects available."}),d.jsx(CN,{project:o,onConfirm:h,onCancel:()=>i(null)}),d.jsx(CN,{deleteAll:a,onConfirm:f,onCancel:()=>c(!1)})]})}const ua="/RobotsWeb/assets/Robot1-YykAfVK3.jpeg";function RN({robot:e=null,deleteAll:t=!1,onConfirm:s,onCancel:o}){return d.jsx(vo,{children:d.jsx(ct.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:d.jsxs(ct.div,{initial:{scale:.9,opacity:0,y:-30},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:-30},transition:{duration:.3},className:"bg-white rounded-2xl shadow-2xl p-8 w-[90%] max-w-md text-center border border-gray-200",children:[d.jsx(wo,{size:48,className:"mx-auto text-red-500 mb-4 animate-pulse"}),d.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Confirm Delete"}),d.jsx("p",{className:"text-gray-600 mb-6",children:t?d.jsxs(d.Fragment,{children:["Are you sure you want to delete"," ",d.jsx("span",{className:"font-semibold text-main-color",children:"all robots"}),"? This action cannot be undone."]}):d.jsxs(d.Fragment,{children:["Are you sure you want to delete"," ",d.jsx("span",{className:"font-semibold text-main-color",children:e?.RobotName||"-"}),"? This action cannot be undone."]})}),d.jsxs("div",{className:"flex justify-center gap-4",children:[d.jsx(He,{onClick:o,className:"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100 px-6 rounded-xl transition-all cursor-pointer",children:"Cancel"}),d.jsx(He,{onClick:s,className:"bg-red-500 text-white hover:bg-white hover:text-red-500 border border-red-500 px-6 rounded-xl transition-all cursor-pointer",children:"Confirm"})]})]})})})}const H8=(e,t,s)=>new Promise((o,i)=>{const a=uf.connect(`wss://${e}:8884/mqtt`,{username:t,password:s,clientId:`clientId-${Math.random().toString(16).substr(2,8)}`,reconnectPeriod:0});a.on("connect",()=>{o(a)}),a.on("error",c=>{i(c)}),setTimeout(()=>{i(new Error("MQTT connection timeout")),a.end()},1e4)}),MN=async(e,t,s,o,i)=>{try{const a=await H8(e,t,s);return new Promise((c,u)=>{a.publish(o,i,f=>{a.end(),f?u(f):c()}),setTimeout(()=>{a.end(),u(new Error("Publish timeout"))},5e3)})}catch(a){throw a}};function G8(){const{id:e}=Mr(),t=qt(),s=vr(),o="http://localhost/robots_api/uploads",[i,a]=O.useState(null),[c,u]=O.useState([]),[f,h]=O.useState(!0),[m,g]=O.useState(null),[b,j]=O.useState(!1),[y,w]=O.useState(!1),[v,N]=O.useState([]),[S,_]=O.useState(!1),M="http://localhost/robots_api/api";O.useEffect(()=>{(async()=>{try{const L=await(await fetch(`${M}/buttons`)).json();N(L||[])}catch{}})()},[M]),O.useEffect(()=>{(async()=>{try{h(!0);const U=await Dt(`${M}/projects/${e}`);a(U||{});const L=await Dt(`${M}/robots`);if(Array.isArray(L)){const te=L.filter(V=>[V.projectId,V.project_id,V.ProjectId,V.projectID,V.ProjectID].some(H=>H!=null&&String(H)===String(e)));u(te)}else u([])}catch{qe.error("Failed to load project details."),a({}),u([])}finally{h(!1)}})()},[e,M]),O.useEffect(()=>{s.state?.shouldRefresh&&((async()=>{try{const U=await Dt(`${M}/robots`);if(Array.isArray(U)){const L=U.filter(te=>[te.projectId,te.project_id,te.ProjectId,te.projectID,te.ProjectID].some(ie=>ie!=null&&String(ie)===String(e)));u(L)}}catch{}})(),window.history.replaceState({},document.title))},[s.state,e,M]);const A=async k=>{try{await li(`${M}/robots/${k}`),u(U=>U.filter(L=>L.id!==k)),qe.success("Robot deleted successfully!")}catch{qe.error("Failed to delete robot.")}finally{g(null)}},C=async()=>{try{for(const k of c)await li(`${M}/robots/${k.id}`);u([]),qe.success("All robots deleted successfully!")}catch{qe.error("Failed to delete all robots.")}finally{j(!1)}},R=async()=>{if(c.length===0){qe.warning("No robots available to set time for");return}_(!0);const k=new Date,U=k.toLocaleDateString("en-GB"),L=k.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),te=`set_time_${U.replace(/\//g,"-")}_${L.replace(/:/g,"-")}`;let V={mainTopics:0,carTopics:0,errors:0,robotDetails:[]};try{for(const H of c){const re={name:H.RobotName||"Unnamed Robot",main:{sent:!1,topic:null,error:null},car:{sent:!1,topic:null,error:null}},$=H.Sections?.main;if($?.Topic_main&&$.mqttUrl&&$.mqttUsername&&$.mqttPassword)try{await MN($.mqttUrl,$.mqttUsername,$.mqttPassword,$.Topic_main,te),re.main={sent:!0,topic:$.Topic_main,url:$.mqttUrl},V.mainTopics++}catch(K){re.main.error=K.message,V.errors++}else re.main.error="Missing MQTT configuration",$?.Topic_main&&V.errors++;if(H.isTrolley){const K=H.Sections?.car;if(K?.Topic_main&&K.mqttUrl&&K.mqttUsername&&K.mqttPassword)try{await MN(K.mqttUrl,K.mqttUsername,K.mqttPassword,K.Topic_main,te),re.car={sent:!0,topic:K.Topic_main,url:K.mqttUrl},V.carTopics++}catch(X){re.car.error=X.message,V.errors++}else re.car.error="Missing MQTT configuration",K?.Topic_main&&V.errors++}V.robotDetails.push(re)}const ie=V.mainTopics+V.carTopics;if(ie>0){let H=` Time set for ${ie} topic(s) across ${c.length} robot(s)`;(V.mainTopics>0||V.carTopics>0)&&(H+=` - Main: ${V.mainTopics}, Car: ${V.carTopics}`),qe.success(H)}V.errors>0&&qe.warning(`Failed to set time for ${V.errors} topic(s)`),ie===0&&V.errors>0&&qe.error("Failed to set time for any robot topics")}catch{qe.error("Failed to set time for robots.")}finally{_(!1)}};return f?d.jsx("div",{className:"p-6 text-center",children:d.jsx("div",{className:"text-gray-500 mb-4 text-lg",children:"Loading project..."})}):i?d.jsxs("div",{className:"p-6 md:px-10 lg:px-14",children:[d.jsx("div",{className:"mb-6",children:d.jsxs(He,{onClick:()=>t(-1),className:"cursor-pointer flex items-center gap-2 bg-main-color text-white border border-main-color hover:bg-white hover:text-main-color transition-colors px-4 py-2 rounded-xl shadow-md hover:shadow-lg",children:[d.jsx(mn,{size:18}),d.jsx("span",{children:"Back"})]})}),d.jsxs(mr,{className:"mb-8 shadow-lg rounded-xl border border-gray-200 pt-0",children:[d.jsx(kn,{className:"bg-linear-to-r from-main-color to-second-color text-white rounded-t-xl",children:d.jsx(On,{className:"text-2xl font-bold py-2",children:i.ProjectName||"-"})}),d.jsxs(gr,{className:"p-6",children:[d.jsx("p",{className:"text-gray-600 mb-4 text-lg",children:i.Description||"-"}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[d.jsx("span",{className:"font-semibold",children:"Location:"}),d.jsx("span",{children:i.Location||"-"})]}),i.Image&&i.Image!=="Array"?d.jsx("img",{src:i.Image?`${o}/${i.Image}?t=${Date.now()}`:ua,alt:i.ProjectName||"-",className:"h-64 w-full object-cover rounded-lg mt-4"}):null]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Project Robots"}),d.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[d.jsxs(He,{onClick:()=>w(!0),className:"flex items-center gap-2 cursor-pointer bg-main-color text-white border border-main-color hover:bg-white hover:text-main-color px-4 py-2 rounded-xl shadow-md hover:shadow-lg",children:[d.jsx(Qd,{size:18})," Add Robot"]}),c.length>0&&d.jsxs(d.Fragment,{children:[d.jsxs(He,{onClick:R,disabled:S||c.length===0,className:"flex items-center gap-2 cursor-pointer bg-green-600 text-white border border-green-600 hover:bg-white hover:text-green-600 px-4 py-2 rounded-xl shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(aP,{size:18}),S?"Setting Time...":`Set Time (${c.length} robots)`]}),d.jsxs(He,{onClick:()=>j(!0),className:"flex items-center gap-2 cursor-pointer bg-second-color text-white border border-second-color hover:bg-white hover:text-second-color px-4 py-2 rounded-xl shadow-md hover:shadow-lg",children:[d.jsx(No,{size:18})," Delete All Robots"]})]})]})]}),c.length>0?d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(k=>d.jsxs(mr,{className:"overflow-hidden shadow-lg pt-0 hover:shadow-xl transition rounded-xl border border-gray-200",children:[d.jsx("img",{src:k.Image?`${o}/${k.Image}?t=${Date.now()}`:ua,alt:k.RobotName||"-",className:"h-56 w-full object-cover"}),d.jsxs(kn,{className:"pb-2 px-4 pt-4",children:[d.jsx(On,{className:"text-xl font-semibold text-gray-800",children:k.RobotName||"-"}),d.jsxs(qb,{className:"text-gray-600 mt-1",children:["Voltage: ",k.Sections?.main?.Voltage||"-","V  Cycles:"," ",k.Sections?.main?.Cycles||"-"]}),d.jsxs("div",{className:"text-gray-500 text-sm mt-1",children:["Status:"," ",d.jsx("span",{className:`font-semibold ${k.Sections?.main?.Status==="Running"?"text-green-600":"text-second-color"}`,children:k.Sections?.main?.Status||"-"})]}),d.jsxs("div",{className:"text-gray-500 text-sm mt-1 space-y-1",children:[d.jsxs("div",{className:"flex items-start",children:[d.jsx("span",{className:"min-w-12",children:"Main:"}),d.jsx("span",{className:"font-mono text-xs bg-gray-100 px-1 rounded break-all",children:k.Sections?.main?.Topic_main||"Not configured"})]}),k.isTrolley&&d.jsxs("div",{className:"flex items-start",children:[d.jsx("span",{className:"min-w-12",children:"Car:"}),d.jsx("span",{className:"font-mono text-xs bg-gray-100 px-1 rounded break-all",children:k.Sections?.car?.Topic_main||"Not configured"})]})]}),d.jsxs("div",{className:"text-gray-500 text-sm mt-1 flex items-center gap-1",children:[d.jsx("span",{children:"Trolley:"}),d.jsx("span",{className:"font-semibold",children:k.isTrolley?d.jsx("span",{className:"text-green-600 flex items-center gap-1",children:" Yes"}):d.jsx("span",{className:"text-red-500 flex items-center gap-1",children:" No"})})]})]}),d.jsxs(gr,{className:"px-4 pb-4 flex gap-2 mt-2",children:[d.jsx(He,{variant:"outline",className:"cursor-pointer p-2 w-10 h-10 flex items-center justify-center rounded-md bg-gray-600 text-white hover:bg-white hover:text-gray-600 transition-colors",onClick:()=>t(`/homeDashboard/robotDetails/${k.id}`),children:d.jsx(lE,{size:16})}),d.jsx(He,{variant:"outline",className:"cursor-pointer p-2 w-10 h-10 flex items-center justify-center rounded-md bg-main-color text-white hover:bg-white hover:text-main-color transition-colors",onClick:()=>t(`/homeDashboard/editRobot/${k.id}`,{state:{projectId:e,projectName:i.ProjectName||"-"}}),children:d.jsx(Gb,{size:16})}),d.jsx(He,{variant:"outline",className:"cursor-pointer p-2 w-10 h-10 flex items-center justify-center rounded-md bg-second-color text-white hover:bg-white hover:text-second-color transition-colors",onClick:()=>g(k),children:d.jsx(No,{size:16})})]})]},k.id||Math.random()))}):d.jsx("div",{className:"text-center text-gray-500 italic mt-20 text-lg",children:"No robots available for this project."}),m&&d.jsx(RN,{robot:m,onConfirm:()=>A(m.id),onCancel:()=>g(null)}),b&&d.jsx(RN,{deleteAll:!0,onConfirm:C,onCancel:()=>j(!1)}),d.jsx(vo,{children:y&&d.jsx(ct.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:d.jsxs(ct.div,{initial:{scale:.9,opacity:0,y:-30},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:-30},transition:{duration:.3},className:"bg-white rounded-2xl shadow-2xl p-8 w-[90%] max-w-md text-center border border-gray-200",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Choose Robot Type"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Please select the type of robot you want to add."}),d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx(He,{onClick:()=>{w(!1),t(`/homeDashboard/addRobotw/${e}`,{state:{projectId:e,projectName:i.ProjectName||"-",type:"withTrolley"}})},className:"bg-main-color text-white border border-main-color hover:bg-white hover:text-main-color px-6 py-3 rounded-xl shadow-md hover:shadow-lg transition-all",children:"Add Robot with Trolley"}),d.jsx(He,{onClick:()=>{w(!1),t(`/homeDashboard/addRobotOnly/${e}`,{state:{projectId:e,projectName:i.ProjectName||"-",type:"robotOnly"}})},className:"bg-second-color text-white border border-second-color hover:bg-white hover:text-second-color px-6 py-3 rounded-xl shadow-md hover:shadow-lg transition-all",children:"Add Robot Only"}),d.jsx(He,{onClick:()=>w(!1),className:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-100 px-6 py-3 rounded-xl transition-all",children:"Cancel"})]})]})})})]}):d.jsx("div",{className:"p-6 text-center",children:d.jsx("div",{className:"text-second-color text-lg",children:"Project not found."})})}function kN({robotId:e,sectionName:t}){const[s,o]=O.useState([]),[i,a]=O.useState([]),[c,u]=O.useState(!0),[f,h]=O.useState(null),[m,g]=O.useState(null),[b,j]=O.useState(!1),[y,w]=O.useState(null),v="http://localhost/robots_api/api";O.useEffect(()=>{if(!e){h("Cannot determine robot ID"),u(!1);return}_()},[e,t]),O.useEffect(()=>{const C=setInterval(()=>{e&&_()},5e3);return()=>clearInterval(C)},[e,t]);const N=C=>C.notificationId||C.id||C.notification_id||C.Id||C.ID||null,S=(C,R,k)=>{if(!R?.Sections?.[k]||!Array.isArray(C))return[];const U=R.Sections[k].Topic_main,L=C.filter(ie=>ie.topic_main===U);return console.log(L),L.sort((ie,H)=>{const re=new Date(`${ie.date}T${ie.time}`),$=new Date(`${H.date}T${H.time}`);return re-$}).slice(-10).reverse()},_=async()=>{try{u(!0),h(null);const C=await rt.get(`${v}/notifications.php`,{headers:{"Content-Type":"application/json"}}),R=Array.isArray(C.data)?C.data:[];o(R);const U=(await rt.get(`${v}/robots/${e}`)).data;w(U);const L=S(R,U,t);a(L),console.log("lkjhgfdsdfghjk",L)}catch(C){h(`Failed to load notifications or robot data: ${C.message}`)}finally{u(!1)}},M=async C=>{const R=N(C);if(!R)return alert("Cannot delete: Invalid ID");if(confirm("Are you sure you want to delete this notification?"))try{g(R),await rt.delete(`${v}/notifications/${R}`),o(k=>k.filter(U=>N(U)!==R)),a(k=>k.filter(U=>N(U)!==R))}catch(k){alert("Failed to delete notification: "+k.message)}finally{g(null)}},A=async()=>{if(!i.length)return alert("No notifications to delete");if(confirm(`Are you sure you want to delete all ${i.length} notifications?`))try{j(!0);for(const C of i){const R=N(C);R&&await rt.delete(`${v}/notifications/${R}`)}o(C=>C.filter(R=>!i.includes(R))),a([]),alert("All notifications cleared successfully")}catch(C){alert("Error while clearing notifications: "+C.message)}finally{j(!1)}};return c?d.jsxs("p",{className:"text-center py-10 text-gray-500",children:["Loading notifications for robot ",e,"..."]}):f?d.jsxs("div",{className:"text-center py-5",children:[d.jsx("p",{className:"text-red-500 mb-4",children:f}),d.jsx("button",{onClick:_,className:"bg-main-color text-white px-4 py-2 rounded hover:bg-blue-700",children:"Try Again"})]}):d.jsxs("div",{className:"p-4 pb-2",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h2",{className:"text-xl font-semibold text-main-color",children:['Robot Notifications - Section "',t,'"']}),i.length>0&&d.jsxs("button",{onClick:A,disabled:b,className:"flex items-center gap-2 bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 disabled:bg-red-300 disabled:cursor-not-allowed",children:[b?d.jsx(pa,{className:"w-3 h-3 animate-spin"}):d.jsx(bo,{className:"w-4 h-4"}),"Clear All (",i.length,")"]})]}),d.jsx("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:d.jsxs("p",{className:"text-sm text-blue-700",children:["Total Notifications: ",i.length,"  Auto-refresh every 5 seconds"]})}),d.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:i.length>0?i.map((C,R)=>{const k=N(C),U=C.type==="alert",L=U?"bg-red-50":"bg-blue-50",te=U?"border-red-200":"border-blue-200",V=U?"text-red-500":"text-main-color";return d.jsxs(mr,{className:`shadow-md border ${te} ${L} p-2 relative gap-2`,children:[d.jsx("button",{onClick:()=>M(C),disabled:m===k,className:"absolute top-3 right-3 p-2 text-red-500 hover:bg-red-50 rounded transition-all disabled:opacity-50",title:"Delete this notification",children:m===k?d.jsx(pa,{className:"w-4 h-4 animate-spin"}):d.jsx(No,{className:"w-4 h-4"})}),d.jsx(kn,{className:"pb-2",children:d.jsxs("div",{className:"flex items-center gap-1",children:[U?d.jsx(or,{className:`w-5 h-5 ${V}`}):d.jsx(sr,{className:`w-5 h-5 ${V}`}),d.jsx(On,{className:`text-lg ${U?"text-red-800":"text-main-color"}`,children:C.message})]})}),d.jsxs(gr,{children:[d.jsxs("p",{className:`text-sm ${U?"text-red-600":"text-gray-600"}`,children:["Date: ",C.date," | Time: ",C.time]}),U&&d.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[d.jsx(or,{className:"w-3 h-3 text-red-500"}),d.jsx("span",{className:"text-xs text-red-600 font-medium",children:"Alert Notification"})]})]})]},k||R)}):d.jsxs("div",{className:"text-center py-4 text-gray-500",children:[d.jsxs("p",{children:['No notifications found for section "',t,'"']}),d.jsx("button",{onClick:_,className:"bg-main-color text-white mt-3 px-4 py-2 rounded hover:bg-blue-700",children:"Refresh Notifications"})]})})]})}function ON({sectionName:e}){const[t,s]=O.useState([]),[o,i]=O.useState([]),[a,c]=O.useState(!0),[u,f]=O.useState(null),[h,m]=O.useState(null),[g,b]=O.useState({show:!1,message:""}),j=Mr(),w=vr().pathname.split("/").filter(Boolean);let v=null,N=null;w.includes("robotDetails")?(v="robot",N=w[w.indexOf("robotDetails")+1]):w.includes("trolleyDetails")?(v="trolley",N=w[w.indexOf("trolleyDetails")+1]):j.id&&(N=j.id,v="robot");const S="http://localhost/robots_api/api";O.useEffect(()=>{if(!N){f("Cannot determine device ID from URL"),c(!1);return}M()},[N,v,e]),O.useEffect(()=>{const C=setInterval(()=>{N&&M()},5e3);return()=>clearInterval(C)},[N,v,e]),O.useEffect(()=>{if(g.show){const C=setTimeout(()=>{b({show:!1,message:""})},3e3);return()=>clearTimeout(C)}},[g]);const _=(C,R,k)=>{if(!R?.Sections?.[k]||!Array.isArray(C))return[];const U=R.Sections[k].Topic_main;return C.filter(ie=>ie.topic_main===U).sort((ie,H)=>{const re=new Date(`${ie.date}T${ie.time}`),$=new Date(`${H.date}T${H.time}`);return re-$}).slice(-10).reverse()},M=async()=>{try{c(!0),f(null);const C=await rt.get(`${S}/logs.php`,{headers:{"Content-Type":"application/json"}}),R=Array.isArray(C.data)?C.data:C.data?.logs||[];s(R);const U=(await rt.get(`${S}/${v}s/${N}`)).data;m(U);const L=_(R,U,e);i(L)}catch(C){f(`Failed to load logs: ${C.message}`)}finally{c(!1)}},A=()=>{if(o.length===0){b({show:!0,message:"No logs available to download"});return}const R=[["Date","Time","Message","Topic"].join(","),...o.map(te=>[`"'${te.date||""}'"`,`"'${te.time||""}'"`,`"${(te.message||"").replace(/"/g,'""')}"`,`"${te.topic_main||""}"`].join(","))].join(`
`),k=new Blob([R],{type:"text/csv;charset=utf-8;"}),U=document.createElement("a"),L=URL.createObjectURL(k);U.href=L,U.download=`logs_${v}_${N}_${Date.now()}.csv`,U.click(),b({show:!0,message:"Logs downloaded successfully!"})};return a?d.jsxs("div",{className:"text-center py-10",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-main-color mx-auto"}),d.jsx("p",{className:"mt-2 text-gray-500",children:"Loading logs..."})]}):u?d.jsxs("div",{className:"text-center py-10",children:[d.jsx("p",{className:"text-red-500 mb-4",children:u}),d.jsx("button",{onClick:M,className:"bg-main-color text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]}):d.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:[g.show&&d.jsx("div",{className:"fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 animate-fade-in",children:g.message}),d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-xl font-semibold text-main-color",children:[v==="robot"?"Robot":"Trolley"," Logs - ",e]}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Activity logs and system events"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:A,disabled:o.length===0,className:"flex items-center gap-2 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:[d.jsx(uE,{className:"w-4 h-4"}),"Export CSV"]}),d.jsxs("button",{onClick:M,className:"flex items-center gap-2 bg-main-color text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(Zn,{className:"w-4 h-4"}),"Refresh"]})]})]}),d.jsx("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("p",{className:"text-sm text-blue-700 font-medium",children:["Total Logs: ",d.jsx("span",{className:"font-bold",children:o.length})]}),d.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Showing last 10 logs only  Read-only access  Auto-refresh every 5 seconds"})]}),d.jsx(kd,{className:"w-6 h-6 text-blue-500"})]})}),d.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:o.length>0?o.map((C,R)=>d.jsx("div",{className:"border border-gray-200 rounded-lg p-4 bg-white hover:bg-gray-50 transition-colors duration-200",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"w-2 h-2 bg-main-color rounded-full mt-2 flex-shrink-0"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm text-gray-800 font-medium",children:C.message||"No message"}),d.jsxs("div",{className:"flex flex-wrap gap-4 mt-2 text-xs text-gray-500",children:[d.jsxs("span",{children:["Date: ",C.date||"Unknown"]}),d.jsxs("span",{children:["Time: ",C.time||"Unknown"]}),C.topic_main&&d.jsxs("span",{children:["Topic: ",C.topic_main]})]})]})]})},R)):d.jsxs("div",{className:"text-center py-8",children:[d.jsx(kd,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),d.jsx("p",{className:"text-gray-500 text-lg",children:"No logs found"}),d.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:['No logs available for section "',e,'"']})]})}),o.length>0&&d.jsx("div",{className:"mt-6 p-3 bg-gray-50 rounded-lg",children:d.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[d.jsxs("span",{children:["Displaying ",t.length," logs"]}),d.jsx("span",{className:"text-xs bg-main-color text-white px-2 py-1 rounded",children:"Read Only"})]})})]})}const W8=async(e,t,s,o,i)=>{try{const a=uf.connect(`wss://${e}:8884/mqtt`,{username:t,password:s,clientId:`clientId-${Math.random().toString(16).substr(2,8)}`,reconnectPeriod:0});return new Promise((c,u)=>{a.on("connect",()=>{a.publish(o,i,f=>{a.end(),f?u(f):c()})}),a.on("error",f=>{a.end(),u(f)}),setTimeout(()=>{a.end(),u(new Error("MQTT connection timeout"))},1e4)})}catch(a){throw a}};function K8({schedule:e={days:[],hour:8,minute:0},setSchedule:t=()=>{},projectId:s}){const{id:o}=Mr(),[i,a]=O.useState(!1),[c,u]=O.useState(!1),[f,h]=O.useState(!1),[m,g]=O.useState(null),[b,j]=O.useState(!0),y=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],w=200,v=w/2-20,N="http://localhost/robots_api/api";O.useEffect(()=>{(async()=>{if(o)try{j(!0);const K=await Dt(`${N}/robots/${o}`);g(K)}catch(K){console.error("Error fetching robot data:",K)}finally{j(!1)}})()},[o,N]);const _=(()=>{if(!m?.Sections?.car)return null;const $=m.Sections.car;return{mqttUrl:$.mqttUrl,mqttUsername:$.mqttUsername,mqttPassword:$.mqttPassword,topic:$.Topic_main}})(),M=()=>`robot_${o}_schedule_visibility`,A=()=>{try{const $=localStorage.getItem(M());return $?JSON.parse($):!0}catch($){return console.error("Error loading schedule visibility:",$),!0}},C=$=>{try{localStorage.setItem(M(),JSON.stringify($))}catch(K){console.error("Error saving schedule visibility:",K)}},R=$=>{try{u(!0),C($),console.log($?"Schedule is now visible to users":"Schedule is now hidden from users")}catch(K){console.error("Error updating schedule visibility:",K)}finally{setTimeout(()=>{u(!1)},500)}},k=()=>A(),U=$=>{const K=e.days.includes($)?e.days.filter(X=>X!==$):[...e.days,$];t({...e,days:K})},L=($,K)=>{const X=$.currentTarget.getBoundingClientRect(),ne=X.left+X.width/2,G=X.top+X.height/2,B=$.clientX-ne,z=$.clientY-G;let Z=Math.atan2(z,B)*(180/Math.PI)+90;if(Z<0&&(Z+=360),K==="hour"){const pe=Math.round(Z/360*12)%12||12;t({...e,hour:pe})}else if(K==="minute"){let pe=Math.round(Z/360*60/5)*5;pe===60&&(pe=0),t({...e,minute:pe})}},te=()=>y.map($=>e.days.includes($)?"1":"0").join("_"),V=async()=>{if(!o){qe.error("RobotId is missing!");return}if(!e.days.length){qe.error("Please select at least one day");return}if(!s){qe.error("ProjectId is missing!");return}try{a(!0),h(!0);let $=!1;if(_&&_.mqttUrl&&_.mqttUsername&&_.mqttPassword&&_.topic)try{const B=`${String(e.hour).padStart(2,"0")}_${String(e.minute).padStart(2,"0")}`,z=te(),Z=`schedule_${B}_${z}`;await W8(_.mqttUrl,_.mqttUsername,_.mqttPassword,_.topic,Z),$=!0,console.log(`Schedule sent via MQTT: ${Z} to topic: ${_.topic}`)}catch(B){console.error("MQTT publish failed:",B)}const K=y.map(B=>e.days.includes(B)?1:0),ne={BtnName:`schedule_${e.hour}_${e.minute}_${K.join("_")}`,RobotId:parseInt(o),Color:"#0d9488",Operation:"/start",projectId:s},G=$?"Schedule sent successfully via MQTT":"Schedule sent successfully";qe.success(G)}catch($){console.error("Failed to save schedule:",$),qe.error("Failed to save schedule")}finally{a(!1),h(!1)}},ie=Array.from({length:12},($,K)=>K+1),H=Array.from({length:12},($,K)=>K*5),re=k();return b?d.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:d.jsxs("div",{className:"text-center py-4",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-main-color mx-auto"}),d.jsx("p",{className:"text-gray-500 mt-2",children:"Loading robot data..."})]})}):d.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm relative group",children:[d.jsx("button",{onClick:()=>R(!re),disabled:c,className:`absolute -right-2 -top-2 w-8 h-8 rounded-full flex items-center justify-center transition-all duration-200 z-20 ${c?"bg-gray-400 cursor-not-allowed":re?"bg-green-500 hover:bg-green-600 cursor-pointer":"bg-red-500 hover:bg-red-600 cursor-pointer"} opacity-0 group-hover:opacity-100 scale-90 group-hover:scale-100 shadow-md border border-white`,title:re?"Hide schedule from users":"Show schedule to users",children:c?d.jsx("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}):re?d.jsx(zn,{className:"w-4 h-4 text-white"}):d.jsx(ns,{className:"w-4 h-4 text-white"})}),d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h4",{className:"text-md font-semibold text-main-color",children:"Schedule"}),d.jsx("span",{className:"text-xs text-gray-400",children:"Hover to show visibility control"})]}),_?d.jsxs("div",{className:"mb-3 p-2 bg-green-50 rounded-lg border border-green-200",children:[d.jsxs("div",{className:"text-sm text-green-700",children:[d.jsx("strong",{children:"MQTT Connected:"})," Using car section credentials"]}),d.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Topic: ",_.topic]})]}):d.jsx("div",{className:"mb-3 p-2 bg-yellow-50 rounded-lg border border-yellow-200",children:d.jsxs("div",{className:"text-sm text-yellow-700",children:[d.jsx("strong",{children:"MQTT Not Configured:"})," No car section MQTT credentials found"]})}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:y.map($=>d.jsx("button",{onClick:()=>U($),className:`px-3 py-2 rounded-md text-sm ${e.days.includes($)?"bg-main-color text-white":"bg-white border border-gray-200 text-gray-700"}`,children:$},$))}),d.jsxs("div",{className:"flex max-md:flex-wrap gap-6 items-center",children:[d.jsxs("svg",{width:w,height:w,onClick:$=>L($,"minute"),className:"cursor-pointer",children:[d.jsx("circle",{cx:w/2,cy:w/2,r:v+10,fill:"#f3f4f6",stroke:"#d1d5db",strokeWidth:"2"}),ie.map($=>{const K=$%12/12*2*Math.PI-Math.PI/2,X=w/2+v*.75*Math.cos(K),ne=w/2+v*.75*Math.sin(K);return d.jsx("text",{x:X,y:ne,textAnchor:"middle",dominantBaseline:"middle",fontSize:"12",fontWeight:"bold",onClick:G=>L(G,"hour"),className:"cursor-pointer select-none",children:$},$)}),H.map($=>{const K=$/60*2*Math.PI-Math.PI/2,X=w/2+v*.9*Math.cos(K),ne=w/2+v*.9*Math.sin(K),G=w/2+v*Math.cos(K),B=w/2+v*Math.sin(K);return d.jsx("line",{x1:X,y1:ne,x2:G,y2:B,stroke:"#9ca3af",strokeWidth:"1"},$)}),d.jsx("line",{x1:w/2,y1:w/2,x2:w/2+v*.5*Math.cos(e.hour%12/12*2*Math.PI-Math.PI/2),y2:w/2+v*.5*Math.sin(e.hour%12/12*2*Math.PI-Math.PI/2),stroke:"#3b82f6",strokeWidth:"4",strokeLinecap:"round"}),d.jsx("line",{x1:w/2,y1:w/2,x2:w/2+v*.8*Math.cos(e.minute/60*2*Math.PI-Math.PI/2),y2:w/2+v*.8*Math.sin(e.minute/60*2*Math.PI-Math.PI/2),stroke:"#f97316",strokeWidth:"2",strokeLinecap:"round"}),d.jsx("circle",{cx:w/2,cy:w/2,r:"4",fill:"#000"})]}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs("div",{className:"text-gray-700 font-medium",children:["Selected Time: ",String(e.hour).padStart(2,"0"),":",String(e.minute).padStart(2,"0")]}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsx("label",{className:"text-sm text-gray-600",children:"Hour:"}),d.jsx("input",{type:"number",min:"0",max:"23",value:e.hour,onChange:$=>t({...e,hour:Math.max(0,Math.min(23,Number($.target.value)))}),className:"border rounded-lg p-1 w-16"})]}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsx("label",{className:"text-sm text-gray-600",children:"Minute:"}),d.jsx("input",{type:"number",min:"0",max:"59",step:"5",value:e.minute,onChange:$=>t({...e,minute:Math.max(0,Math.min(59,Number($.target.value)))}),className:"border rounded-lg p-1 w-16"})]})]})]}),d.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[d.jsxs("div",{className:"text-sm text-gray-600",children:["Current:"," ",d.jsxs("span",{className:"font-medium",children:[e.days.length?e.days.join(", "):""," @ ",String(e.hour).padStart(2,"0"),":",String(e.minute).padStart(2,"0")]}),d.jsx("br",{}),d.jsxs("span",{className:"text-xs text-gray-500",children:["Binary: ",te()," (Mon-Sun)"]})]}),d.jsx(He,{onClick:V,disabled:i||f,className:"bg-second-color text-white",children:i||f?"Saving...":"Schedule"})]})]})}const Q8=["Forward","Backward","Stop","Left","Right"];function Y8({robot:e,setRobot:t,allButtons:s=Q8,publish:o,client:i}){const a=e?.Sections?.main||{},[c,u]=O.useState([]),[f,h]=O.useState({}),[m,g]=O.useState({}),[b,j]=O.useState(!1),y="http://localhost/robots_api/api",w=()=>`robot_${e?.id}_button_visibility`,v=()=>`robot_${e?.id}_value_visibility`,N=()=>{try{const H=localStorage.getItem(w());return H?JSON.parse(H):{}}catch(H){return console.error("Error loading button visibility:",H),{}}},S=()=>{try{const H=localStorage.getItem(v());return H?JSON.parse(H):{}}catch(H){return console.error("Error loading value visibility:",H),{}}},_=H=>{try{localStorage.setItem(w(),JSON.stringify(H))}catch(re){console.error("Error saving button visibility:",re)}},M=H=>{try{localStorage.setItem(v(),JSON.stringify(H))}catch(re){console.error("Error saving value visibility:",re)}};O.useEffect(()=>{(async()=>{try{const re=await fetch(`${y}/buttons.php`);if(re.ok){const $=await re.json();u($||[])}}catch(re){console.error("Failed to fetch buttons",re),u([])}})()},[y]);const C=(()=>{if(!a.ActiveBtns)return[];try{if(Array.isArray(a.ActiveBtns))return a.ActiveBtns;if(typeof a.ActiveBtns=="string")return JSON.parse(a.ActiveBtns)}catch(H){console.error("Error parsing ActiveBtns:",H)}return[]})(),R=H=>H&&c.find($=>$.BtnName?.toLowerCase()===H?.toLowerCase())?.Color||"#4F46E5",k=H=>{console.log(" Robot Button Clicked:",H),o?(o(H),qe.success(`Sent: ${H}`)):(console.log(`Would publish robot button: ${H}`),qe.info(`Would send: ${H}`))},U=(H,re,$)=>{try{h(ne=>({...ne,[H]:!0})),console.log("Updating button visibility in localStorage:",{buttonId:H,buttonName:re,isVisible:$});const X={...N(),[H]:$};_(X),t(ne=>{if(!ne)return ne;const G=JSON.parse(JSON.stringify(ne)),B=G.Sections?.main;return B&&B.ActiveBtns&&(B.ActiveBtns=B.ActiveBtns.map(z=>(z.id||z.Name||z.name)===H?{...z,is_visible:$}:z)),G}),qe.success($?"Button is now visible to users":"Button is now hidden from users")}catch(K){console.error("Error updating button visibility:",K),qe.error("Failed to update button visibility")}finally{setTimeout(()=>{h(K=>({...K,[H]:!1}))},500)}},L=(H,re,$)=>{try{g(ne=>({...ne,[H]:!0})),console.log("Updating value visibility in localStorage:",{valueId:H,valueName:re,isVisible:$});const X={...S(),[H]:$};M(X),qe.success($?`${re} is now visible to users`:`${re} is now hidden from users`)}catch(K){console.error("Error updating value visibility:",K),qe.error("Failed to update value visibility")}finally{setTimeout(()=>{g(K=>({...K,[H]:!1}))},500)}},te=H=>N()[H]!==!1,V=H=>S()[H]!==!1,ie=()=>{j(!b)};return d.jsx("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-md p-6",children:d.jsx("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6",children:d.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-4 w-full",children:[d.jsx(Zi,{label:"Robot Name",value:e?.RobotName||"-"}),d.jsx(Zi,{label:"Robot ID",value:e?.id||"-"}),d.jsx(om,{label:"Voltage",value:a.Voltage??"-",fieldId:"voltage",isVisible:V("voltage"),onVisibilityChange:H=>L("voltage","Voltage",H),updating:m.voltage}),d.jsx(om,{label:"Cycles",value:a.Cycles??"-",fieldId:"cycles",isVisible:V("cycles"),onVisibilityChange:H=>L("cycles","Cycles",H),updating:m.cycles}),d.jsx(om,{label:"Status",value:a.Status||"-",fieldId:"status",isVisible:V("status"),onVisibilityChange:H=>L("status","Status",H),updating:m.status}),d.jsx(Zi,{label:"MQTT URL",value:a.mqttUrl||"-"}),d.jsx(Zi,{label:"MQTT Username",value:a.mqttUsername||"-"}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("label",{className:"text-xs text-gray-500 mb-1",children:"MQTT Password"}),d.jsxs("div",{className:"border border-gray-200 bg-gray-50 text-gray-700 text-sm font-medium rounded-lg p-2.5 cursor-default select-none overflow-hidden relative group",children:[d.jsx("div",{className:"truncate pr-8",children:b?a.mqttPassword||"-":""}),d.jsx("button",{onClick:ie,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors opacity-0 group-hover:opacity-100",title:b?"Hide password":"Show password",children:b?d.jsx(ns,{size:14}):d.jsx(zn,{size:14})})]})]}),d.jsx(Zi,{label:"Topic Publisher",value:a.Topic_main||"-"}),d.jsx(Zi,{label:"Topic Subscribe",value:a.Topic_subscribe||"-"}),d.jsxs("div",{className:"col-span-2",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("label",{className:"text-xs text-gray-500",children:"Active Buttons"}),d.jsx("span",{className:"text-xs text-gray-400",children:"Hover over buttons to show visibility controls"})]}),d.jsxs("div",{className:"flex flex-wrap gap-4",children:[C.map((H,re)=>{const $=typeof H=="object"&&H!==null?H.Name||H.name||"":H,K=H.id||$||`btn-${re}`,X=te(K);return d.jsxs("div",{className:"flex items-center gap-2 group",children:[d.jsxs("button",{onClick:()=>k($),className:"px-4 py-2 rounded-xl font-medium border cursor-pointer select-none hover:opacity-90 transition-all flex items-center gap-2 min-w-[120px] relative",style:{backgroundColor:R($),borderColor:R($),color:"#fff"},children:[$," "]}),d.jsx("button",{onClick:()=>U(K,$,!X),disabled:f[K],className:`w-8 h-8 rounded-full flex items-center justify-center transition-all duration-200 ${f[K]?"bg-gray-400 cursor-not-allowed opacity-100":X?"bg-green-500 hover:bg-green-600 cursor-pointer":"bg-red-500 hover:bg-red-600 cursor-pointer"} opacity-0 group-hover:opacity-100 scale-90 group-hover:scale-100 shadow-md border border-white`,title:X?"Hide from users":"Show to users",children:f[K]?d.jsx("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}):X?d.jsx(zn,{className:"w-4 h-4 text-white"}):d.jsx(ns,{className:"w-4 h-4 text-white"})})]},K)}),C.length===0&&d.jsx("div",{className:"text-gray-500 italic",children:"No active buttons"})]})]})]})})})}function Zi({label:e,value:t}){return d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-xs text-gray-500 mb-1",children:e}),d.jsx("div",{className:"border border-gray-200 bg-gray-50 text-gray-700 text-sm font-medium rounded-lg p-2.5 cursor-default select-none overflow-hidden",children:d.jsx("div",{className:"truncate",title:t,children:t??"-"})})]})}function om({label:e,value:t,fieldId:s,isVisible:o,onVisibilityChange:i,updating:a}){return d.jsxs("div",{className:"flex flex-col group relative",children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsx("span",{className:"text-xs text-gray-500",children:e}),d.jsx("button",{onClick:()=>i(!o),disabled:a,className:`w-6 h-6 rounded-full flex items-center justify-center transition-all duration-200 ${a?"bg-gray-400 cursor-not-allowed opacity-100":o?"bg-green-500 hover:bg-green-600 cursor-pointer":"bg-red-500 hover:bg-red-600 cursor-pointer"} opacity-0 group-hover:opacity-100 scale-90 group-hover:scale-100 shadow-md border border-white`,title:o?`Hide ${e} from users`:`Show ${e} to users`,children:a?d.jsx("div",{className:"w-2 h-2 border-2 border-white border-t-transparent rounded-full animate-spin"}):o?d.jsx(zn,{className:"w-3 h-3 text-white"}):d.jsx(ns,{className:"w-3 h-3 text-white"})})]}),d.jsx("div",{className:"border border-gray-200 bg-gray-50 text-gray-700 text-sm font-medium rounded-lg p-2.5 cursor-default select-none overflow-hidden",children:d.jsx("div",{className:"truncate",title:t,children:t??"-"})})]})}function X8({robotId:e,imgSrc:t="/assets/placeholder-trolley.jpg",trolleyData:s={},publish:o,client:i}){t&&t.trim();const a=s?.Sections?.car||{},[c,u]=O.useState([]),[f,h]=O.useState({}),[m,g]=O.useState({}),[b,j]=O.useState(!1),y="http://localhost/robots_api/api",w=()=>`robot_${s?.id}_trolley_button_visibility`,v=()=>`robot_${s?.id}_trolley_value_visibility`,N=()=>{try{const H=localStorage.getItem(w());return H?JSON.parse(H):{}}catch(H){return console.error("Error loading button visibility:",H),{}}},S=()=>{try{const H=localStorage.getItem(v());return H?JSON.parse(H):{}}catch(H){return console.error("Error loading value visibility:",H),{}}},_=H=>{try{localStorage.setItem(w(),JSON.stringify(H))}catch(re){console.error("Error saving button visibility:",re)}},M=H=>{try{localStorage.setItem(v(),JSON.stringify(H))}catch(re){console.error("Error saving value visibility:",re)}};O.useEffect(()=>{(async()=>{try{const re=await fetch(`${y}/buttons.php`);if(re.ok){const $=await re.json();u($||[])}}catch(re){console.error("Failed to fetch buttons",re),u([])}})()},[y]);const C=(()=>{if(!a.ActiveBtns)return[];try{if(Array.isArray(a.ActiveBtns))return a.ActiveBtns;if(typeof a.ActiveBtns=="string")return JSON.parse(a.ActiveBtns)}catch(H){console.error("Error parsing ActiveBtns:",H)}return[]})(),R=H=>H&&c.find($=>$.BtnName?.toLowerCase()===H?.toLowerCase())?.Color||"#4F46E5",k=H=>{console.log(" Trolley Button Clicked:",H),o?(o(H),qe.success(`Sent: ${H}`)):(console.log(`Would publish trolley button: ${H}`),qe.info(`Would send: ${H}`))},U=(H,re,$)=>{try{h(ne=>({...ne,[H]:!0})),console.log("Updating trolley button visibility in localStorage:",{buttonId:H,buttonName:re,isVisible:$});const X={...N(),[H]:$};_(X),qe.success($?"Button is now visible to users":"Button is now hidden from users")}catch(K){console.error("Error updating button visibility:",K),qe.error("Failed to update button visibility")}finally{setTimeout(()=>{h(K=>({...K,[H]:!1}))},500)}},L=(H,re,$)=>{try{g(ne=>({...ne,[H]:!0})),console.log("Updating value visibility in localStorage:",{valueId:H,valueName:re,isVisible:$});const X={...S(),[H]:$};M(X),qe.success($?`${re} is now visible to users`:`${re} is now hidden from users`)}catch(K){console.error("Error updating value visibility:",K),qe.error("Failed to update value visibility")}finally{setTimeout(()=>{g(K=>({...K,[H]:!1}))},500)}},te=H=>N()[H]!==!1,V=H=>S()[H]!==!1,ie=()=>{j(!b)};return d.jsx("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-md p-6 transition hover:shadow-lg",children:d.jsx("div",{className:"flex flex-col md:flex-row gap-6",children:d.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-4",children:[d.jsx(im,{label:"Voltage",value:a.Voltage??"-",fieldId:"voltage-trolley",isVisible:V("voltage-trolley"),onVisibilityChange:H=>L("voltage-trolley","Voltage",H),updating:m["voltage-trolley"]}),d.jsx(im,{label:"Cycles",value:a.Cycles??"-",fieldId:"cycles-trolley",isVisible:V("cycles-trolley"),onVisibilityChange:H=>L("cycles-trolley","Cycles",H),updating:m["cycles-trolley"]}),d.jsx(im,{label:"Status",value:a.Status||"-",fieldId:"status-trolley",isVisible:V("status-trolley"),onVisibilityChange:H=>L("status-trolley","Status",H),updating:m["status-trolley"]}),d.jsx(Uu,{label:"MQTT URL",value:a.mqttUrl||"-"}),d.jsx(Uu,{label:"MQTT Username",value:a.mqttUsername||"-"}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("label",{className:"text-xs text-gray-500 mb-1",children:"MQTT Password"}),d.jsxs("div",{className:"border border-gray-200 bg-gray-50 text-gray-700 text-sm font-medium rounded-lg p-2.5 cursor-default select-none overflow-hidden relative group",children:[d.jsx("div",{className:"truncate pr-8",children:b?a.mqttPassword||"-":""}),d.jsx("button",{onClick:ie,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors opacity-0 group-hover:opacity-100",title:b?"Hide password":"Show password",children:b?d.jsx(ns,{size:14}):d.jsx(zn,{size:14})})]})]}),d.jsx(Uu,{label:"Topic Publisher",value:a.Topic_main||"-"}),d.jsx(Uu,{label:"Topic Subscribe",value:a.Topic_subscribe||"-"}),d.jsxs("div",{className:"col-span-2",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("label",{className:"text-xs text-gray-500",children:"Active Buttons"}),d.jsx("span",{className:"text-xs text-gray-400",children:"Hover over buttons to show visibility controls"})]}),d.jsxs("div",{className:"flex flex-wrap gap-4",children:[C.map((H,re)=>{const $=typeof H=="object"&&H!==null?H.Name||H.name||"":H,K=H.id||$||`btn-${re}`,X=te(K);return $.toLowerCase().includes("schedule")?null:d.jsxs("div",{className:"flex items-center gap-2 group",children:[d.jsxs("button",{onClick:()=>k($),className:"flex items-center gap-2 px-4 py-2 rounded-xl border select-none cursor-pointer hover:opacity-90 transition-all min-w-[120px] justify-center",style:{backgroundColor:R($),borderColor:R($),color:"#fff"},children:[$," "]}),d.jsx("button",{onClick:()=>U(K,$,!X),disabled:f[K],className:`w-8 h-8 rounded-full flex items-center justify-center transition-all duration-200 ${f[K]?"bg-gray-400 cursor-not-allowed opacity-100":X?"bg-green-500 hover:bg-green-600 cursor-pointer":"bg-red-500 hover:bg-red-600 cursor-pointer"} opacity-0 group-hover:opacity-100 scale-90 group-hover:scale-100 shadow-md border border-white`,title:X?"Hide from users":"Show to users",children:f[K]?d.jsx("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}):X?d.jsx(zn,{className:"w-4 h-4 text-white"}):d.jsx(ns,{className:"w-4 h-4 text-white"})})]},K)}),C.length===0&&d.jsx("div",{className:"text-gray-500 italic text-sm",children:"No active buttons"})]})]})]})})})}function Uu({label:e,value:t}){return d.jsxs("div",{className:"flex flex-col",children:[d.jsx("label",{className:"text-xs text-gray-500 mb-1",children:e}),d.jsx("div",{className:"border border-gray-200 bg-gray-50 text-gray-700 text-sm font-medium rounded-lg p-2.5 cursor-default select-none overflow-hidden",children:d.jsx("div",{className:"truncate",title:t,children:t})})]})}function im({label:e,value:t,fieldId:s,isVisible:o,onVisibilityChange:i,updating:a}){return d.jsxs("div",{className:"flex flex-col group relative",children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsx("label",{className:"text-xs text-gray-500",children:e}),d.jsx("button",{onClick:()=>i(!o),disabled:a,className:`w-6 h-6 rounded-full flex items-center justify-center transition-all duration-200 ${a?"bg-gray-400 cursor-not-allowed opacity-100":o?"bg-green-500 hover:bg-green-600 cursor-pointer":"bg-red-500 hover:bg-red-600 cursor-pointer"} opacity-0 group-hover:opacity-100 scale-90 group-hover:scale-100 shadow-md border border-white`,title:o?`Hide ${e} from users`:`Show ${e} to users`,children:a?d.jsx("div",{className:"w-2 h-2 border-2 border-white border-t-transparent rounded-full animate-spin"}):o?d.jsx(zn,{className:"w-3 h-3 text-white"}):d.jsx(ns,{className:"w-3 h-3 text-white"})})]}),d.jsx("div",{className:"border border-gray-200 bg-gray-50 text-gray-700 text-sm font-medium rounded-lg p-2.5 cursor-default select-none overflow-hidden",children:d.jsx("div",{className:"truncate",title:t,children:t})})]})}function OT(){return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:d.jsxs(ct.div,{className:"text-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[d.jsx(ct.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"mx-auto mb-4",children:d.jsx(Im,{className:"w-12 h-12 text-blue-600"})}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Loading..."}),d.jsx("p",{className:"text-gray-600",children:"Please wait while we prepare your experience"})]})})}const Z8=["Forward","Backward","Stop","Left","Right"];function J8(){const{id:e}=Mr(),t=qt(),s="http://localhost/robots_api/api",o="http://localhost/robots_api/uploads",[i,a]=O.useState(null),[c,u]=O.useState(!0),[f,h]=O.useState("control"),[m,g]=O.useState("control"),{publishMessage:b,getConnectionStatus:j,activeConnections:y}=df(),[w,v]=O.useState({days:[],hour:8,minute:0}),N=async()=>{try{const L=await Dt(`${s}/robots.php/${e}`);a(L||{}),console.log(" API Response:",L)}catch(L){console.error(" Error fetching robot:",L)}};O.useEffect(()=>{const L=setInterval(()=>{e&&N()},1e4);return()=>clearInterval(L)},[e]),O.useEffect(()=>{(async()=>{try{u(!0),await N()}catch{qe.error("Failed to load robot data"),a({})}finally{u(!1)}})()},[e]);const S=j(e,"main"),_=j(e,"car"),M=L=>{const V=i?.Sections?.main?.Topic_main;if(!V){qe.error("No topic configured for robot");return}if(S!=="connected"){qe.error("Robot MQTT not connected");return}console.log(" Publishing to ROBOT via contextMqtt:",{topic:V,message:L}),b(e,"main",V,L)?qe.success(`Robot: ${L}`):qe.error("Cannot publish to robot")},A=L=>{const V=i?.Sections?.car?.Topic_main;if(!V){qe.error("No topic configured for trolley");return}if(_!=="connected"){qe.error("Trolley MQTT not connected");return}console.log(" Publishing to TROLLEY via contextMqtt:",{topic:V,message:L}),b(e,"car",V,L)?qe.success(`Trolley: ${L}`):qe.error("Cannot publish to trolley")},C=L=>{v(L),a(te=>({...te,schedule:L}))};if(c)return d.jsx(OT,{});if(!i)return d.jsx("div",{className:"min-h-screen flex items-center justify-center text-red-500",children:"Robot not found."});const R=i?.isTrolley==1||i?.isTrolley==="true"||i?.isTrolley===!0,k=i.Sections?.main?.mqttUrl,U=i.Sections?.car?.mqttUrl;return d.jsx(ct.div,{className:"min-h-screen bg-gray-50 p-6 sm:p-10",initial:{opacity:0,y:8},animate:{opacity:1,y:0},children:d.jsxs("div",{className:"max-w-5xl mx-auto space-y-10",children:[d.jsxs("div",{className:"flex items-center justify-between gap-4 max-md:flex-col max-md:items-start",children:[d.jsxs("div",{className:"flex items-center gap-5 max-md:flex-col",children:[d.jsx("img",{src:i?.Image&&i.Image!=="Array"?`${o}/${i.Image}?t=${Date.now()}`:"/assets/placeholder-robot.jpg",alt:"Robot",className:"h-40 w-40 object-cover rounded-xl border shadow-md"}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-main-color",children:i.RobotName||"Robot Details"}),d.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Project ID: ",d.jsx("span",{className:"font-mono",children:i.projectId||"-"})]}),d.jsxs("div",{className:"flex flex-col gap-1 text-sm mt-2 text-xs",children:[d.jsxs("div",{className:"flex items-center gap-2 ",children:[d.jsx("div",{className:`w-2 h-2 rounded-full  ${S==="connected"?"bg-green-500":S==="connecting"?"bg-yellow-500":"bg-red-500"}`}),d.jsxs("span",{className:S==="connected"?"text-green-700 text-xs":S==="connecting"?"text-yellow-700 text-xs":"text-red-700",children:["Robot:",S,k&&` (${i.Sections.main.mqttUrl})`]})]}),R&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:`w-2 h-2 rounded-full ${_==="connected"?"bg-green-500":_==="connecting"?"bg-yellow-500":"bg-red-500"}`}),d.jsxs("span",{className:_==="connected"?"text-green-700 text-xs":_==="connecting"?"text-yellow-700 text-xs":"text-red-700",children:["Trolley:",_,U&&` (${i.Sections.car.mqttUrl})`]})]})]})]})]}),d.jsx(He,{onClick:()=>t(-1),className:"bg-white border text-main-color max-md:block max-md:flex-1",children:"Back"})]}),R&&U&&d.jsxs("section",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[d.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4 max-md:flex-col",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-main-color",children:"Trolley Control"}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Trolley controls using contextMqtt"}),d.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Broker: ",i.Sections.car.mqttUrl]})]}),d.jsx(He,{onClick:()=>t(`/homeDashboard/trolleySettings/${i.id}`),className:"bg-main-color text-white h-10 self-start",children:"Settings"})]}),d.jsx(aa,{tabs:[{id:"control",label:"Control"},{id:"notifications",label:"Notifications and alerts"},{id:"logs",label:"Logs"}],active:f,onChange:h,accent:"main"}),d.jsxs("div",{className:"mt-5 space-y-6",children:[f==="control"&&d.jsx(X8,{robotId:e,imgSrc:"/assets/placeholder-trolley.jpg",trolleyData:i,publish:A,isConnected:_==="connected"}),f==="notifications"&&d.jsx(kN,{projectId:i.projectId,robotId:i.id,sectionName:"car"}),f==="logs"&&d.jsx(ON,{projectId:i.projectId,robotId:i.id,sectionName:"car"})]})]}),R&&d.jsxs("section",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[d.jsx("div",{className:"flex items-start justify-between gap-4 mb-4",children:d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-main-color",children:"Schedule Settings"}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Configure robot and trolley schedule"})]})}),d.jsx(K8,{schedule:w,setSchedule:C,projectId:i.projectId,topic:i.Sections?.car?.Topic_main})]}),k&&d.jsxs("section",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[d.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4 max-md:flex-col",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-main-color",children:"Robot Control"}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Robot controls using contextMqtt"}),d.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Broker: ",i.Sections.main.mqttUrl]})]}),d.jsx(He,{onClick:()=>t(`/homeDashboard/robotSettings/${i.id}`),className:"bg-main-color text-white h-10 self-start",children:"Settings"})]}),d.jsx(aa,{tabs:[{id:"control",label:"Control"},{id:"notifications",label:"Notifications and alerts"},{id:"logs",label:"Logs"}],active:m,onChange:g,accent:"main"}),d.jsxs("div",{className:"mt-5 space-y-6",children:[m==="control"&&d.jsx(Y8,{robot:i,setRobot:a,allButtons:Z8,publish:M,isConnected:S==="connected"}),m==="notifications"&&d.jsx(kN,{projectId:i.projectId,robotId:i.id,sectionName:"main"}),m==="logs"&&d.jsx(ON,{projectId:i.projectId,robotId:i.id,sectionName:"main"})]})]}),!k&&d.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-6 text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-yellow-800",children:"No Robot MQTT Configuration"}),d.jsx("p",{className:"text-yellow-600 mt-1",children:"Please check robot MQTT settings"})]}),R&&!U&&d.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-6 text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-orange-800",children:"No Trolley MQTT Configuration"}),d.jsx("p",{className:"text-orange-600 mt-1",children:"Trolley exists but MQTT is not configured"})]})]})})}function e$({className:e,...t}){return d.jsx("textarea",{"data-slot":"textarea",className:gn("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}function DN(){const e=qt(),{id:t}=Mr(),s=!!t,o="http://localhost/robots_api/api",i="http://localhost/robots_api/uploads",[a,c]=O.useState({ProjectName:"",Location:"",Description:"",Image:null,imagePreview:null,existingImage:""}),[u,f]=O.useState(!1),[h,m]=O.useState(!1),g=async()=>{if(s){f(!0);try{const N=await(await fetch(`${o}/projects/${t}`)).json();N&&c({ProjectName:N.ProjectName||"",Location:N.Location||"",Description:N.Description||"",Image:null,existingImage:N.Image||"",imagePreview:N.Image?`${i}/${N.Image}`:null})}catch(v){console.error("Error fetching project:",v),qe.error("Failed to load project data")}finally{f(!1)}}};O.useEffect(()=>{g()},[t]);const b=v=>{const{name:N,value:S,files:_}=v.target;if(N==="Image"&&_&&_[0]){const M=_[0];c({...a,Image:M,imagePreview:URL.createObjectURL(M)})}else c({...a,[N]:S})},j=async v=>{if(v.preventDefault(),!s&&(!a.ProjectName||!a.Location||!a.Description)){qe.warning("Please fill all required fields!",{icon:d.jsx(wo,{className:"text-yellow-500"})});return}m(!0);try{let N,S;if(s){const A={id:t,ProjectName:a.ProjectName||"",Location:a.Location||"",Description:a.Description||""};if(a.Image){const C=await y(a.Image);A.ImageBase64=C,A.imageAction="update"}else a.existingImage&&(A.imageAction="keep",A.existingImage=a.existingImage);N=`${o}/projects.php/${t}`,S={method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(A)},console.log(" Sending JSON payload for UPDATE:",A)}else{const A=new FormData;A.append("ProjectName",a.ProjectName),A.append("Location",a.Location),A.append("Description",a.Description),a.Image&&A.append("Image",a.Image),N=`${o}/projects.php`,S={method:"POST",body:A},console.log(" Sending FormData for ADD")}const _=await fetch(N,S);let M;try{const A=await _.text();console.log(" Raw server response:",A),M=JSON.parse(A)}catch(A){throw console.error("Failed to parse JSON:",A),new Error("Invalid server response")}console.log(" Parsed server response:",M),M.message&&M.message.toLowerCase().includes("success")?(qe.success(s?"Project updated successfully!":"Project added successfully!",{icon:d.jsx(cE,{className:"text-green-500"})}),setTimeout(()=>e("/projects"),1500)):qe.error(M.message||"Something went wrong!",{icon:d.jsx(wo,{className:"text-red-500"})})}catch(N){console.error(" Error saving project:",N),qe.error("Network error. Please try again.",{icon:d.jsx(wo,{className:"text-red-500"})})}finally{m(!1)}},y=v=>new Promise((N,S)=>{const _=new FileReader;_.readAsDataURL(v),_.onload=()=>{const M=_.result.split(",")[1];N(M)},_.onerror=M=>S(M)}),w=()=>{c({...a,Image:null,imagePreview:null})};return u?d.jsxs("div",{className:"flex justify-center items-center h-64",children:[d.jsx(Im,{className:"h-8 w-8 animate-spin text-main-color"}),d.jsx("span",{className:"ml-2",children:"Loading project data..."})]}):d.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-6 sm:p-10",children:[d.jsx("div",{className:"max-w-5xl w-full mx-auto mb-6 flex justify-start",children:d.jsxs(He,{onClick:()=>e(-1),className:"cursor-pointer flex items-center gap-2 bg-main-color text-white hover:bg-white hover:text-main-color border border-main-color rounded-xl shadow-md hover:shadow-lg transition-all duration-300",disabled:h,children:[d.jsx(mn,{size:18})," Back"]})}),d.jsxs(ct.form,{initial:{opacity:0,y:25},animate:{opacity:1,y:0},transition:{duration:.6},onSubmit:j,className:"max-w-5xl w-full mx-auto bg-white/80 backdrop-blur-md border border-gray-200 shadow-2xl rounded-3xl p-8 sm:p-10 flex flex-col gap-10",children:[d.jsx("h1",{className:"text-3xl font-bold text-main-color text-center",children:s?`Edit Project ${a.ProjectName}`:"Add New Project"}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-10",children:[d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center border-2 border-dashed border-gray-300 rounded-2xl p-6 hover:border-main-color transition relative",children:[a.imagePreview?d.jsxs("div",{className:"w-full",children:[d.jsx("img",{src:a.imagePreview,alt:"Preview",className:"w-full h-56 object-cover rounded-xl shadow-md mb-2"}),d.jsxs("div",{className:"flex justify-between items-center mt-2",children:[d.jsx("p",{className:"text-sm text-gray-600",children:a.Image?"New image selected":"Current image"}),a.Image&&d.jsx(He,{type:"button",variant:"destructive",size:"sm",onClick:w,disabled:h,className:"text-xs",children:"Remove"})]})]}):d.jsxs("div",{className:"text-gray-400 text-center",children:[d.jsx(Yd,{size:40,className:"mx-auto mb-3"}),d.jsx("p",{children:"Upload project image"}),d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:s?"(Leave empty to keep current image)":"(Optional)"})]}),d.jsx("input",{id:"Image",type:"file",name:"Image",accept:"image/*",onChange:b,className:"absolute inset-0 opacity-0 cursor-pointer",disabled:h})]}),d.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Project Name"}),d.jsx(ir,{type:"text",name:"ProjectName",value:a.ProjectName,onChange:b,placeholder:"Enter project name",required:!s,disabled:h,className:"cursor-pointer border-gray-300 focus:ring-2 focus:ring-main-color rounded-xl"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Location"}),d.jsx(ir,{type:"text",name:"Location",value:a.Location,onChange:b,placeholder:"Enter location",required:!s,disabled:h,className:"cursor-pointer border-gray-300 focus:ring-2 focus:ring-main-color rounded-xl"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Description"}),d.jsx(e$,{name:"Description",value:a.Description,onChange:b,placeholder:"Describe the project...",rows:5,required:!s,disabled:h,className:"cursor-pointer border-gray-300 focus:ring-2 focus:ring-main-color rounded-xl"})]}),d.jsx("div",{className:"pt-4 flex flex-col gap-4",children:d.jsxs("div",{className:"flex justify-end gap-4",children:[d.jsx(He,{type:"button",variant:"outline",onClick:()=>e(-1),disabled:h,className:"border-gray-300 text-gray-700 hover:bg-gray-100",children:"Cancel"}),d.jsx(He,{type:"submit",disabled:h||!s&&(!a.ProjectName||!a.Location||!a.Description),className:"cursor-pointer flex items-center gap-2 bg-second-color text-white border border-second-color hover:bg-white hover:text-second-color px-6 py-3 rounded-2xl shadow-md hover:shadow-lg text-lg font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:h?d.jsxs(d.Fragment,{children:[d.jsx(Im,{className:"h-5 w-5 animate-spin"}),s?"Updating...":"Adding..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Wb,{size:22}),s?"Update Project":"Add Project"]})})]})})]})]})]})]})}const Ld=async(e,t)=>{try{return(await ai.put(e,t)).data}catch(s){throw console.error(" PUT Error:",s),s}};function zy(){const e=qt(),{id:t}=Mr(),s="http://localhost/robots_api/api",[o,i]=O.useState({Username:"",Email:"",Password:"",TelephoneNumber:"",ProjectName:""}),[a,c]=O.useState(!1),[u,f]=O.useState(""),[h,m]=O.useState(!1),[g,b]=O.useState([]),[j,y]=O.useState(!1),w="#aoxns@343.";O.useEffect(()=>{t&&(async()=>{try{const M=await Dt(`${s}/users/${t}`);i({Username:M.Username||"",Email:M.Email||"",Password:M.Password||"",TelephoneNumber:M.TelephoneNumber||"",ProjectName:M.ProjectName||""})}catch{qe.error("Failed to fetch user data")}})()},[t,s]),O.useEffect(()=>{(async()=>{try{y(!0);const M=await Dt(`${s}/projects.php`);b(M||[])}catch(M){console.error("Failed to fetch projects:",M),qe.error("Failed to load projects"),b([])}finally{y(!1)}})()},[s]);const v=()=>{u===w?(c(!0),qe.success("User form has been successfully unlocked."),f("")):(qe.error("Incorrect password"),f(""))},N=_=>{const{id:M,value:A}=_.target;i(C=>({...C,[M]:A}))},S=async _=>{_.preventDefault(),m(!0);try{const M={...o};if(M.Password||delete M.Password,t)await Ld(`${s}/users/${t}`,M),qe.success("User updated successfully!");else{if(!M.Password){qe.error("Password is required for new users"),m(!1);return}await rf(`${s}/users`,M),qe.success("User added successfully!")}e("/homeDashboard/allUsers")}catch{qe.error("Failed to submit user")}finally{m(!1)}};return d.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-6 flex justify-center",children:d.jsxs("div",{className:"w-full max-w-2xl relative",children:[d.jsxs(He,{onClick:()=>e(-1),className:"absolute -top-10 left-0 flex items-center gap-2 bg-transparent text-main-color border border-main-color hover:bg-main-color/10 cursor-pointer",children:[d.jsx(mn,{size:18}),"Back"]}),d.jsxs(mr,{className:"shadow-xl border border-gray-100 rounded-2xl p-6 bg-white",children:[d.jsxs(kn,{className:"pb-2",children:[d.jsx(On,{className:"text-2xl font-semibold text-gray-800 text-center",children:t?"Edit User":"Add New User"}),d.jsx("p",{className:"text-center text-gray-500 text-sm mt-1",children:"Fill in the required information below"})]}),d.jsx(gr,{children:a?d.jsxs("form",{onSubmit:S,className:"mt-6 grid grid-cols-1 sm:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"flex flex-col space-y-2 sm:col-span-2",children:[d.jsx(Qo,{htmlFor:"Username",className:"text-gray-700 font-medium",children:"Full Name"}),d.jsx(ir,{id:"Username",value:o.Username,onChange:N,placeholder:"Enter full name",className:"h-12 border-gray-300 focus:border-main-color focus:ring-main-color rounded-xl",required:!0})]}),d.jsxs("div",{className:"flex flex-col space-y-2 sm:col-span-2",children:[d.jsx(Qo,{htmlFor:"Email",className:"text-gray-700 font-medium",children:"Email"}),d.jsx(ir,{id:"Email",type:"email",value:o.Email,onChange:N,placeholder:"Enter email address",className:"h-12 border-gray-300 focus:border-main-color focus:ring-main-color rounded-xl",required:!0})]}),d.jsxs("div",{className:"flex flex-col space-y-2 sm:col-span-2",children:[d.jsx(Qo,{htmlFor:"Password",className:"text-gray-700 font-medium",children:"Password"}),d.jsx(ir,{id:"Password",type:"text",value:o.Password,onChange:N,placeholder:t?"Leave empty to keep current password":"Enter password",className:"h-12 border-gray-300 focus:border-main-color focus:ring-main-color rounded-xl",required:!t})]}),d.jsxs("div",{className:"flex flex-col space-y-2 sm:col-span-2",children:[d.jsx(Qo,{htmlFor:"TelephoneNumber",className:"text-gray-700 font-medium",children:"Phone Number"}),d.jsx(ir,{id:"TelephoneNumber",type:"tel",value:o.TelephoneNumber,onChange:N,placeholder:"Enter phone number",className:"h-12 border-gray-300 focus:border-main-color focus:ring-main-color rounded-xl"})]}),d.jsxs("div",{className:"flex flex-col space-y-2 sm:col-span-2",children:[d.jsx(Qo,{htmlFor:"ProjectName",className:"text-gray-700 font-medium",children:"Project Name"}),d.jsxs("select",{id:"ProjectName",value:o.ProjectName,onChange:N,className:"h-12 border border-gray-300 focus:border-main-color focus:ring-main-color rounded-xl px-3 bg-white transition-colors",required:!0,children:[d.jsx("option",{value:"",children:"Select a project"}),j?d.jsx("option",{value:"",disabled:!0,children:"Loading projects..."}):g.map(_=>d.jsx("option",{value:_.ProjectName||_.name,children:_.ProjectName||_.name},_.id||_.projectId))]}),g.length===0&&!j&&d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"No projects available. Please add projects first."})]}),d.jsx("div",{className:"sm:col-span-2 flex justify-center pt-4",children:d.jsx(He,{type:"submit",disabled:h,className:"w-full sm:w-1/2 h-12 bg-main-color text-white text-lg rounded-xl hover:bg-main-color/90 transition-all cursor-pointer disabled:opacity-50",children:h?"Saving...":t?"Update User":"Add User"})})]}):d.jsxs("div",{className:"mt-6 bg-gray-50 p-6 rounded-lg border border-gray-200",children:[d.jsx("h3",{className:"text-lg font-semibold text-main-color mb-4 text-center",children:"Enter password to access user form"}),d.jsxs("div",{className:"flex max-md:flex-col gap-3 items-center",children:[d.jsx(ir,{type:"password",value:u,onChange:_=>f(_.target.value),placeholder:"Enter the password",className:"flex-1 h-12 border-gray-300 focus:border-main-color focus:ring-main-color rounded-xl",onKeyPress:_=>{_.key==="Enter"&&v()}}),d.jsx(He,{onClick:v,className:"h-12 bg-main-color text-white hover:bg-main-color/90",children:"Unlock"})]})]})})]})]})})}function PN({user:e,onConfirm:t,onCancel:s,deleteAll:o=!1}){return d.jsx(vo,{children:(e||o)&&d.jsx(ct.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:d.jsxs(ct.div,{initial:{scale:.9,opacity:0,y:-30},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:-30},transition:{duration:.3},className:"bg-white rounded-2xl shadow-2xl p-8 w-[90%] max-w-md text-center border border-gray-200",children:[d.jsx(wo,{size:48,className:"mx-auto text-second-color mb-4 animate-pulse"}),d.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Confirm Delete"}),d.jsx("p",{className:"text-gray-600 mb-6",children:o?d.jsxs(d.Fragment,{children:["Are you sure you want to delete"," ",d.jsx("span",{className:"font-semibold text-main-color",children:"all users"}),"? This action cannot be undone."]}):d.jsxs(d.Fragment,{children:["Are you sure you want to delete"," ",d.jsx("span",{className:"font-semibold text-main-color",children:e?.Username}),"? This action cannot be undone."]})}),d.jsxs("div",{className:"flex justify-center gap-4",children:[d.jsx(He,{onClick:s,className:"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100 px-6 rounded-xl transition-all cursor-pointer",children:"Cancel"}),d.jsx(He,{onClick:()=>t(o?null:e.id),className:"bg-secondtext-second-color text-second-color hover:text-second-color border border-secondtext-second-color px-6 rounded-xl transition-all cursor-pointer",children:"Confirm"})]})]})})})}function t$({users:e,onDeleteClick:t,onDeleteAll:s}){const o=qt();return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex flex-wrap items-center justify-between mb-6 gap-4",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"All Users"}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs(He,{onClick:()=>o("/homeDashboard/addUser"),className:"flex items-center gap-2 bg-main-color text-white border border-main-color rounded-xl transition-all cursor-pointer",children:[d.jsx(fE,{size:18}),"Add User"]}),e.length>0&&d.jsxs(He,{onClick:s,className:"flex items-center gap-2 bg-second-color text-white border border-second-color rounded-xl transition-all cursor-pointer",children:[d.jsx(No,{size:18}),"Delete All Users"]})]})]}),d.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:e.map((i,a)=>d.jsxs(ct.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.1},className:"bg-white shadow-lg rounded-2xl border border-gray-200 p-6 flex flex-col items-center text-center hover:shadow-2xl transition-all duration-300",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-1",children:i.Username}),d.jsxs("div",{className:"text-left w-full border-t border-gray-100 pt-3 text-sm text-gray-600 space-y-1",children:[d.jsxs("p",{children:[d.jsx("strong",{className:"text-main-color",children:"Project:"})," ",i.ProjectName]}),d.jsxs("p",{children:[d.jsx("strong",{className:"text-main-color",children:"Password:"})," ",i.Password]}),d.jsxs("p",{children:[d.jsx("strong",{className:"text-main-color",children:"Phone:"})," ",i.TelephoneNumber]}),d.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[" ",d.jsx("strong",{className:"text-main-color",children:"Email:"})," ",i.Email]})]}),d.jsxs("div",{className:"flex gap-2 mt-5",children:[d.jsx(He,{className:"p-2 w-10 h-10 flex items-center justify-center rounded-md bg-main-color text-white transition-colors cursor-pointer",onClick:()=>o(`/homeDashboard/editUser/${i.id}`,{state:{user:i}}),children:d.jsx(Gb,{size:16})}),d.jsx(He,{onClick:()=>t(i),className:"p-2 w-10 h-10 flex items-center justify-center rounded-md bg-secondtext-second-color text-second-color cursor-pointer hover:text-second-color border border-secondtext-second-color transition-colors",children:d.jsx(No,{size:16})})]})]},i.id))})]})}function r$(){const[e,t]=O.useState([]),[s,o]=O.useState(null),[i,a]=O.useState(!1),c="http://localhost/robots_api/api",u=vr();O.useEffect(()=>{(async()=>{try{const g=await Dt(`${c}/users`);t(Array.isArray(g)?g:g?.data||[])}catch(g){console.error("Error fetching users:",g)}})()},[]);const f=async m=>{try{await li(`${c}/users/${m}`),t(g=>g.filter(b=>b.id!==m))}catch(g){console.error("Error deleting user:",g)}finally{o(null)}},h=async()=>{try{await li(`${c}/users`),t([])}catch(m){console.error("Error deleting all users:",m)}finally{a(!1)}};return d.jsx("div",{className:"min-h-screen bg-gray-50 flex",children:d.jsxs("div",{className:"flex-1 flex flex-col min-h-screen overflow-auto relative",children:[d.jsxs(ib,{children:[d.jsx(At,{path:"/",element:d.jsx(t$,{users:e,onDeleteClick:m=>o(m),onDeleteAll:()=>a(!0)})}),d.jsx(At,{path:"/addUser",element:d.jsx(zy,{user:u.state?.user})})]}),d.jsx(PN,{user:s,onConfirm:f,onCancel:()=>o(null)}),d.jsx(PN,{deleteAll:i,onConfirm:h,onCancel:()=>a(!1)})]})})}const n$=async(e,t)=>{if(!e||!Array.isArray(t))throw new Error("Invalid data for posting buttons");const s="http://localhost/robots_api/api";try{if(t.length===0)return console.log("No buttons to post"),{success:!0,message:"No buttons to save"};console.log(`Posting ${t.length} buttons for robot ${e}`);for(const i of t){const a={BtnName:i.name,RobotId:parseInt(e),Color:i.Color||"#4CAF50",Operation:"/start",projectId:10};console.log("Sending button payload:",a),await ai.post(`${s}/buttons`,a)}const o=await ai.get(`${s}/buttons`);return console.log("Buttons after posting:",o.data),{success:!0,data:o.data}}catch(o){throw console.error("Error posting buttons:",o),o}};function s$(){const e=qt(),{id:t}=Mr(),s=vr(),[o,i]=O.useState(null),c=s.pathname.includes("/editRobot/"),u=c?s.state?.projectId:t,f=s.state?.projectName||"",h="http://localhost/robots_api/api",m="http://localhost/robots_api/uploads",[g,b]=O.useState({RobotName:"",Voltage:"",Cycles:"",Status:"Stopped",Image:null,imagePreview:null,ActiveBtns:[]}),[j,y]=O.useState(!1),[w,v]=O.useState(!1);O.useEffect(()=>{(async()=>{if(c&&t){v(!0);try{const k=await Dt(`${h}/robots/${t}`);b({RobotName:k.RobotName||"",Voltage:k.Voltage?.toString()||"",Cycles:k.Cycles?.toString()||"",Status:k.Status||"Stopped",Image:k.Image||null,imagePreview:k.Image?`${m}/${k.Image}`:null,ActiveBtns:k.ActiveBtns||[]})}catch{qe.error("Failed to load robot data.")}finally{v(!1)}}})()},[t,c]);const N=[{id:1,name:"start"},{id:2,name:"stop"},{id:3,name:"forward"},{id:4,name:"backward"},{id:5,name:"scheduling"}],S=R=>{const{name:k,value:U,files:L}=R.target;if(k==="Image"&&L&&L[0]){const te=L[0],V=URL.createObjectURL(te);b({...g,Image:te,imagePreview:V})}else b({...g,[k]:U})},_=R=>{const U=g.ActiveBtns.find(L=>L.name===R.name)?g.ActiveBtns.filter(L=>L.name!==R.name):[...g.ActiveBtns,R];b({...g,ActiveBtns:U})},M=async()=>{try{const R=await Dt(`${h}/robots`);if(console.log(" Raw robots data:",R),R&&Array.isArray(R)&&R.length>0){const k=R.reduce((L,te)=>{const V=L.RobotID||L.id||L.robotId||L.robotID||0,ie=te.RobotID||te.id||te.robotId||te.robotID||0;return V>ie?L:te}),U=k.RobotID||k.id||k.robotId||k.robotID;return console.log(" Latest robot ID found:",U),U}return console.log("No robots found in response"),null}catch(R){return console.error(" Error fetching latest robot ID:",R),null}},A=async R=>{try{const k=await Dt(`${h}/robots`);if(k&&Array.isArray(k)){const U=k.find(L=>L.RobotName===R||L.robotName===R||L.name===R);return U?U.RobotID||U.id||U.robotId||U.robotID:null}return null}catch(k){return console.error("Error finding robot by name:",k),null}},C=async R=>{if(R.preventDefault(),y(!0),!g.RobotName||!g.Voltage||!g.Cycles){qe.warning("Please fill all required fields!",{icon:d.jsx(wo,{className:"text-yellow-500"})}),y(!1);return}if(!u){qe.error("Project ID is missing. Please go back and try again."),y(!1);return}try{const k={projectId:parseInt(u),RobotName:g.RobotName,Voltage:parseFloat(g.Voltage),Cycles:parseInt(g.Cycles),Status:g.Status,ActiveBtns:g.ActiveBtns};g.Image&&(typeof g.Image=="string"?k.Image=g.Image:g.Image instanceof File&&(k.Image=`uploads/${g.Image.name}`)),console.log(" Sending robot data:",k);let U,L;if(c)U=await Ld(`${h}/robots/${t}`,k),L=t,console.log(" Edit mode - Robot ID:",L);else if(U=await rf(`${h}/robots`,k),console.log(" Robot creation response:",U),L=U?.insertedId||U?.id||U?.RobotID||U?.robotId,!L&&(console.log(" Trying alternative methods to get robot ID..."),L=await A(g.RobotName),console.log(" Robot ID found by name:",L),L||(L=await M(),console.log(" Latest robot ID:",L)),!L)){const V=(U?.request?.responseURL||window.location.href).match(/[?&]id=(\d+)/);V&&(L=V[1],console.log(" Robot ID from URL:",L))}if(console.log(" Final Robot ID:",L),!L){console.error(" Could not determine robot ID"),qe.warning(`Robot ${c?"updated":"added"} successfully, but could not automatically add buttons. Please add them manually.`),e(-1);return}try{console.log(" Processing buttons for robot:",L),console.log(" Buttons to process:",g.ActiveBtns),await n$(L,g.ActiveBtns),console.log(" Buttons added successfully!")}catch(te){console.error("Buttons operation failed:",te),qe.warning(`Robot ${c?"updated":"added"} successfully, but there was an issue with the buttons.`)}if(U?.success||U?.message?.toLowerCase().includes("success"))qe.success(c?"Robot updated successfully!":"Robot added successfully!",{icon:d.jsx(cE,{className:"text-green-500"})}),e(-1);else{const te=U?.error||U?.message||"Failed to save robot";qe.error(te)}}catch(k){console.error(" Main operation failed:",k),qe.error("Failed to save robot. Please check connection.")}finally{y(!1)}};return d.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col p-6 sm:p-10",children:[d.jsx("div",{className:"max-w-5xl w-full mx-auto mb-6 flex justify-start",children:d.jsxs(He,{onClick:()=>e(-1),className:"cursor-pointer flex items-center gap-2 bg-main-color text-white hover:bg-white hover:text-main-color border border-main-color rounded-xl shadow-md hover:shadow-lg transition-all duration-300",children:[d.jsx(mn,{size:18}),"Back"]})}),d.jsxs(ct.form,{initial:{opacity:0,y:25},animate:{opacity:1,y:0},transition:{duration:.6},onSubmit:C,className:"max-w-5xl w-full mx-auto bg-white/80 backdrop-blur-md border border-gray-200 shadow-2xl rounded-3xl p-8 sm:p-10 flex flex-col gap-10",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-3xl font-bold text-main-color",children:c?`Edit Robot ${f?` ${f}`:""}`:`Add New Robot ${f?` ${f}`:""}`}),d.jsxs("div",{className:"flex justify-center items-center gap-4 mt-2 flex-wrap",children:[u&&d.jsxs("p",{className:"text-gray-600",children:["Project ID:"," ",d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:u})]}),c&&d.jsxs("p",{className:"text-gray-600",children:["Robot ID:"," ",d.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:t})]})]})]}),d.jsxs("div",{className:"flex flex-col items-center justify-center border-2 border-dashed border-gray-300 rounded-2xl p-6 hover:border-main-color transition relative cursor-pointer",children:[g.imagePreview?d.jsx("img",{src:g.imagePreview,alt:"Preview",className:"w-full h-56 object-cover rounded-xl shadow-md mb-4"}):d.jsxs("div",{className:"text-gray-400 text-center",children:[d.jsx(Yd,{size:40,className:"mx-auto mb-3"}),d.jsx("p",{children:"Upload robot image"}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Click to browse files"})]}),d.jsx("input",{id:"Image",type:"file",name:"Image",accept:"image/*",onChange:S,className:"absolute inset-0 opacity-0 cursor-pointer"})]}),d.jsxs("div",{className:"flex flex-col gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Robot Name *"}),d.jsx(ir,{type:"text",name:"RobotName",value:g.RobotName,onChange:S,placeholder:"Enter robot name",required:!0,className:"border-gray-300 focus:ring-2 focus:ring-main-color rounded-xl"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Voltage *"}),d.jsx(ir,{type:"number",name:"Voltage",value:g.Voltage,onChange:S,placeholder:"Enter voltage",required:!0,step:"0.1",className:"border-gray-300 focus:ring-2 focus:ring-main-color rounded-xl"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Cycles *"}),d.jsx(ir,{type:"number",name:"Cycles",value:g.Cycles,onChange:S,placeholder:"Enter cycles",required:!0,className:"border-gray-300 focus:ring-2 focus:ring-main-color rounded-xl"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Status"}),d.jsxs("select",{name:"Status",value:g.Status,onChange:S,className:"w-full border-gray-300 rounded-xl p-3 focus:ring-2 focus:ring-main-color",children:[d.jsx("option",{value:"Running",children:"Running"}),d.jsx("option",{value:"Stopped",children:"Stopped"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-gray-700 font-semibold mb-4",children:"Select Active Buttons"}),d.jsx("div",{className:"flex flex-wrap gap-3",children:N.map(R=>{const k=g.ActiveBtns.find(U=>U.name===R.name);return d.jsx(He,{type:"button",onClick:()=>_(R),className:`border rounded-xl px-5 py-2 transition-all ${k?"bg-main-color text-white border-main-color shadow-md":"bg-white text-main-color border-main-color hover:bg-main-color hover:text-white"}`,children:R.name},R.id)})}),d.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Selected: ",g.ActiveBtns.length," button(s)"]})]}),d.jsx("div",{className:"pt-4 flex justify-end",children:d.jsxs(He,{type:"submit",disabled:j,className:`cursor-pointer flex items-center gap-2 bg-second-color text-white border border-second-color hover:bg-white hover:text-second-color px-6 py-3 rounded-2xl shadow-md hover:shadow-lg text-lg font-medium transition-all ${j?"opacity-50 cursor-not-allowed":""}`,children:[d.jsx(Wb,{size:22}),j?"Saving...":c?"Update Robot":"Add Robot"]})})]})]})]})}function o$(){const{id:e}=Mr(),t=qt(),[s,o]=O.useState(null),[i,a]=O.useState([]),[c,u]=O.useState(!0),f="http://localhost/robots_api/api",h="#0d9488",m=v=>v?.trim()||h,g=v=>v?typeof v=="object"?v.id||v.Name||v.BtnName:typeof v=="string"?v:null:null,b=async v=>{const N=g(v);if(!N)return null;try{const S=await Dt(`${f}/buttons/${N}`);return{id:N,name:S.BtnName||v.Name||v.BtnName||v.id||v,color:m(S.Color),section:"main"}}catch{return{id:N,name:v.Name||v.BtnName||v.id||v,color:m(v.Color),section:"main"}}},j=async()=>{try{u(!0);const v=await Dt(`${f}/robots/${e}`);o(v);const N=[];if(v.Sections?.main?.ActiveBtns)for(const S of v.Sections.main.ActiveBtns){const _=await b(S);_&&N.push(_)}a(N)}catch{}finally{u(!1)}};O.useEffect(()=>{e&&j()},[e]);const y=v=>{const N=g(v);if(!N)return alert("Invalid button data (missing id or name)");t(`/homeDashboard/robotSettings/${e}/button/${N}`)},w=()=>{t(`/homeDashboard/robotSettings/${e}/button/new`)};return c?d.jsx("div",{className:"flex justify-center items-center h-screen text-gray-600",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-main-color mx-auto mb-4"}),"Loading robot data..."]})}):d.jsxs("div",{className:"min-h-screen bg-gray-50 p-6 flex flex-col",children:[d.jsx("div",{className:"w-full max-w-4xl mx-auto mb-6",children:d.jsxs(He,{onClick:()=>t(-1),className:"flex items-center gap-2 bg-main-color text-white hover:bg-white hover:text-main-color border border-main-color transition-all duration-200",children:[d.jsx(mn,{size:18})," Back"]})}),d.jsxs("h1",{className:"text-3xl font-bold text-center mb-10 text-gray-800",children:[s?.RobotName," - Robot Settings"]}),d.jsxs("div",{className:"max-w-4xl mx-auto space-y-10",children:[d.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-lg border border-gray-100",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("h3",{className:"text-2xl font-bold text-green-700 mb-2",children:"Robot Buttons"}),d.jsxs("p",{className:"text-gray-500",children:["Total buttons: ",i.length]})]}),i.length>0?d.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:i.map(v=>d.jsx(He,{onClick:()=>y(v),style:{backgroundColor:v.color,color:"#fff",border:`2px solid ${v.color}`},className:"px-6 py-3 rounded-xl text-base font-semibold shadow-md hover:shadow-lg transition-all duration-200 min-w-[100px] hover:scale-105",children:v.name},v.id))}):d.jsx("p",{className:"text-center text-gray-500 py-8",children:"No active buttons"})]}),d.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-lg border border-gray-100 max-w-lg mx-auto",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("h3",{className:"text-2xl font-bold text-green-700 mb-2",children:"Add New Robot Button"}),d.jsx("p",{className:"text-gray-500",children:"Add a new button to the main robot section"})]}),d.jsxs("div",{className:"flex flex-col items-center gap-5",children:[d.jsx("div",{className:"text-center",children:d.jsx("p",{className:"text-gray-600 mb-4",children:"Create custom buttons for your robot with specific operations and colors."})}),d.jsx("div",{className:"flex gap-3 justify-center mt-4",children:d.jsxs(He,{onClick:w,className:"flex items-center justify-center gap-2 rounded-xl px-6 py-3 bg-green-600 text-white border-2 border-green-600 hover:bg-green-700 transition-all",children:[d.jsx(Qd,{size:18})," Add New Robot Button"]})})]})]})]})]})}function hf(){return(hf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e}).apply(this,arguments)}function DT(e,t){if(e==null)return{};var s,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)t.indexOf(s=a[o])>=0||(i[s]=e[s]);return i}function Fy(e){var t=O.useRef(e),s=O.useRef(function(o){t.current&&t.current(o)});return t.current=e,s.current}var Wl=function(e,t,s){return t===void 0&&(t=0),s===void 0&&(s=1),e>s?s:e<t?t:e},Ul=function(e){return"touches"in e},Vy=function(e){return e&&e.ownerDocument.defaultView||self},IN=function(e,t,s){var o=e.getBoundingClientRect(),i=Ul(t)?(function(a,c){for(var u=0;u<a.length;u++)if(a[u].identifier===c)return a[u];return a[0]})(t.touches,s):t;return{left:Wl((i.pageX-(o.left+Vy(e).pageXOffset))/o.width),top:Wl((i.pageY-(o.top+Vy(e).pageYOffset))/o.height)}},BN=function(e){!Ul(e)&&e.preventDefault()},PT=Ge.memo(function(e){var t=e.onMove,s=e.onKey,o=DT(e,["onMove","onKey"]),i=O.useRef(null),a=Fy(t),c=Fy(s),u=O.useRef(null),f=O.useRef(!1),h=O.useMemo(function(){var j=function(v){BN(v),(Ul(v)?v.touches.length>0:v.buttons>0)&&i.current?a(IN(i.current,v,u.current)):w(!1)},y=function(){return w(!1)};function w(v){var N=f.current,S=Vy(i.current),_=v?S.addEventListener:S.removeEventListener;_(N?"touchmove":"mousemove",j),_(N?"touchend":"mouseup",y)}return[function(v){var N=v.nativeEvent,S=i.current;if(S&&(BN(N),!(function(M,A){return A&&!Ul(M)})(N,f.current)&&S)){if(Ul(N)){f.current=!0;var _=N.changedTouches||[];_.length&&(u.current=_[0].identifier)}S.focus(),a(IN(S,N,u.current)),w(!0)}},function(v){var N=v.which||v.keyCode;N<37||N>40||(v.preventDefault(),c({left:N===39?.05:N===37?-.05:0,top:N===40?.05:N===38?-.05:0}))},w]},[c,a]),m=h[0],g=h[1],b=h[2];return O.useEffect(function(){return b},[b]),Ge.createElement("div",hf({},o,{onTouchStart:m,onMouseDown:m,className:"react-colorful__interactive",ref:i,onKeyDown:g,tabIndex:0,role:"slider"}))}),p0=function(e){return e.filter(Boolean).join(" ")},IT=function(e){var t=e.color,s=e.left,o=e.top,i=o===void 0?.5:o,a=p0(["react-colorful__pointer",e.className]);return Ge.createElement("div",{className:a,style:{top:100*i+"%",left:100*s+"%"}},Ge.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},Rr=function(e,t,s){return t===void 0&&(t=0),s===void 0&&(s=Math.pow(10,t)),Math.round(s*e)/s},i$=function(e){return d$(qy(e))},qy=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?Rr(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?Rr(parseInt(e.substring(6,8),16)/255,2):1}},a$=function(e){return u$(c$(e))},l$=function(e){var t=e.s,s=e.v,o=e.a,i=(200-t)*s/100;return{h:Rr(e.h),s:Rr(i>0&&i<200?t*s/100/(i<=100?i:200-i)*100:0),l:Rr(i/2),a:Rr(o,2)}},Hy=function(e){var t=l$(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},c$=function(e){var t=e.h,s=e.s,o=e.v,i=e.a;t=t/360*6,s/=100,o/=100;var a=Math.floor(t),c=o*(1-s),u=o*(1-(t-a)*s),f=o*(1-(1-t+a)*s),h=a%6;return{r:Rr(255*[o,u,c,c,f,o][h]),g:Rr(255*[f,o,o,u,c,c][h]),b:Rr(255*[c,c,f,o,o,u][h]),a:Rr(i,2)}},Lu=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},u$=function(e){var t=e.r,s=e.g,o=e.b,i=e.a,a=i<1?Lu(Rr(255*i)):"";return"#"+Lu(t)+Lu(s)+Lu(o)+a},d$=function(e){var t=e.r,s=e.g,o=e.b,i=e.a,a=Math.max(t,s,o),c=a-Math.min(t,s,o),u=c?a===t?(s-o)/c:a===s?2+(o-t)/c:4+(t-s)/c:0;return{h:Rr(60*(u<0?u+6:u)),s:Rr(a?c/a*100:0),v:Rr(a/255*100),a:i}},f$=Ge.memo(function(e){var t=e.hue,s=e.onChange,o=p0(["react-colorful__hue",e.className]);return Ge.createElement("div",{className:o},Ge.createElement(PT,{onMove:function(i){s({h:360*i.left})},onKey:function(i){s({h:Wl(t+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":Rr(t),"aria-valuemax":"360","aria-valuemin":"0"},Ge.createElement(IT,{className:"react-colorful__hue-pointer",left:t/360,color:Hy({h:t,s:100,v:100,a:1})})))}),h$=Ge.memo(function(e){var t=e.hsva,s=e.onChange,o={backgroundColor:Hy({h:t.h,s:100,v:100,a:1})};return Ge.createElement("div",{className:"react-colorful__saturation",style:o},Ge.createElement(PT,{onMove:function(i){s({s:100*i.left,v:100-100*i.top})},onKey:function(i){s({s:Wl(t.s+100*i.left,0,100),v:Wl(t.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Rr(t.s)+"%, Brightness "+Rr(t.v)+"%"},Ge.createElement(IT,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:Hy(t)})))}),BT=function(e,t){if(e===t)return!0;for(var s in e)if(e[s]!==t[s])return!1;return!0},p$=function(e,t){return e.toLowerCase()===t.toLowerCase()||BT(qy(e),qy(t))};function m$(e,t,s){var o=Fy(s),i=O.useState(function(){return e.toHsva(t)}),a=i[0],c=i[1],u=O.useRef({color:t,hsva:a});O.useEffect(function(){if(!e.equal(t,u.current.color)){var h=e.toHsva(t);u.current={hsva:h,color:t},c(h)}},[t,e]),O.useEffect(function(){var h;BT(a,u.current.hsva)||e.equal(h=e.fromHsva(a),u.current.color)||(u.current={hsva:a,color:h},o(h))},[a,e,o]);var f=O.useCallback(function(h){c(function(m){return Object.assign({},m,h)})},[]);return[a,f]}var g$=typeof window<"u"?O.useLayoutEffect:O.useEffect,y$=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},UN=new Map,b$=function(e){g$(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!UN.has(t)){var s=t.createElement("style");s.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,UN.set(t,s);var o=y$();o&&s.setAttribute("nonce",o),t.head.appendChild(s)}},[])},x$=function(e){var t=e.className,s=e.colorModel,o=e.color,i=o===void 0?s.defaultColor:o,a=e.onChange,c=DT(e,["className","colorModel","color","onChange"]),u=O.useRef(null);b$(u);var f=m$(s,i,a),h=f[0],m=f[1],g=p0(["react-colorful",t]);return Ge.createElement("div",hf({},c,{ref:u,className:g}),Ge.createElement(h$,{hsva:h,onChange:m}),Ge.createElement(f$,{hue:h.h,onChange:m,className:"react-colorful__last-control"}))},v$={defaultColor:"000",toHsva:i$,fromHsva:function(e){return a$({h:e.h,s:e.s,v:e.v,a:1})},equal:p$},w$=function(e){return Ge.createElement(x$,hf({},e,{colorModel:v$}))};let S$={data:""},j$=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||S$},N$=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,_$=/\/\*[^]*?\*\/|  +/g,LN=/\n+/g,xo=(e,t)=>{let s="",o="",i="";for(let a in e){let c=e[a];a[0]=="@"?a[1]=="i"?s=a+" "+c+";":o+=a[1]=="f"?xo(c,a):a+"{"+xo(c,a[1]=="k"?"":t)+"}":typeof c=="object"?o+=xo(c,t?t.replace(/([^,])+/g,u=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,u):u?u+" "+f:f)):a):c!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=xo.p?xo.p(a,c):a+":"+c+";")}return s+(t&&i?t+"{"+i+"}":i)+o},_s={},UT=e=>{if(typeof e=="object"){let t="";for(let s in e)t+=s+UT(e[s]);return t}return e},E$=(e,t,s,o,i)=>{let a=UT(e),c=_s[a]||(_s[a]=(f=>{let h=0,m=11;for(;h<f.length;)m=101*m+f.charCodeAt(h++)>>>0;return"go"+m})(a));if(!_s[c]){let f=a!==e?e:(h=>{let m,g,b=[{}];for(;m=N$.exec(h.replace(_$,""));)m[4]?b.shift():m[3]?(g=m[3].replace(LN," ").trim(),b.unshift(b[0][g]=b[0][g]||{})):b[0][m[1]]=m[2].replace(LN," ").trim();return b[0]})(e);_s[c]=xo(i?{["@keyframes "+c]:f}:f,s?"":"."+c)}let u=s&&_s.g?_s.g:null;return s&&(_s.g=_s[c]),((f,h,m,g)=>{g?h.data=h.data.replace(g,f):h.data.indexOf(f)===-1&&(h.data=m?f+h.data:h.data+f)})(_s[c],t,o,u),c},A$=(e,t,s)=>e.reduce((o,i,a)=>{let c=t[a];if(c&&c.call){let u=c(s),f=u&&u.props&&u.props.className||/^go/.test(u)&&u;c=f?"."+f:u&&typeof u=="object"?u.props?"":xo(u,""):u===!1?"":u}return o+i+(c??"")},"");function pf(e){let t=this||{},s=e.call?e(t.p):e;return E$(s.unshift?s.raw?A$(s,[].slice.call(arguments,1),t.p):s.reduce((o,i)=>Object.assign(o,i&&i.call?i(t.p):i),{}):s,j$(t.target),t.g,t.o,t.k)}let LT,Gy,Wy;pf.bind({g:1});let Bs=pf.bind({k:1});function T$(e,t,s,o){xo.p=t,LT=e,Gy=s,Wy=o}function To(e,t){let s=this||{};return function(){let o=arguments;function i(a,c){let u=Object.assign({},a),f=u.className||i.className;s.p=Object.assign({theme:Gy&&Gy()},u),s.o=/ *go\d+/.test(f),u.className=pf.apply(s,o)+(f?" "+f:"");let h=e;return e[0]&&(h=u.as||e,delete u.as),Wy&&h[0]&&Wy(u),LT(h,u)}return i}}var C$=e=>typeof e=="function",Ky=(e,t)=>C$(e)?e(t):e,R$=(()=>{let e=0;return()=>(++e).toString()})(),M$=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),k$=20,$T="default",zT=(e,t)=>{let{toastLimit:s}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,s)};case 1:return{...e,toasts:e.toasts.map(c=>c.id===t.toast.id?{...c,...t.toast}:c)};case 2:let{toast:o}=t;return zT(e,{type:e.toasts.find(c=>c.id===o.id)?1:0,toast:o});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(c=>c.id===i||i===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(c=>c.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+a}))}}},O$=[],D$={toasts:[],pausedAt:void 0,settings:{toastLimit:k$}},da={},FT=(e,t=$T)=>{da[t]=zT(da[t]||D$,e),O$.forEach(([s,o])=>{s===t&&o(da[t])})},VT=e=>Object.keys(da).forEach(t=>FT(e,t)),P$=e=>Object.keys(da).find(t=>da[t].toasts.some(s=>s.id===e)),m0=(e=$T)=>t=>{FT(t,e)},I$=(e,t="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...s,id:s?.id||R$()}),cc=e=>(t,s)=>{let o=I$(t,e,s);return m0(o.toasterId||P$(o.id))({type:2,toast:o}),o.id},Lt=(e,t)=>cc("blank")(e,t);Lt.error=cc("error");Lt.success=cc("success");Lt.loading=cc("loading");Lt.custom=cc("custom");Lt.dismiss=(e,t)=>{let s={type:3,toastId:e};t?m0(t)(s):VT(s)};Lt.dismissAll=e=>Lt.dismiss(void 0,e);Lt.remove=(e,t)=>{let s={type:4,toastId:e};t?m0(t)(s):VT(s)};Lt.removeAll=e=>Lt.remove(void 0,e);Lt.promise=(e,t,s)=>{let o=Lt.loading(t.loading,{...s,...s?.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?Ky(t.success,i):void 0;return a?Lt.success(a,{id:o,...s,...s?.success}):Lt.dismiss(o),i}).catch(i=>{let a=t.error?Ky(t.error,i):void 0;a?Lt.error(a,{id:o,...s,...s?.error}):Lt.dismiss(o)}),e};var B$=Bs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,U$=Bs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,L$=Bs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,$$=To("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${B$} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${U$} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${L$} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,z$=Bs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,F$=To("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${z$} 1s linear infinite;
`,V$=Bs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,q$=Bs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,H$=To("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${V$} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${q$} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,G$=To("div")`
  position: absolute;
`,W$=To("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,K$=Bs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Q$=To("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${K$} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Y$=({toast:e})=>{let{icon:t,type:s,iconTheme:o}=e;return t!==void 0?typeof t=="string"?O.createElement(Q$,null,t):t:s==="blank"?null:O.createElement(W$,null,O.createElement(F$,{...o}),s!=="loading"&&O.createElement(G$,null,s==="error"?O.createElement($$,{...o}):O.createElement(H$,{...o})))},X$=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Z$=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,J$="0%{opacity:0;} 100%{opacity:1;}",ez="0%{opacity:1;} 100%{opacity:0;}",tz=To("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,rz=To("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,nz=(e,t)=>{let s=e.includes("top")?1:-1,[o,i]=M$()?[J$,ez]:[X$(s),Z$(s)];return{animation:t?`${Bs(o)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Bs(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};O.memo(({toast:e,position:t,style:s,children:o})=>{let i=e.height?nz(e.position||t||"top-center",e.visible):{opacity:0},a=O.createElement(Y$,{toast:e}),c=O.createElement(rz,{...e.ariaProps},Ky(e.message,e));return O.createElement(tz,{className:e.className,style:{...i,...s,...e.style}},typeof o=="function"?o({icon:a,message:c}):O.createElement(O.Fragment,null,a,c))});T$(O.createElement);pf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;var Nl=Lt;function sz({buttonName:e,onConfirm:t,onCancel:s}){return d.jsx(vo,{children:d.jsx(ct.div,{className:"fixed inset-0 bg-black/50 flex justify-center items-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:d.jsxs(ct.div,{initial:{scale:.9,opacity:0,y:-30},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:-30},transition:{duration:.3},className:"bg-white rounded-2xl shadow-2xl p-8 w-[90%] max-w-md text-center border border-gray-200",children:[d.jsx(wo,{size:48,className:"mx-auto text-red-500 mb-4 animate-pulse"}),d.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Confirm Delete"}),d.jsxs("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to delete"," ",d.jsx("span",{className:"font-semibold text-main-color",children:e}),"? This action cannot be undone."]}),d.jsxs("div",{className:"flex justify-center gap-4",children:[d.jsx(He,{onClick:s,className:"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100 px-6 rounded-xl transition-all cursor-pointer",children:"Cancel"}),d.jsx(He,{onClick:t,className:"bg-red-500 text-white hover:bg-white hover:text-red-500 border border-red-500 px-6 rounded-xl transition-all cursor-pointer",children:"Confirm"})]})]})})})}function $N(){const{id:e,buttonId:t}=Mr(),s=qt(),o=vr(),[i,a]=O.useState(!0),[c,u]=O.useState(!1),[f,h]=O.useState(!1),[m,g]=O.useState(null),[b,j]=O.useState(!1),[y,w]=O.useState(null),[v,N]=O.useState(null),[S,_]=O.useState(""),[M,A]=O.useState("#4CAF50"),[C,R]=O.useState("/start"),[k,U]=O.useState(10),[L,te]=O.useState(""),[V,ie]=O.useState("#4CAF50"),[H,re]=O.useState(""),[$,K]=O.useState(""),[X,ne]=O.useState(""),G=t==="new",B="http://localhost/robots_api/api",Z=o.pathname.includes("trolleySettings")?"car":"main",pe=Z==="car";O.useEffect(()=>{if(H&&$&&C){const Y=`mqtts://${H}:8884`,se=C.startsWith("/")?C.substring(1):C,q=`${Y}/${$}/${se}`;ne(q)}},[H,$,C]);const he=()=>{if(!v||!v.Sections||!v.Sections[Z])return!1;const Y=v.Sections[Z].ActiveBtns||[],se=Y.some(I=>I.Name?.toLowerCase()===S.toLowerCase()&&I.id!==t),q=Y.some(I=>I.Color===M&&I.id!==t);return se?(te(`A button with the name "${S}" already exists in this ${pe?"trolley":"robot"} section.`),!0):q?(te(`A button with the color ${M} already exists in this ${pe?"trolley":"robot"} section.`),!0):(te(""),!1)};O.useEffect(()=>{(async()=>{try{a(!0),g(null);const se=await Dt(`${B}/robots/${e}`);N(se);const q=se?.Sections?.[Z];if(q&&(re(q.mqttUrl||""),K(q.Topic_main||"")),!G){const I=await Dt(`${B}/buttons/${t}`);I?(w(I),_(I.BtnName||""),A(I.Color||"#4CAF50"),ie(I.Color||"#4CAF50"),R(I.Operation||"/start"),U(I.projectId||10)):g("Button not found")}}catch(se){g(`Failed to load data: ${se.message}`)}finally{a(!1)}})()},[e,t,G,B,Z]),O.useEffect(()=>{S.trim()&&M?he():te("")},[S,M]),O.useEffect(()=>{ie(M)},[M]);const Ee=Y=>{ie(Y),/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(Y)&&A(Y)},de=Y=>{navigator.clipboard.writeText(Y).then(()=>{j(!0),setTimeout(()=>j(!1),2e3)})},le=()=>{de(X),Nl.success("Full operation copied to clipboard!")},Se=Y=>{R(Y)},be=Y=>{let se=Y;const q=`mqtts://${H}:8884`;H&&Y.startsWith(q)&&(se=Y.substring(q.length+1),$&&se.startsWith($+"/")&&(se=se.substring($.length+1))),!se.startsWith("/")&&se.trim()!==""&&(se="/"+se),R(se)},ve=async(Y,se="add")=>{try{if(!v)return;const q={...v};if(q.Sections||(q.Sections={}),q.Sections[Z]||(q.Sections[Z]={ActiveBtns:[]}),Array.isArray(q.Sections[Z].ActiveBtns)||(q.Sections[Z].ActiveBtns=[]),se==="add"){const I={id:Y,Name:S,Color:M,Operation:C},ee=q.Sections[Z].ActiveBtns.findIndex(Q=>Q.id===Y);ee===-1?q.Sections[Z].ActiveBtns.push(I):q.Sections[Z].ActiveBtns[ee]=I}else if(se==="delete")q.Sections[Z].ActiveBtns=q.Sections[Z].ActiveBtns.filter(I=>I.id!==t);else if(se==="update"){const I=q.Sections[Z].ActiveBtns.findIndex(ee=>ee.id===t);I!==-1&&(q.Sections[Z].ActiveBtns[I]={...q.Sections[Z].ActiveBtns[I],Name:S,Color:M,Operation:C})}await Ld(`${B}/robots/${e}`,q)}catch(q){throw new Error(`Failed to update robot: ${q.message}`)}},we=async()=>{if(!S.trim()){Nl.error("Please enter a button name");return}if(!M||M.trim()===""){Nl.error("Please choose a color for the button");return}if(!C.trim()){Nl.error("Please enter an operation");return}if(he()){Nl.error("Cannot save button due to duplicate name or color");return}let Y=C.trim();Y.startsWith("/")||(Y="/"+Y,R(Y));try{u(!0),g(null);const se={BtnName:S.trim(),RobotId:parseInt(e),Color:M,Operation:Y,projectId:k};let q;if(G){const I=await LB(`${B}/buttons?section=${Z}`,se);q=I.id||I.BtnID,await ve(q,"add")}else{const I=y?.BtnID??y?.id??t,ee=await Ld(`${B}/buttons/${I}`,se);q=I,await ve(q,"update")}u(!1),s(`/homeDashboard/robotDetails/${e}`,{state:{refresh:!0}})}catch(se){g(`Failed to save button: ${se.message}`),u(!1)}},Pe=async()=>{try{u(!0),g(null);const Y=y?.BtnID??y?.id??t;await li(`${B}/buttons/${Y}`),await ve(Y,"delete"),h(!1),u(!1),s(`/homeDashboard/robotDetails/${e}`,{replace:!0,state:{refresh:!0}})}catch(Y){g(`Failed to delete button: ${Y.message}`),u(!1)}},Te=()=>{s(-1)},ce=()=>{s(`/homeDashboard/robotDetails/${e}`)};return i?d.jsx("div",{className:"flex items-center justify-center h-screen text-gray-600",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-main-color mx-auto mb-4"}),"Loading button data..."]})}):d.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[d.jsxs("div",{className:"max-w-2xl mx-auto",children:[d.jsxs("div",{className:"flex gap-3 mb-6",children:[d.jsxs(He,{onClick:Te,className:"flex items-center gap-2 bg-main-color text-white hover:bg-white hover:text-main-color border border-main-color transition-all duration-200 flex-1",children:[d.jsx(mn,{size:18})," Back to ",pe?"Trolley":"Robot"," Settings"]}),d.jsxs(He,{onClick:ce,className:"flex items-center gap-2 bg-blue-600 text-white hover:bg-white hover:text-blue-600 border border-blue-600 transition-all duration-200 flex-1",children:[d.jsx(zn,{size:18})," View Robot"]})]}),m&&d.jsx(ct.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 bg-red-50 border border-red-200 rounded-xl p-4 text-red-700 text-center",children:m}),d.jsxs(ct.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[d.jsxs("div",{className:"text-center mb-2",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:G?"Add New Button":`Edit ${S} Button`}),d.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[pe?"Trolley Section":"Main Robot Section"," | Robot ID: ",e,v?.RobotName&&` | Robot: ${v.RobotName}`]})]}),L&&d.jsxs(ct.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"mb-6 bg-amber-50 border border-amber-200 rounded-xl p-4 text-amber-700 text-center flex items-center justify-center gap-2",children:[d.jsx(Hb,{size:20}),L]}),d.jsxs("div",{className:"flex justify-center gap-4 mb-8",children:[d.jsxs(He,{onClick:we,disabled:c||L,className:`bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-xl flex items-center gap-2 transition-all ${c||L?"opacity-50 cursor-not-allowed":""}`,children:[d.jsx(Wb,{size:18}),c?"Saving...":G?"Create Button":"Update Button"]}),!G&&d.jsxs(He,{onClick:()=>h(!0),disabled:c,className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-xl flex items-center gap-2 transition-all",children:[d.jsx(No,{size:18})," Delete Button"]})]}),d.jsxs("div",{className:"mb-8",children:[d.jsx("label",{className:"block text-lg font-semibold mb-3 text-gray-700",children:"Button Name"}),d.jsx(ir,{value:S,onChange:Y=>_(Y.target.value),placeholder:"Enter button name",className:"text-center bg-gray-50 border-gray-200 rounded-xl py-3 text-lg"})]}),d.jsxs("div",{className:"mb-8",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Button Color"}),d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx(w$,{color:M,onChange:A,className:"mb-4"}),d.jsxs("div",{className:"flex items-center gap-4 w-full max-w-xs",children:[d.jsx("div",{className:"w-16 h-16 rounded-full border-2 border-gray-300 shadow-md flex-shrink-0",style:{backgroundColor:M}}),d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-left",children:"Hex Color Code:"}),d.jsx(ir,{value:V,onChange:Y=>Ee(Y.target.value),placeholder:"#4CAF50",className:"text-center font-mono bg-gray-50 border-gray-200 rounded-xl py-2"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1 text-left",children:"Enter a valid hex color code (e.g., #FF5733)"})]})]})]})]}),d.jsxs("div",{className:"mb-8",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Button Operation"}),d.jsxs("div",{className:"mb-6 bg-blue-50 rounded-xl p-4 border border-blue-200",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsxs("label",{className:"block text-sm font-semibold text-blue-700",children:["Full Operation Link (Auto-generated from ",Z," section)"]}),d.jsxs(He,{onClick:le,variant:"ghost",size:"sm",className:"h-7 text-xs",children:[d.jsx(KS,{size:14})," Copy Full Link"]})]}),d.jsx("div",{className:"bg-white rounded-lg p-3 border border-blue-100 overflow-x-auto",children:d.jsx("code",{className:"text-sm font-mono text-gray-800 break-all",children:X||"Loading..."})}),d.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"This is the complete operation link that will be used when the button is pressed"})]}),d.jsxs("div",{className:"max-w-md mx-auto mb-4",children:[d.jsxs("div",{className:"mb-2 flex justify-between items-center",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Enter Operation Message"}),d.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:"Just type the message (e.g., start, stop)"})]}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 font-mono text-sm pointer-events-none",children:"/"}),d.jsx(ir,{value:C.startsWith("/")?C.substring(1):C,onChange:Y=>{const se=Y.target.value;be(se?`/${se}`:"")},placeholder:"start, stop, status, etc.",className:"pl-8 font-mono text-sm"}),d.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 flex gap-1",children:d.jsx(He,{onClick:()=>de(C),variant:"ghost",size:"sm",className:"h-7 w-7 p-0",children:d.jsx(KS,{size:14})})})]}),b&&d.jsx(ct.p,{initial:{opacity:0},animate:{opacity:1},className:"text-green-600 text-sm text-center mt-2",children:"Operation copied to clipboard!"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Quick select:"}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 max-w-md mx-auto",children:[d.jsxs(He,{onClick:()=>Se("/start"),variant:C==="/start"?"default":"outline",className:`flex items-center gap-2 ${C==="/start"?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[d.jsx(UP,{size:16})," Start"]}),d.jsxs(He,{onClick:()=>Se("/stop"),variant:C==="/stop"?"default":"outline",className:`flex items-center gap-2 ${C==="/stop"?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[d.jsx(KP,{size:16})," Stop"]}),d.jsxs(He,{onClick:()=>Se("/status"),variant:C==="/status"?"default":"outline",className:`flex items-center gap-2 ${C==="/status"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[d.jsx(Bm,{size:16})," Status"]}),d.jsxs(He,{onClick:()=>Se("/forward"),variant:C==="/forward"?"default":"outline",className:`flex items-center gap-2 ${C==="/forward"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[d.jsx(mP,{size:16})," Forward"]}),d.jsxs(He,{onClick:()=>Se("/backward"),variant:C==="/backward"?"default":"outline",className:`flex items-center gap-2 ${C==="/backward"?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[d.jsx(FP,{size:16})," Backward"]})]})]})]}),d.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200 mt-8",children:[d.jsxs("h2",{className:"text-lg font-semibold text-gray-700 mb-4 text-center",children:["MQTT Configuration (Auto-filled from ",Z," Section)"]}),d.jsx("div",{className:"text-center mb-4",children:d.jsxs("span",{className:"inline-block px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:["Section: ",Z.toUpperCase()]})}),d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"MQTT Broker URL"}),d.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:"Auto-filled"})]}),d.jsx(ir,{value:H?`mqtts://${H}:8884`:"Loading...",readOnly:!0,className:"bg-gray-100 border-gray-200 rounded-lg font-mono text-sm cursor-not-allowed"})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"MQTT Topic Main"}),d.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:"Auto-filled"})]}),d.jsx(ir,{value:$||"Loading...",readOnly:!0,className:"bg-gray-100 border-gray-200 rounded-lg font-mono text-sm cursor-not-allowed"})]})]})]})]})]}),f&&y&&d.jsx(sz,{buttonName:y.BtnName||S||"Button",onConfirm:Pe,onCancel:()=>h(!1)})]})}function oz(){const{id:e}=Mr(),t=qt(),[s,o]=O.useState(null),[i,a]=O.useState([]),[c,u]=O.useState(!0),[f,h]=O.useState(null),m="http://localhost/robots_api/api",g="#0d9488";console.log("TrolleySettings - Component mounted with ID:",e);const b=_=>_?.trim()||g,j=_=>_?typeof _=="object"?_.id||_.Name||_.BtnName:typeof _=="string"?_:null:null,y=async _=>{const M=j(_);if(!M)return null;try{const A=await Dt(`${m}/buttons/${M}`);return{id:M,name:A.BtnName||_.Name||_.BtnName||_.id||_,color:b(A.Color),section:"car"}}catch(A){return console.error(`Error fetching button ${M} details:`,A),{id:M,name:_.Name||_.BtnName||_.id||_,color:b(_.Color),section:"car"}}},w=async()=>{if(!e){h("No robot ID provided"),u(!1);return}try{u(!0),h(null),console.log("Fetching robot data for ID:",e);const _=await Dt(`${m}/robots/${e}`);console.log("Robot data received:",_),o(_);const M=[];if(_.isTrolley===1&&_.Sections?.car?.ActiveBtns){console.log("Found trolley buttons:",_.Sections.car.ActiveBtns);for(const A of _.Sections.car.ActiveBtns){const C=await y(A);C&&M.push(C)}}else console.log("No trolley buttons found. isTrolley:",_.isTrolley,"Sections.car:",_.Sections?.car);a(M)}catch(_){console.error("Error fetching data:",_),h(`Failed to load trolley data: ${_.message}`)}finally{u(!1)}};O.useEffect(()=>{e?(console.log("useEffect triggered with ID:",e),w()):(console.error("No ID found in useParams"),h("No robot ID provided in URL"),u(!1))},[e]);const v=_=>{const M=j(_);if(!M)return alert("Invalid button data (missing id or name)");console.log("Navigating to button:",M),t(`/homeDashboard/trolleySettings/${e}/button/${M}`)},N=()=>{console.log("Adding new button for trolley"),t(`/homeDashboard/trolleySettings/${e}/button/new`)},S=()=>{t(-1)};return c?d.jsx("div",{className:"flex justify-center items-center h-screen text-gray-600",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-main-color mx-auto mb-4"}),"Loading trolley data..."]})}):f?d.jsxs("div",{className:"min-h-screen bg-gray-50 p-6 flex flex-col",children:[d.jsx("div",{className:"w-full max-w-4xl mx-auto mb-6",children:d.jsxs(He,{onClick:S,className:"flex items-center gap-2 bg-main-color text-white hover:bg-white hover:text-main-color border border-main-color transition-all duration-200",children:[d.jsx(mn,{size:18})," Back"]})}),d.jsxs("div",{className:"max-w-2xl mx-auto bg-white rounded-2xl shadow-lg p-8 text-center",children:[d.jsx(Hb,{size:48,className:"mx-auto text-red-500 mb-4"}),d.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error Loading Trolley Settings"}),d.jsx("p",{className:"text-gray-600 mb-6",children:f}),d.jsx(He,{onClick:w,className:"bg-main-color text-white",children:"Try Again"})]})]}):d.jsxs("div",{className:"min-h-screen bg-gray-50 p-6 flex flex-col",children:[d.jsx("div",{className:"w-full max-w-4xl mx-auto mb-6",children:d.jsxs(He,{onClick:S,className:"flex items-center gap-2 bg-main-color text-white hover:bg-white hover:text-main-color border border-main-color transition-all duration-200",children:[d.jsx(mn,{size:18})," Back"]})}),d.jsxs("h1",{className:"text-3xl font-bold text-center mb-10 text-gray-800",children:[s?.RobotName," - Trolley Settings"]}),d.jsxs("div",{className:"max-w-4xl mx-auto space-y-10",children:[d.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-lg border border-gray-100",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("h3",{className:"text-2xl font-bold text-purple-700 mb-2",children:"Trolley Buttons"}),d.jsxs("p",{className:"text-gray-500",children:["Total buttons: ",i.length]})]}),i.length>0?d.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:i.map(_=>d.jsx(He,{onClick:()=>v(_),style:{backgroundColor:_.color,color:"#fff",border:`2px solid ${_.color}`},className:"px-6 py-3 rounded-xl text-base font-semibold shadow-md hover:shadow-lg transition-all duration-200 min-w-[100px] hover:scale-105 cursor-pointer",children:_.name},_.id))}):d.jsxs("div",{className:"text-center py-8",children:[d.jsx("p",{className:"text-gray-500 mb-4",children:"No active buttons for trolley"}),d.jsx("p",{className:"text-sm text-gray-400",children:"The robot exists but doesn't have trolley buttons configured."})]})]}),d.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-lg border border-gray-100 max-w-lg mx-auto",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("h3",{className:"text-2xl font-bold text-purple-700 mb-2",children:"Add New Trolley Button"}),d.jsx("p",{className:"text-gray-500",children:"Add a new button to the trolley section"})]}),d.jsxs("div",{className:"flex flex-col items-center gap-5",children:[d.jsx("div",{className:"text-center",children:d.jsx("p",{className:"text-gray-600 mb-4",children:"Create custom buttons for your trolley with specific operations and colors."})}),d.jsx("div",{className:"flex gap-3 justify-center mt-4",children:d.jsxs(He,{onClick:N,className:"flex items-center justify-center gap-2 rounded-xl px-6 py-3 bg-purple-600 text-white border-2 border-purple-600 hover:bg-purple-700 transition-all cursor-pointer",children:[d.jsx(Qd,{size:18})," Add New Trolley Button"]})})]})]})]})]})}function iz(){const{id:e}=Mr(),t=qt(),[s,o]=O.useState(null),i="http://localhost/robots_api/api";return O.useEffect(()=>{(async()=>{try{const c=await Dt(`${i}/users/${e}`),u=Array.isArray(c)?c[0]:c;o(u),console.log("User details:",u)}catch(c){console.error("Error fetching user:",c)}})()},[e]),s?d.jsx(ct.div,{className:"p-8 flex flex-col items-center justify-center min-h-screen bg-gray-50",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:d.jsxs("div",{className:"bg-white shadow-xl rounded-2xl p-8 max-w-md w-full border border-gray-200",children:[d.jsx("img",{src:s.avatar||ua,alt:s.Username,className:"w-32 h-32 rounded-full object-cover mx-auto border-4 border-main-color shadow-md mb-6"}),d.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-2",children:s.Username}),d.jsxs("div",{className:"text-sm text-gray-700 space-y-2",children:[d.jsxs("p",{children:[d.jsx("strong",{className:"text-main-color",children:"Project:"})," ",s.ProjectName]}),d.jsxs("p",{children:[d.jsx("strong",{className:"text-main-color",children:"Phone:"})," ",s.TelephoneNumber]}),d.jsxs("p",{children:[d.jsx("strong",{className:"text-main-color",children:"Password:"})," ",s.Password]}),d.jsxs("p",{className:"text-center text-gray-500 mb-6",children:[d.jsx("strong",{className:"text-main-color",children:"Email:"})," ",s.Email]})]}),d.jsxs(He,{onClick:()=>t(-1),className:"mt-8 w-full flex items-center justify-center gap-2 bg-main-color text-white hover:bg-white hover:text-main-color border border-main-color rounded-xl transition-all",children:[d.jsx(mn,{size:18})," Back"]})]})}):d.jsx("div",{className:"p-10 text-center text-gray-600",children:"Loading user data..."})}function g0({mainData:e={},updateMainSection:t=()=>{},robotName:s="",updateRobotName:o=()=>{},imagePreview:i=null,updateImage:a=()=>{},fixedFields:c=!1}){const[u,f]=O.useState(!1),h=b=>{const j=b.target.files?.[0];if(!j)return;const y=URL.createObjectURL(j);a(j,y)},m=(b,j)=>{t({[b]:j})},g=()=>{f(!u)};return d.jsx("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-md p-6 transition hover:shadow-lg",children:d.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[d.jsx("div",{className:"flex flex-col items-center md:items-start w-full md:w-1/3",children:d.jsxs("div",{className:"relative group",children:[d.jsx("img",{src:i||"/assets/placeholder-robot.jpg",alt:"robot",className:"w-48 h-40 object-cover rounded-xl border border-gray-200 shadow-sm"}),d.jsxs("label",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 bg-main-color text-white text-xs px-3 py-1 rounded-full cursor-pointer flex items-center gap-1",children:[d.jsx(Yd,{size:14})," Upload",d.jsx("input",{type:"file",accept:"image/*",onChange:h,className:"hidden"})]})]})}),d.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("label",{className:"text-xs text-gray-500 mb-1",children:"Robot Name"}),d.jsx("input",{type:"text",value:s,onChange:b=>o(b.target.value),className:"border border-gray-200 bg-gray-50 rounded-lg p-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-main-color",placeholder:"Enter robot name"})]}),d.jsx($u,{label:"MQTT URL",value:e.mqttUrl||"",onChange:b=>m("mqttUrl",b),placeholder:"Enter MQTT URL for robot"}),d.jsx($u,{label:"MQTT Username",value:e.mqttUsername||"",onChange:b=>m("mqttUsername",b),placeholder:"Enter MQTT username for robot"}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("label",{className:"text-xs text-gray-500 mb-1",children:"MQTT Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:u?"text":"password",value:e.mqttPassword||"",onChange:b=>m("mqttPassword",b.target.value),placeholder:"Enter MQTT password for robot",className:"border border-gray-200 rounded-lg p-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-main-color w-full pr-10"}),d.jsx("button",{type:"button",onClick:g,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors",children:u?d.jsx(ns,{size:16}):d.jsx(zn,{size:16})})]})]}),d.jsx($u,{label:"Topic Subscribe",value:e.Topic_subscribe||"",onChange:b=>m("Topic_subscribe",b),placeholder:"Enter subscribe topic"}),d.jsx($u,{label:"Topic Publisher",value:e.Topic_main||"",onChange:b=>m("Topic_main",b),placeholder:"Enter publisher topic"})]})]})})}function $u({label:e,value:t,onChange:s,type:o="text",placeholder:i=""}){return d.jsxs("div",{className:"flex flex-col",children:[d.jsx("label",{className:"text-xs text-gray-500 mb-1",children:e}),d.jsx("input",{type:o,value:t,onChange:a=>s(a.target.value),placeholder:i,className:"border border-gray-200 rounded-lg p-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-main-color"})]})}function qT({carData:e={},updateCarSection:t=()=>{},imagePreview:s=null,updateImage:o=()=>{}}){const[i,a]=O.useState(!1),c=h=>{const m=h.target.files?.[0];if(!m)return;const g=URL.createObjectURL(m);o(m,g)},u=(h,m)=>{t({[h]:m})},f=()=>{a(!i)};return d.jsx("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-md p-6 transition hover:shadow-lg",children:d.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[d.jsx("div",{className:"flex flex-col items-center md:items-start w-full md:w-1/3",children:d.jsxs("div",{className:"relative group",children:[d.jsx("img",{src:s||"/assets/placeholder-trolley.jpg",alt:"trolley",className:"w-48 h-40 object-cover rounded-xl border border-gray-200 shadow-sm"}),d.jsxs("label",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 bg-main-color text-white text-xs px-3 py-1 rounded-full cursor-pointer flex items-center gap-1 hover:bg-main-color-dark transition-colors",children:[d.jsx(Yd,{size:14})," Upload",d.jsx("input",{type:"file",accept:"image/*",onChange:c,className:"hidden"})]})]})}),d.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-4",children:[d.jsx(zu,{label:"MQTT URL",value:e.mqttUrl||"",onChange:h=>u("mqttUrl",h),placeholder:"Enter MQTT URL for trolley"}),d.jsx(zu,{label:"MQTT Username",value:e.mqttUsername||"",onChange:h=>u("mqttUsername",h),placeholder:"Enter MQTT username for trolley"}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("label",{className:"text-xs text-gray-500 mb-1",children:"MQTT Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:i?"text":"password",value:e.mqttPassword||"",onChange:h=>u("mqttPassword",h.target.value),placeholder:"Enter MQTT password for trolley",className:"border border-gray-200 rounded-lg p-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-main-color w-full pr-10"}),d.jsx("button",{type:"button",onClick:f,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors",children:i?d.jsx(ns,{size:16}):d.jsx(zn,{size:16})})]})]}),d.jsx(zu,{label:"Topic Subscribe",value:e.Topic_subscribe||"",onChange:h=>u("Topic_subscribe",h),placeholder:"Enter subscribe topic"}),d.jsx(zu,{label:"Topic Publisher",value:e.Topic_main||"",onChange:h=>u("Topic_main",h),placeholder:"Enter publisher topic"})]})]})})}function zu({label:e,value:t,onChange:s,type:o="text",placeholder:i=""}){return d.jsxs("div",{className:"flex flex-col",children:[d.jsx("label",{className:"text-xs text-gray-500 mb-1",children:e}),d.jsx("input",{type:o,value:t,onChange:a=>s(a.target.value),placeholder:i,className:"border border-gray-200 rounded-lg p-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-main-color"})]})}function az(){const e=qt(),{id:t}=Mr(),s="http://localhost/robots_api/api",o="http://localhost/robots_api/uploads",[i,a]=O.useState(null),[c,u]=O.useState(!0),[f,h]=O.useState(!1),[m,g]=O.useState(!1),[b,j]=O.useState(""),y="#aoxns@343.",w=()=>{b===y?(g(!0),qe.success("Robot section has been successfully opened."),j("")):(qe.error("Incorrect password"),j(""))};O.useEffect(()=>{t&&(async()=>{try{u(!0),console.log("Fetching robot with ID:",t);const C=await Dt(`${s}/robots.php/${t}`);if(console.log("Fetched robot data:",C),!C||Object.keys(C).length===0)throw new Error("No robot data found");const R=C.Sections?.main||{},k=C.Sections?.car||{};console.log("Main section:",R),console.log("Car section:",k);const U={RobotName:C.RobotName||"",originalImage:C.Image||null,Image:null,imagePreview:C.Image?`${o}/${C.Image}`:"/assets/placeholder-robot.jpg",isTrolley:C.isTrolley==1||C.isTrolley==="true"||C.isTrolley===!0,Sections:{main:{Voltage:R.Voltage||"",Cycles:R.Cycles||"",Status:R.Status||"Stopped",Topic_subscribe:R.Topic_subscribe||"",Topic_main:R.Topic_main||"",mqttUrl:R.mqttUrl||"",mqttUsername:R.mqttUsername||"",mqttPassword:R.mqttPassword||""},car:null}};U.isTrolley&&k&&(U.Sections.car={Voltage:k.Voltage||"",Cycles:k.Cycles||"",Status:k.Status||"Stopped",Topic_subscribe:k.Topic_subscribe||"",Topic_main:k.Topic_main||"",mqttUrl:k.mqttUrl||"",mqttUsername:k.mqttUsername||"",mqttPassword:k.mqttPassword||""}),console.log("Processed robot:",U),a(U)}catch(C){console.error("Error fetching robot:",C),qe.error("Failed to load robot data.")}finally{u(!1)}})()},[t,s,o]);const v=A=>{console.log("Updating robot name to:",A),a(C=>({...C,RobotName:A}))},N=(A,C)=>{console.log("Updating image:",A,C),a(R=>({...R,Image:A,imagePreview:C}))},S=A=>{const{Voltage:C,Cycles:R,Status:k,...U}=A;console.log("Updating main section (filtered):",U),a(L=>({...L,Sections:{...L.Sections,main:{...L.Sections.main,...U,Voltage:L.Sections.main.Voltage,Cycles:L.Sections.main.Cycles,Status:L.Sections.main.Status}}}))},_=A=>{const{Voltage:C,Cycles:R,Status:k,...U}=A;console.log("Updating car section (filtered):",U),a(L=>({...L,Sections:{...L.Sections,car:{...L.Sections.car||{},...U,Voltage:L.Sections.car?.Voltage||"",Cycles:L.Sections.car?.Cycles||"",Status:L.Sections.car?.Status||"Stopped"}}}))},M=async()=>{if(!i?.RobotName){qe.warning("Please enter robot name");return}if(!i.Sections?.main?.mqttUrl){qe.warning("Please enter MQTT URL for Robot");return}h(!0);try{const A=new FormData;A.append("RobotName",i.RobotName),A.append("isTrolley",i.isTrolley?"1":"0"),A.append("_method","PUT"),i.Image instanceof File?(A.append("Image",i.Image),console.log("Sending new image file:",i.Image.name)):i.originalImage&&(A.append("Image",i.originalImage),console.log("Keeping original image:",i.originalImage));const C={main:{Voltage:i.Sections.main.Voltage||"",Cycles:i.Sections.main.Cycles||"",Status:i.Sections.main.Status||"Stopped",Topic_subscribe:i.Sections.main.Topic_subscribe||"",Topic_main:i.Sections.main.Topic_main||"",mqttUrl:i.Sections.main.mqttUrl||"",mqttUsername:i.Sections.main.mqttUsername||"",mqttPassword:i.Sections.main.mqttPassword||""}};i.isTrolley&&i.Sections.car?C.car={Voltage:i.Sections.car.Voltage||"",Cycles:i.Sections.car.Cycles||"",Status:i.Sections.car.Status||"Stopped",Topic_subscribe:i.Sections.car.Topic_subscribe||"",Topic_main:i.Sections.car.Topic_main||"",mqttUrl:i.Sections.car.mqttUrl||"",mqttUsername:i.Sections.car.mqttUsername||"",mqttPassword:i.Sections.car.mqttPassword||""}:i.isTrolley||(C.car=null),A.append("Sections",JSON.stringify(C)),console.log("=== SENDING DATA TO SERVER ==="),console.log("RobotName:",i.RobotName),console.log("isTrolley:",i.isTrolley?"1":"0"),console.log("Sections:",C),console.log("FormData contents:");for(let[U,L]of A.entries())console.log(`${U}:`,L instanceof File?`File: ${L.name}`:L);const k=await(await fetch(`${s}/robots.php/${t}`,{method:"POST",body:A})).json();console.log("Update response:",k),k?.message?.toLowerCase().includes("success")?(qe.success("Robot updated successfully!"),e(-1)):qe.error(k.message||"Failed to update robot info.")}catch(A){console.error("Update error:",A),qe.error("Error while updating robot.")}finally{h(!1)}};return c?d.jsx(OT,{}):i?d.jsx(ct.div,{className:"min-h-screen bg-gray-50 p-6 sm:p-10",initial:{opacity:0,y:8},animate:{opacity:1,y:0},children:d.jsxs("div",{className:"max-w-5xl mx-auto space-y-10",children:[d.jsxs("div",{className:"flex items-center justify-between max-md:flex-col max-md:items-start max-md:gap-3",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-main-color",children:"Edit Robot"}),d.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Robot ID: ",d.jsx("span",{className:"font-mono",children:t})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(He,{onClick:()=>e(-1),className:"bg-white border text-main-color",children:"Cancel"}),d.jsx(He,{onClick:M,disabled:f,className:"bg-main-color text-white",children:f?"Saving...":"Update Robot"})]})]}),i.isTrolley&&i.Sections.car&&d.jsxs("section",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-main-color mb-2",children:"Trolley Control"}),d.jsx(qT,{carData:i.Sections.car,updateCarSection:_,imagePreview:i.imagePreview,updateImage:N})]}),d.jsxs("section",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-main-color mb-2",children:"Robot"}),d.jsx("div",{className:"mt-5 space-y-6",children:m?d.jsx(g0,{mainData:i.Sections.main,updateMainSection:S,robotName:i.RobotName,updateRobotName:v,imagePreview:i.imagePreview,updateImage:N}):d.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg border border-gray-200",children:[d.jsx("h3",{className:"text-lg font-semibold text-main-color mb-4",children:"Enter the password to access the robot control"}),d.jsxs("div",{className:"flex max-md:flex-col gap-3 items-center",children:[d.jsx("input",{type:"password",value:b,onChange:A=>j(A.target.value),placeholder:"Enter the password",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-main-color",onKeyPress:A=>{A.key==="Enter"&&w()}}),d.jsx(He,{onClick:w,className:"bg-main-color text-white",children:"open"})]})]})})]})]})}):d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Robot not found"})}function lz(){const e=qt(),{id:t}=Mr();vr();const s="http://localhost/robots_api/api",[o,i]=O.useState({RobotName:"",Image:null,imagePreview:null,projectId:t||"",isTrolley:!1,Sections:{main:{Voltage:"0",Cycles:"0",Status:"stopped",ActiveBtns:[],Topic_subscribe:"",Topic_main:"",mqttUrl:"",mqttUsername:"",mqttPassword:""}}}),[a,c]=O.useState(!1),[u,f]=O.useState(!1),[h,m]=O.useState(""),g="#aoxns@343.",b=()=>{h===g?(f(!0),Lt.success("Robot section has been successfully opened."),m("")):(Lt.error("Incorrect password"),m(""))},j=N=>{const{Voltage:S,Cycles:_,Status:M,...A}=N;i(C=>({...C,Sections:{...C.Sections,main:{...C.Sections.main,...A,Voltage:"0",Cycles:"0",Status:"stopped"}}}))},y=N=>{i(S=>({...S,RobotName:N}))},w=(N,S)=>{i(_=>({..._,Image:N,imagePreview:S}))},v=async()=>{if(!o.RobotName.trim())return Lt.error("Please enter a robot name!");if(!o.Sections.main.mqttUrl.trim())return Lt.error("Please enter MQTT URL for Robot!");if(!o.projectId)return Lt.error("Project ID is missing!");c(!0);try{const N=new FormData;N.append("RobotName",o.RobotName.trim()),N.append("projectId",o.projectId),N.append("isTrolley",o.isTrolley?1:0);const S={main:{...o.Sections.main,Voltage:"0",Cycles:"0",Status:"stopped"}};N.append("Sections",JSON.stringify(S)),o.Image&&N.append("Image",o.Image);const M=await(await fetch(`${s}/robots`,{method:"POST",body:N})).json();M.success||M.message?.toLowerCase().includes("success")?(Lt.success("Robot added successfully!"),e(-1)):Lt.error(M.message||"Something went wrong!")}catch(N){console.error(" Error saving robot:",N),Lt.error("Failed to save robot.")}finally{c(!1)}};return d.jsx(ct.div,{className:"min-h-screen bg-gray-50 p-6 sm:p-10",initial:{opacity:0},animate:{opacity:1},children:d.jsxs("div",{className:"max-w-5xl mx-auto space-y-10",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-main-color",children:"Add Robot"}),d.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Project ID: ",d.jsx("span",{className:"font-mono",children:t||"-"})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(He,{onClick:()=>e(-1),className:"bg-white border text-main-color",disabled:a,children:"Cancel"}),d.jsx(He,{onClick:v,className:"bg-main-color text-white hover:bg-main-color/90",disabled:a,children:a?"Saving...":"Save"})]})]}),d.jsxs("section",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[d.jsx("div",{className:"flex items-start justify-between gap-4 mb-4",children:d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-main-color",children:"Robot"}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Robot settings, controls & logs"})]})}),d.jsx("div",{className:"mt-5 space-y-6",children:u?d.jsx(g0,{mainData:o.Sections.main,updateMainSection:j,robotName:o.RobotName,updateRobotName:y,imagePreview:o.imagePreview,updateImage:w,fixedFields:!0}):d.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg border border-gray-200",children:[d.jsxs("h3",{className:"text-lg font-semibold text-main-color mb-4",children:["Enter the password to access the robot control"," "]}),d.jsxs("div",{className:"flex gap-3 items-center",children:[d.jsx("input",{type:"password",value:h,onChange:N=>m(N.target.value),placeholder:"Enter the password",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-main-color",onKeyPress:N=>{N.key==="Enter"&&b()}}),d.jsx(He,{onClick:b,className:"bg-main-color text-white",children:"open"})]})]})})]})]})})}function cz(){const e=qt(),{id:t}=Mr(),s=vr(),[o,i]=O.useState(!1),c=(s.state?.type||"withTrolley")==="withTrolley",u="http://localhost/robots_api/api",[f,h]=O.useState({RobotName:"",Image:null,imagePreview:null,Sections:{main:{Voltage:"0",Cycles:"0",Status:"stopped",ActiveBtns:[],Topic_subscribe:"",Topic_main:"",mqttUrl:"",mqttUsername:"",mqttPassword:""},car:c?{Voltage:"0",Cycles:"0",Status:"stopped",ActiveBtns:[],Topic_subscribe:"",Topic_main:"",mqttUrl:"",mqttUsername:"",mqttPassword:""}:{}}}),[m,g]=O.useState(!1),[b,j]=O.useState(""),y="#aoxns@343.",w=()=>{b===y?(g(!0),qe.success("Robot section has been successfully opened."),j("")):(qe.error("Incorrect password"),j(""))},v=async()=>{if(!f.RobotName)return qe.warning("Please enter robot name");if(!f.Sections.main.mqttUrl)return qe.warning("Please enter MQTT URL for Robot");i(!0);try{const A=new FormData;A.append("RobotName",f.RobotName),A.append("projectId",Number(t)),A.append("isTrolley",c?1:0);const C={main:{...f.Sections.main,Voltage:"0",Cycles:"0",Status:"stopped"}};c&&(C.car={...f.Sections.car,Voltage:"0",Cycles:"0",Status:"stopped"}),A.append("Sections",JSON.stringify(C)),f.Image&&A.append("Image",f.Image);const k=await(await fetch(`${u}/robots`,{method:"POST",body:A})).json();k.success||k.message?.toLowerCase().includes("success")?(qe.success("Robot saved successfully!"),e(-1)):qe.error(k.message||"Failed to save robot.")}catch(A){console.error("Save error:",A),qe.error("Failed to save robot.")}finally{i(!1)}},N=A=>{const{Voltage:C,Cycles:R,Status:k,...U}=A;h(L=>({...L,Sections:{...L.Sections,main:{...L.Sections.main,...U,Voltage:"0",Cycles:"0",Status:"stopped"}}}))},S=A=>{const{Voltage:C,Cycles:R,Status:k,...U}=A;h(L=>({...L,Sections:{...L.Sections,car:{...L.Sections.car,...U,Voltage:"0",Cycles:"0",Status:"stopped"}}}))},_=A=>{h(C=>({...C,RobotName:A}))},M=(A,C)=>{h(R=>({...R,Image:A,imagePreview:C}))};return d.jsx(ct.div,{className:"min-h-screen bg-gray-50 p-6 sm:p-10",initial:{opacity:0,y:8},animate:{opacity:1,y:0},children:d.jsxs("div",{className:"max-w-5xl mx-auto space-y-10",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-main-color",children:"Add Robot"}),d.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Project ID: ",d.jsx("span",{className:"font-mono",children:t||"-"})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(He,{onClick:()=>e(-1),className:"bg-white border text-main-color",children:"Cancel"}),d.jsx(He,{onClick:v,className:"bg-main-color text-white",children:"Save"})]})]}),c&&d.jsxs("section",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[d.jsx("div",{className:"flex items-start justify-between gap-4 mb-4",children:d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-main-color",children:"Trolley Control"}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage trolley controls, schedule and logs"})]})}),d.jsx("div",{className:"mt-5 space-y-6",children:d.jsx(qT,{carData:f.Sections.car,updateCarSection:S,imagePreview:f.imagePreview,updateImage:M,fixedFields:!0})})]}),d.jsxs("section",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[d.jsx("div",{className:"flex items-start justify-between gap-4 mb-4",children:d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-main-color",children:"Robot"}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Robot settings, controls & logs"})]})}),d.jsx("div",{className:"mt-5 space-y-6",children:m?d.jsx(g0,{mainData:f.Sections.main,updateMainSection:N,robotName:f.RobotName,updateRobotName:_,imagePreview:f.imagePreview,updateImage:M,fixedFields:!0}):d.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg border border-gray-200",children:[d.jsxs("h3",{className:"text-lg font-semibold text-main-color mb-4",children:["Enter the password to access the robot control"," "]}),d.jsxs("div",{className:"flex gap-3 items-center",children:[d.jsx("input",{type:"password",value:b,onChange:A=>j(A.target.value),placeholder:"Enter the password",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-main-color",onKeyPress:A=>{A.key==="Enter"&&w()}}),d.jsx(He,{onClick:w,className:"bg-main-color text-white",children:"open"})]})]})})]})]})})}const uz=[{id:1,title:"AI Control System",description:"An intelligent system that manages robot behaviors autonomously.",image:ua,location:"Cairo, Egypt"},{id:2,title:"Robot Navigation",description:"Developing pathfinding algorithms for indoor environments.",image:ua,location:"Dubai, UAE"},{id:3,title:"Sensor Upgrade",description:"Upgrading sensors for higher precision and better obstacle detection.",image:ua,location:"Berlin, Germany"}];function dz(){const e=uz;return d.jsx(V8,{children:d.jsxs(ib,{children:[d.jsx(At,{index:!0,element:d.jsx(q8,{projects:e})}),d.jsx(At,{path:"projectDetails/:id",element:d.jsx(G8,{projects:e})}),d.jsx(At,{path:"robotDetails/:id",element:d.jsx(J8,{})}),d.jsx(At,{path:"projectForm",element:d.jsx(DN,{})}),d.jsx(At,{path:"projectForm/:id",element:d.jsx(DN,{})}),d.jsx(At,{path:"addRobotw/:id",element:d.jsx(cz,{})}),d.jsx(At,{path:"addRobotOnly/:id",element:d.jsx(lz,{})}),d.jsx(At,{path:"allUsers",element:d.jsx(r$,{})}),d.jsx(At,{path:"user/:id",element:d.jsx(iz,{})}),d.jsx(At,{path:"adduser",element:d.jsx(zy,{})}),d.jsx(At,{path:"edituser/:id",element:d.jsx(zy,{})}),d.jsx(At,{path:"addRobot/:id",element:d.jsx(s$,{})}),d.jsx(At,{path:"editRobot/:id",element:d.jsx(az,{})}),d.jsx(At,{path:"robotSettings/:id",element:d.jsx(o$,{})}),d.jsx(At,{path:"trolleySettings/:id",element:d.jsx(oz,{})}),d.jsx(At,{path:"robotSettings/:id/button/:buttonId",element:d.jsx($N,{})}),d.jsx(At,{path:"trolleySettings/:id/button/:buttonId",element:d.jsx($N,{})})]})})}let $d,zN;try{$d=require("../pages/Loading").default,zN=require("../pages/NotFound").default}catch{$d=()=>d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}),zN=()=>d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Page Not Found"})}function Fu({children:e}){return d.jsxs("div",{className:"flex flex-col min-h-screen bg-white",children:[d.jsx(Fm,{}),d.jsx("main",{className:"flex-1 w-full",children:e}),d.jsx(s8,{})]})}function am({children:e}){return d.jsx("div",{className:"min-h-screen bg-white",children:e})}function fz(){const{isAuthenticated:e,userRole:t,isLoading:s}=ci();if(s)return d.jsx(am,{children:d.jsx($d,{})});const i=t==="admin"?"/homeDashboard":"/robots";return d.jsxs(ib,{children:[d.jsx(At,{path:"/login",element:e?d.jsx(kp,{to:i,replace:!0}):d.jsx(am,{children:d.jsx(IB,{})})}),d.jsx(At,{path:"/loading",element:d.jsx(am,{children:d.jsx($d,{})})}),e?d.jsxs(d.Fragment,{children:[t==="user"&&d.jsxs(d.Fragment,{children:[d.jsx(At,{path:"/",element:d.jsx(Fu,{children:d.jsx(GS,{})})}),d.jsx(At,{path:"/home",element:d.jsx(Fu,{children:d.jsx(GS,{})})}),d.jsx(At,{path:"/robots",element:d.jsx(Fu,{children:d.jsx($B,{})})}),d.jsx(At,{path:"/robots/:id",element:d.jsx(Fu,{children:d.jsx(n8,{})})})]}),d.jsx(At,{path:"/homeDashboard/*",element:d.jsx(dz,{})}),d.jsx(At,{path:"*",element:d.jsx(kp,{to:i,replace:!0})})]}):d.jsx(At,{path:"*",element:d.jsx(kp,{to:"/login",replace:!0})})]})}function hz(){const{connectionCount:e,connectedCount:t,activeConnections:s,reconnectAll:o}=df(),{userRole:i,isAuthenticated:a}=ci();if(!a||i!=="admin")return null;if(e===0)return d.jsxs("div",{style:{position:"fixed",bottom:"20px",right:"20px",backgroundColor:"#EF4444",color:"white",padding:"8px 16px",borderRadius:"20px",fontSize:"12px",zIndex:9999,display:"flex",alignItems:"center",gap:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",cursor:"pointer"},onClick:o,title:"Click to reconnect",children:[d.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#DC2626"}}),d.jsx("span",{children:"No MQTT connections"})]});const c=t===e?"All connections active":`${t}/${e} connections active`;return d.jsxs("div",{style:{position:"fixed",bottom:"20px",right:"20px",backgroundColor:t===e?"#10B981":"#F59E0B",color:"white",padding:"8px 16px",borderRadius:"20px",fontSize:"12px",zIndex:9999,display:"flex",alignItems:"center",gap:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",cursor:"pointer"},onClick:o,title:"Click to reconnect all connections",children:[d.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:t===e?"#34D399":"#FBBF24",animation:t===e?"pulse 2s infinite":"none"}}),d.jsxs("span",{children:["MQTT: ",c]})]})}function pz(){return d.jsx(hO,{children:d.jsx(rO,{children:d.jsxs(QL,{children:[d.jsx(fz,{}),d.jsx(qM,{position:"top-center",richColors:!0}),d.jsx(hz,{})]})})})}var mf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},mz={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},gz=class{#e=mz;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},Qy=new gz;function yz(e){setTimeout(e,0)}var gf=typeof window>"u"||"Deno"in globalThis;function Un(){}function bz(e,t){return typeof e=="function"?e(t):e}function xz(e){return typeof e=="number"&&e>=0&&e!==1/0}function vz(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Yy(e,t){return typeof e=="function"?e(t):e}function wz(e,t){return typeof e=="function"?e(t):e}function FN(e,t){const{type:s="all",exact:o,fetchStatus:i,predicate:a,queryKey:c,stale:u}=e;if(c){if(o){if(t.queryHash!==y0(c,t.options))return!1}else if(!Ql(t.queryKey,c))return!1}if(s!=="all"){const f=t.isActive();if(s==="active"&&!f||s==="inactive"&&f)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||i&&i!==t.state.fetchStatus||a&&!a(t))}function VN(e,t){const{exact:s,status:o,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(s){if(Kl(t.options.mutationKey)!==Kl(a))return!1}else if(!Ql(t.options.mutationKey,a))return!1}return!(o&&t.state.status!==o||i&&!i(t))}function y0(e,t){return(t?.queryKeyHashFn||Kl)(e)}function Kl(e){return JSON.stringify(e,(t,s)=>Xy(s)?Object.keys(s).sort().reduce((o,i)=>(o[i]=s[i],o),{}):s)}function Ql(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>Ql(e[s],t[s])):!1}var Sz=Object.prototype.hasOwnProperty;function HT(e,t){if(e===t)return e;const s=qN(e)&&qN(t);if(!s&&!(Xy(e)&&Xy(t)))return t;const i=(s?e:Object.keys(e)).length,a=s?t:Object.keys(t),c=a.length,u=s?new Array(c):{};let f=0;for(let h=0;h<c;h++){const m=s?h:a[h],g=e[m],b=t[m];if(g===b){u[m]=g,(s?h<i:Sz.call(e,m))&&f++;continue}if(g===null||b===null||typeof g!="object"||typeof b!="object"){u[m]=b;continue}const j=HT(g,b);u[m]=j,j===g&&f++}return i===c&&f===i?e:u}function qN(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Xy(e){if(!HN(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!HN(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function HN(e){return Object.prototype.toString.call(e)==="[object Object]"}function jz(e){return new Promise(t=>{Qy.setTimeout(t,e)})}function Nz(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?HT(e,t):t}function _z(e,t,s=0){const o=[...e,t];return s&&o.length>s?o.slice(1):o}function Ez(e,t,s=0){const o=[t,...e];return s&&o.length>s?o.slice(0,-1):o}var b0=Symbol();function GT(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===b0?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Az=class extends mf{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!gf&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},WT=new Az;function Tz(){let e,t;const s=new Promise((i,a)=>{e=i,t=a});s.status="pending",s.catch(()=>{});function o(i){Object.assign(s,i),delete s.resolve,delete s.reject}return s.resolve=i=>{o({status:"fulfilled",value:i}),e(i)},s.reject=i=>{o({status:"rejected",reason:i}),t(i)},s}var Cz=yz;function Rz(){let e=[],t=0,s=u=>{u()},o=u=>{u()},i=Cz;const a=u=>{t?e.push(u):i(()=>{s(u)})},c=()=>{const u=e;e=[],u.length&&i(()=>{o(()=>{u.forEach(f=>{s(f)})})})};return{batch:u=>{let f;t++;try{f=u()}finally{t--,t||c()}return f},batchCalls:u=>(...f)=>{a(()=>{u(...f)})},schedule:a,setNotifyFunction:u=>{s=u},setBatchNotifyFunction:u=>{o=u},setScheduler:u=>{i=u}}}var zr=Rz(),Mz=class extends mf{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!gf&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},zd=new Mz;function kz(e){return Math.min(1e3*2**e,3e4)}function KT(e){return(e??"online")==="online"?zd.isOnline():!0}var Zy=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function QT(e){let t=!1,s=0,o;const i=Tz(),a=()=>i.status!=="pending",c=w=>{if(!a()){const v=new Zy(w);b(v),e.onCancel?.(v)}},u=()=>{t=!0},f=()=>{t=!1},h=()=>WT.isFocused()&&(e.networkMode==="always"||zd.isOnline())&&e.canRun(),m=()=>KT(e.networkMode)&&e.canRun(),g=w=>{a()||(o?.(),i.resolve(w))},b=w=>{a()||(o?.(),i.reject(w))},j=()=>new Promise(w=>{o=v=>{(a()||h())&&w(v)},e.onPause?.()}).then(()=>{o=void 0,a()||e.onContinue?.()}),y=()=>{if(a())return;let w;const v=s===0?e.initialPromise:void 0;try{w=v??e.fn()}catch(N){w=Promise.reject(N)}Promise.resolve(w).then(g).catch(N=>{if(a())return;const S=e.retry??(gf?0:3),_=e.retryDelay??kz,M=typeof _=="function"?_(s,N):_,A=S===!0||typeof S=="number"&&s<S||typeof S=="function"&&S(s,N);if(t||!A){b(N);return}s++,e.onFail?.(s,N),jz(M).then(()=>h()?void 0:j()).then(()=>{t?b(N):y()})})};return{promise:i,status:()=>i.status,cancel:c,continue:()=>(o?.(),i),cancelRetry:u,continueRetry:f,canStart:m,start:()=>(m()?y():j().then(y),i)}}var YT=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),xz(this.gcTime)&&(this.#e=Qy.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(gf?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Qy.clearTimeout(this.#e),this.#e=void 0)}},Oz=class extends YT{#e;#t;#r;#a;#s;#p;#o;constructor(e){super(),this.#o=!1,this.#p=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#r=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=GN(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){if(this.options={...this.#p,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=GN(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const s=Nz(this.state.data,e,this.options);return this.#c({data:s,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),s}setState(e,t){this.#c({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#s?.promise;return this.#s?.cancel(e),t?t.then(Un).catch(Un):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>wz(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===b0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Yy(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!vz(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#s&&(this.#o?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#c({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const u=this.observers.find(f=>f.options.queryFn);u&&this.setOptions(u.options)}const s=new AbortController,o=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#o=!0,s.signal)})},i=()=>{const u=GT(this.options,t),h=(()=>{const m={client:this.#a,queryKey:this.queryKey,meta:this.meta};return o(m),m})();return this.#o=!1,this.options.persister?this.options.persister(u,h,this):u(h)},c=(()=>{const u={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:i};return o(u),u})();this.options.behavior?.onFetch(c,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#c({type:"fetch",meta:c.fetchOptions?.meta}),this.#s=QT({initialPromise:t?.initialPromise,fn:c.fetchFn,onCancel:u=>{u instanceof Zy&&u.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(u,f)=>{this.#c({type:"failed",failureCount:u,error:f})},onPause:()=>{this.#c({type:"pause"})},onContinue:()=>{this.#c({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const u=await this.#s.start();if(u===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(u),this.#r.config.onSuccess?.(u,this),this.#r.config.onSettled?.(u,this.state.error,this),u}catch(u){if(u instanceof Zy){if(u.silent)return this.#s.promise;if(u.revert){if(this.state.data===void 0)throw u;return this.state.data}}throw this.#c({type:"error",error:u}),this.#r.config.onError?.(u,this),this.#r.config.onSettled?.(this.state.data,u,this),u}finally{this.scheduleGc()}}#c(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Dz(s.data,this.options),fetchMeta:e.meta??null};case"success":const o={...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?o:void 0,o;case"error":const i=e.error;return{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),zr.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function Dz(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:KT(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function GN(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,o=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}function WN(e){return{onFetch:(t,s)=>{const o=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,a=t.state.data?.pages||[],c=t.state.data?.pageParams||[];let u={pages:[],pageParams:[]},f=0;const h=async()=>{let m=!1;const g=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},b=GT(t.options,t.fetchOptions),j=async(y,w,v)=>{if(m)return Promise.reject();if(w==null&&y.pages.length)return Promise.resolve(y);const S=(()=>{const C={client:t.client,queryKey:t.queryKey,pageParam:w,direction:v?"backward":"forward",meta:t.options.meta};return g(C),C})(),_=await b(S),{maxPages:M}=t.options,A=v?Ez:_z;return{pages:A(y.pages,_,M),pageParams:A(y.pageParams,w,M)}};if(i&&a.length){const y=i==="backward",w=y?Pz:KN,v={pages:a,pageParams:c},N=w(o,v);u=await j(v,N,y)}else{const y=e??a.length;do{const w=f===0?c[0]??o.initialPageParam:KN(o,u);if(f>0&&w==null)break;u=await j(u,w),f++}while(f<y)}return u};t.options.persister?t.fetchFn=()=>t.options.persister?.(h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s):t.fetchFn=h}}}function KN(e,{pages:t,pageParams:s}){const o=t.length-1;return t.length>0?e.getNextPageParam(t[o],t,s[o],s):void 0}function Pz(e,{pages:t,pageParams:s}){return t.length>0?e.getPreviousPageParam?.(t[0],t,s[0],s):void 0}var Iz=class extends YT{#e;#t;#r;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#r=e.mutationCache,this.#t=[],this.state=e.state||Bz(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#s({type:"continue"})},s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=QT({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(a,c)=>{this.#s({type:"failed",failureCount:a,error:c})},onPause:()=>{this.#s({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const o=this.state.status==="pending",i=!this.#a.canStart();try{if(o)t();else{this.#s({type:"pending",variables:e,isPaused:i}),await this.#r.config.onMutate?.(e,this,s);const c=await this.options.onMutate?.(e,s);c!==this.state.context&&this.#s({type:"pending",context:c,variables:e,isPaused:i})}const a=await this.#a.start();return await this.#r.config.onSuccess?.(a,e,this.state.context,this,s),await this.options.onSuccess?.(a,e,this.state.context,s),await this.#r.config.onSettled?.(a,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(a,null,e,this.state.context,s),this.#s({type:"success",data:a}),a}catch(a){try{throw await this.#r.config.onError?.(a,e,this.state.context,this,s),await this.options.onError?.(a,e,this.state.context,s),await this.#r.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(void 0,a,e,this.state.context,s),a}finally{this.#s({type:"error",error:a})}}finally{this.#r.runNext(this)}}#s(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),zr.batch(()=>{this.#t.forEach(s=>{s.onMutationUpdate(e)}),this.#r.notify({mutation:this,type:"updated",action:e})})}};function Bz(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Uz=class extends mf{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(e,t,s){const o=new Iz({client:e,mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:s});return this.add(o),o}add(e){this.#e.add(e);const t=Vu(e);if(typeof t=="string"){const s=this.#t.get(t);s?s.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Vu(e);if(typeof t=="string"){const s=this.#t.get(t);if(s)if(s.length>1){const o=s.indexOf(e);o!==-1&&s.splice(o,1)}else s[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Vu(e);if(typeof t=="string"){const o=this.#t.get(t)?.find(i=>i.state.status==="pending");return!o||o===e}else return!0}runNext(e){const t=Vu(e);return typeof t=="string"?this.#t.get(t)?.find(o=>o!==e&&o.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){zr.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(s=>VN(t,s))}findAll(e={}){return this.getAll().filter(t=>VN(e,t))}notify(e){zr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return zr.batch(()=>Promise.all(e.map(t=>t.continue().catch(Un))))}};function Vu(e){return e.options.scope?.id}var Lz=class extends mf{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,s){const o=t.queryKey,i=t.queryHash??y0(o,t);let a=this.get(i);return a||(a=new Oz({client:e,queryKey:o,queryHash:i,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(o)}),this.add(a)),a}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){zr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>FN(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>FN(e,s)):t}notify(e){zr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){zr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){zr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},$z=class{#e;#t;#r;#a;#s;#p;#o;#c;constructor(e={}){this.#e=e.queryCache||new Lz,this.#t=e.mutationCache||new Uz,this.#r=e.defaultOptions||{},this.#a=new Map,this.#s=new Map,this.#p=0}mount(){this.#p++,this.#p===1&&(this.#o=WT.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#c=zd.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#p--,this.#p===0&&(this.#o?.(),this.#o=void 0,this.#c?.(),this.#c=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=this.#e.build(this,t),o=s.state.data;return o===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(Yy(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(o))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:s})=>{const o=s.data;return[t,o]})}setQueryData(e,t,s){const o=this.defaultQueryOptions({queryKey:e}),a=this.#e.get(o.queryHash)?.state.data,c=bz(t,a);if(c!==void 0)return this.#e.build(this,o).setData(c,{...s,manual:!0})}setQueriesData(e,t,s){return zr.batch(()=>this.#e.findAll(e).map(({queryKey:o})=>[o,this.setQueryData(o,t,s)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;zr.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=this.#e;return zr.batch(()=>(s.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},o=zr.batch(()=>this.#e.findAll(e).map(i=>i.cancel(s)));return Promise.all(o).then(Un).catch(Un)}invalidateQueries(e,t={}){return zr.batch(()=>(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},o=zr.batch(()=>this.#e.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,s);return s.throwOnError||(a=a.catch(Un)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(o).then(Un)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=this.#e.build(this,t);return s.isStaleByTime(Yy(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Un).catch(Un)}fetchInfiniteQuery(e){return e.behavior=WN(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Un).catch(Un)}ensureInfiniteQueryData(e){return e.behavior=WN(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return zd.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#a.set(Kl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],s={};return t.forEach(o=>{Ql(e,o.queryKey)&&Object.assign(s,o.defaultOptions)}),s}setMutationDefaults(e,t){this.#s.set(Kl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#s.values()],s={};return t.forEach(o=>{Ql(e,o.mutationKey)&&Object.assign(s,o.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=y0(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===b0&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},zz=O.createContext(void 0),Fz=({client:e,children:t})=>(O.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),d.jsx(zz.Provider,{value:e,children:t}));const Vz=new $z;mM.createRoot(document.getElementById("root")).render(d.jsx(O.StrictMode,{children:d.jsx(Fz,{client:Vz,children:d.jsx(pz,{})})}));
